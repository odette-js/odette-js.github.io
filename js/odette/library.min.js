Odette.definition(this,function(e,t,n){"use strict";function r(e,t){return this}var i,o=window,u=o.document,a="",s=" ",c="-",f=".",l=",",d="/",h="_",p=":",v=h+h,m=d+d,g="px",w=0+g,y="id",b="display",A="destroy",x="before",k="change",E=x+p,T=k+p,C=E+A,S="destroying",D="toString",M="toJSON",O="prototype",N="constructor",L="current",j="exports",I="application",R="name",P="type",_="finished",B="selector",H="element",V="child",U="none",q="hidden",F="target",W="origin",z="reset",G="data",J="parent",Q="length",X="object",Y="string",K="number",Z="boolean",ee="function",te="index",ne=te+"Of",re="window",ie="document",oe="stack",ue="start",ae="stop",se="class",ce=se+"Name",fe="top",le="left",de="right",he="bottom",pe="width",ve=v+"elid"+v,me="height",ge="item",we="innerHeight",ye="innerWidth",be="dispatchEvent",Ae="http",xe=Ae+"s",ke=v+N+v,Ee="location",Te="extend",Ce="style",Se="body",De=!0,Me=!1,Oe=1/0,Ne=2147483647,Le=null,je=Function,Ie=Array,Re=String,Pe=Number,_e=Object,Be=je[N],He="[object ",Ve=(Re[O],_e[O],Ie[O]),Ue=(je[O],Pe.MAX_VALUE),qe=Pe.MIN_VALUE,Fe=(Pe.MAX_SAFE_INTEGER,Pe.MIN_SAFE_INTEGER,{}),We=_e.keys,ze=_e[O].toString,$e=!{toString:Le}.propertyIsEnumerable(D),Ge=function(){},Je=function(e,t,n,r){if(!e)return-1;for(var i,o=n||e[Q],u=t+(r?0:-1),a=r?-1:1;(u+=a)<o;)if(i=e[u],i!==i)return u;return-1},Qe=function(e,t,n,r,i){var o,u,a;if(!e)return-1;if(t!==t)return Je(e,n,r,i);for(o=(n||0)-1,u=r||e[Q],a=i?-1:1;(o+=a)<u;)if(e[o]===t)return o;return-1},Xe=function(e,t,n,r,i){var o,u=n||0,a=r||e[Q]-1,s=Ne>=a?De:Me;if(t!==t)return Je(e,u,a,i);if(s)for(;a>=u;){if(o=u+a>>1,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}else for(;a>=u;){if(o=(u+a)/2|0,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}return-1},Ye=function(e,t,n,r,i){return(n===De&&e&&e[Q]>100?Xe:Qe)(e,t,n,r,i)},Ke=function(e){return e==Le?a:e+a},Ze=function(e){return(dt(e)?JSON.stringify(e):st(e)?e.toString():e)+a},et=function(e,t,n,r){var i=zt(t||function(e,t){return e>t},r);return e.sort(function(e,t){var r=i(e,t);return ut(r)&&(r=Oe),r===De&&(r=1),r===Me&&(r=-1),n?-1*r:r})},tt=function(e,t,n){var r=Me;return n?-1!==Qe(e,t):(e&&st(e.hasOwnProperty)&&(r=e.hasOwnProperty(t)),r)},nt=function(e){return e&&e[ke]&&e[ke][N]||e[N]},rt=function(e,t){var n=t;return tt(n,N)&&(n=n[N]),e instanceof n},it=function(e){return function(t){return ft(t)?t.split(e):t}},ot=function(e,t){var n=t||function(){return De};return function(t){return typeof t===e&&n(t)}},ut=function(e){return e!==e},at=function(e){return e===e},st=ot(ee),ct=ot(Z),ft=ot(Y),lt=ot(K,at),dt=ot(X,function(e){return!!e}),ht=function(e){return e===Le},pt=function(e){return e===i},vt=function(e){return function(){return!e.apply(this,arguments)}},mt=o.isFinite,gt=function(e){return lt(e)&&mt(e)},wt=function(e){return!(!e||e!==e[re])},yt=Ie.isArray,bt=function(e){return!nn(e)[Q]},At=function(e){for(var t=0,n={},r=nn(e),i=r[Q];i>t;t++)n[e[r[t]]]=r[t];return n},xt=function(e,t){var n=Rn[Q],r=e[N],i=st(r)&&r[O]||ObjProto,o=N;for(tt(e,o)&&!contains(t,o)&&t.push(o);n--;)o=Rn[n],o in e&&e[o]!==i[o]&&!contains(t,o)&&t.push(o)},kt=function(){return+new Date},Et=kt(),Tt=function(){return kt()-Et},Ct=window.performance,St=Ct?(Ct.now=Ct.now||Ct.webkitNow||Ct.msNow||Ct.oNow||Ct.mozNow||Tt)&&Ct:{now:Tt,offset:Et},Dt=function(){var e=Me,t=arguments,n=t[Q],r=1,i=t[0];for(i===De&&(e=De,i=t[1],r=2),i=i||{};n>r;r++)Mt(i,t[r],e);return i},Mt=function(e,t,n){for(var r,o,u=0,a=nn(t),s=a[Q];s>u;u++)r=a[u],t[r]!==i&&(o=t[r],n&&dt(t[r])?(dt(e[r])||(e[r]=On(t[r])),Mt(e[r],t[r],n)):e[r]=o);return e},Ot=function(e){var t=[];return Jt(e,function(e){t.push(e)}),t},Nt=function(e){var t=[];return Gt(e,function(e,n){Gt(e,function(e,r){var i=t[r];t[r]||(i=t[r]=[]),i[n]=e})}),t},Lt=function(e,t){var n={};return t?Gt(e,function(e,r){n[e]=t[r]}):Gt(e,function(e,t){n[e[0]]=e[1]}),n},jt=Math.pow(2,53)-1,It=function(e){var t=!!e&&e[Q];return yt(e)||(wt(e)?Me:lt(t)&&!ft(e)&&t>=0&&jt>=t&&!st(e))},Rt=function(e,t,n){var r=nn(e),i=zt(t,n);return{keys:r,handler:function(t,n,r){return i(e[t],t,e)}}},Pt=function(e){return function(t,n,r,i){var o,u=t,a=u,s=n,c=s,f=r,l=i;return u?(It(u)||(o=Rt(a,s,f),c=o.handler,a=o.keys,f=Le),e(a,c,f,l)):u}},_t=function(e){return Pt(function(t,n,r,i){for(var o=t[Q],u=zt(n,r),a=i||(e>0?0:o-1);a>=0&&o>a;a+=e)if(u(t[a],a,t))return a;return-1})},Bt=_t(1),Ht=_t(-1),Vt=function(e){return-1!==e&&e===e&&e!==i&&e!==Le&&e!==Me&&e!==De},Ut=function(e){return function(t,n,r,i){var o=e(t,n,r,i);return Vt(o)?t[o]:void 0}},qt=Ut(Bt),Ft=Ut(Ht),Wt=function(e,t){return arguments[Q]<3?zt(e,t):$t(e,In(arguments).slice(1))},zt=function(e,t){return t?e.bind(t):e},$t=function(e,t){return e.bind.apply(e,t)},Gt=function(e,t,n,r){var i,o,u,a,s,c;if(e){if(s=0,a=e[Q],c=a%8,u=parseInt(a/8,10),0>r&&(s=a-1),i=r||1,o=zt(t,n),c>0)do o(e[s],s,e),s+=i;while(--c>0);if(u)do o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i;while(--u>0);return e}},Jt=Pt(Gt),Qt=function(e){return function(t,n,r){return e(t,n,arguments[Q]<3?Le:r,-1)}},Xt=Qt(Gt),Yt=Qt(Jt),Kt=function(e){var t,n=e+a;return n=n.trim(),n===Me+a&&(t=Me),n===De+a&&(t=De),t===i&&(t=e),t},Zt=function(e){return parseFloat(e)||0},en=function(e){return parseInt(e,10)||0},tn=function(e){var t,n=[];for(t in e)n.push(t);return $e&&xt(e,n),n},nn=function(e){var t,n=[];if(!e||!dt(e)&&!st(e))return n;if(We)return We(e);for(t in e)tt(e,t)&&n.push(t);return $e&&xt(e,n),n},rn=function(e,t,n){var r,i,o,u,a=this,s=ft(e);if(e===Me)return Dt(a[O],t),a;s||(t=e),o=tt(t,N),t&&o&&(r=t[N]),s?(i=a,r&&(i=r),r=new Be("parent","return function "+e+"(){return parent.apply(this,arguments);}")(i)):r=r||new Be("parent","return "+a.toString())(a),r[Te]=rn;var c=function(){this[N]=r};return c[O]=a[O],r[O]=new c,t&&Dt(r[O],t),u=r,r=on(u,a),u[O][ke]=r,r},on=function(e,t){var n=function(t,n,r,i,o,u){return t instanceof e?t:new e(t,n,r,i,o,u)};return n.isInstance=e.isInstance=function(t){return rt(t,e)},n.fn=e.fn=e[O].fn=e[O],n[N]=e,n[Te]=e[Te]=Wt(rn,e),t&&(n["super"]=e["super"]=e[O]["super"]=t),n},un=function(e){var t=De;return function(){return t?(t=Me,e.apply(this,arguments)):void 0}},an=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(e===Le||e===i||t===i||t===Le)return e===t;var o=ze.call(e);if(o!==ze.call(t))return Me;switch(o){case He+"RegExp]":case He+"String]":return a+e===a+t;case He+"Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case He+"Date]":case He+"Boolean]":return+e===+t}var u=o===He+"Array]";if(!u){if(!dt(e)||!dt(t))return Me;var s=e[N],c=t[N];if(s!==c&&!(st(s)&&s instanceof s&&st(c)&&c instanceof c)&&N in e&&N in t)return Me}for(var f=n[Q];f--;)if(n[f]===e)return r[f]===t;if(n.push(e),r.push(t),u){if(f=e[Q],f!==t[Q])return Me;for(;f--;)if(!an(e[f],t[f],n,r))return Me}else{var l,d=nn(e);if(f=d[Q],nn(t)[Q]!==f)return Me;for(;f--;)if(l=d[f],!tt(t,l)||!an(e[l],t[l],n,r))return Me}return n.pop(),r.pop(),De},sn=function(e,t){return an(e,t,[],[])},cn=function(e){return Nn(e,function(e){return e})},fn=function(e){return Sn(Ze(e))},ln=function(e,t,n){var r={},i=yt(e),o=st(t);return Jt(e,function(u,a){i?!o||n?r[u]=t:r[u]=t(u,a):r[a]=t(e[a],a)}),r},dn=function(e){return Dt(kr,e)},hn=function(e){return function(t){return e(t)}},pn={first:hn},vn=function(){var e=[];return e.concat.apply(e,Nn(arguments,hn(In)))},mn=function(){return fr(arguments,function(e,t){return Gt(t,function(t){-1===Qe(e,t)&&e.push(t)}),e},[])},gn=function(e,t){var n=e[Q],r=t%n,i=e.splice(r);return e.unshift.apply(e,i),e},wn=function(e,t){var n=e[Q],r=t%n,i=e.splice(0,n-r);return e.push.apply(e,i),e},yn=function(e,t){var n=nn(t),r=Object(e);return!qt(n,function(e){return t[e]===r[e]&&e in r?void 0:De})},bn=function(e){return function(t){return yn(t,e)}},An=function(e,t,n){var r=It(e),i=zt(t,n),o=0;return fr(e,function(e,t,n,u){return o++,i(t,n,u)&&(r?e.push(t):e[n]=t),e},r?[]:{})},xn=function(e,t){return An(e,bn(t))},kn=function(e,t){return qt(e,bn(t))},En=function(e,t){return Ft(e,bn(t))},Tn=function(e,t){return An(e,vt(bn(t)))},Cn={"true":De,"false":Me,"null":Le,undefined:i},Sn=function(e){var t,n=e;return ft(n)?(n=n.trim(),n[Q]?"{"===n[0]&&"}"===n[n[Q]-1]||"["===n[0]&&"]"===n[n[Q]-1]?gr(function(){return JSON.parse(n)}):(t=+n,ut(t)?tt(Cn,n)?Cn[n]:"function"===n.slice(0,8)?new Be("return "+n)():n:t):n):n},Dn=function(e){var t=e.toString(),n=t.split("{");return t=n.shift(),(t=n.join("{")).slice(0,t[Q]-1)},Mn=function(e,t,n){var r=t;st(t)&&(r=Dn(t));var i=new Be("string",'with(this) {\n	eval("(function (){"+string+"}());");\n}');i.call(e,'"use strict";\n'+r)},On=function(e){return It(e)?[]:{}},Nn=function(e,t,n){var r=On(e),i=zt(t,n);return e?Jt(e,function(t,n){r[n]=i(t,n,e)})&&r:r},Ln=function(e){return 1===e[Q]?[e[0]]:Ie.apply(Le,e)},jn=function(e){return e?fr(e,function(e,t){return e.push(t),e},[]):[]},In=function(e,t){return It(e)?yt(e)?e:Ln(e):ft(e)?e.split(ft(t)?t:l):[e]},Rn=In("valueOf,isPrototypeOf,"+D+",propertyIsEnumerable,hasOwnProperty,toLocaleString"),Pn=function(e,t,n){var r=!!t;return fr(e,function(e,t){var i;return It(t)?(i=r?Pn(t,r,n):t,e.concat(i)):(n&&n(t),e.push(t),e)},[])},_n=function(e,t,n){return Pn(It(e)?e:jn(e),t,n)},Bn=function(e,t){var n=[];return n.concat.apply(n,Nn(e,t))},Hn=function(e,t,n){return e===e&&(n!==i&&(e=n>=e?e:n),t!==i&&(e=e>=t?e:t)),e},Vn=function(e){return Hn(e,MIN_SAFE_VALUE,MAX_SAFE_VALUE)},Un=function(e){return Ue>e&&e>qe},qn=function(e){var t=e%1;return e===e?t?e-t:e:0},Fn=function(e,t){var n;return qn((n=+e)==e?t?n:Vn(n):0)},Wn=function(e){return lt(e)&&Un(e)},zn=function(e,t,n){var r;return function(){var i=this,o=arguments,u=n&&!r,a=function(){r=Le,n||e.apply(i,o)};return clearTimeout(r),r=setTimeout(a,t),u&&e.apply(i,o),r}},$n=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,u=kt(),a=arguments;r&&r+t>u?(clearTimeout(i),i=setTimeout(function(){r=u,e.apply(o,a)},t)):(r=u,e.apply(o,a))}},Gn=function(e,t,n){var r;return function(){var t=n||this,i=In(arguments);return clearTimeout(r),r=setTimeout(function(){e.apply(t,i)})}},Jn=function(e){var t=e.url,n=[];return dt(e)?(Jt(e.query,function(e,t){e!==i&&(e=encodeURIComponent(Ze(e)),n.push(t+"="+e))}),n[Q]&&(t+="?"),t+=n.join("&"),e.hash&&(e.hash=dt(e.hash)?encodeURI(Ze(e.hash)):hash,t+="#"+e.hash)):t=e,t},Qn=function(e,t,n){var r,i,o=nt(e);n=n||1;do i=o[O],r=i[t],o=nt(i);while(--n>0&&o&&gt(n));return r},Xn=function(){var e="crypto"in o&&"getRandomValues"in crypto,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n,r,u;return e&&(n=o.crypto.getRandomValues(new Uint32Array(1)),n===i&&(e=Me)),e||(n=[Math.floor(1e10*Math.random())]),n=n[0],r=n%16,u="x"===t?r:3&r|8,u.toString(16)});return e?t:"SF"+t},Yn=function(e){return function(t,n){var r=this;return Zn(t,n,e,r),r}},Kn=function(e,t,n,r){var i,o=dt(e),u=Wt(n,r);return o&&(i=nn(e)),function(n,r,a,s,c,f){o?Gt(i,function(t){u(t,e[t],n,r,a,s,c,f)}):u(e,t,n,r,a,s,c,f)}},Zn=function(e,t,n,r){var i=r?Wt(n,r):n,o=dt(e)?e:Me;o?Jt(o,er(i)):i(e,t)},er=function(e){return function(t,n,r){e(n,t,r)}},tr=function(e,t,n){var r;return lt(t)||(t=1),r=Math.pow(n||10,t),parseInt(r*e,10)/r},nr=function(e,t,n){return e==Le?e:st(e[t])?e[t](n):dt(e)?e[t]:e},rr=function(e,t,n){return Gt(e,function(e){e[t](n)})},ir=function(e,t,n,r,i){return Gt(e,function(e){gr(function(){nr(e,t,n)},r,i)})},or=function(e,t,n){return Nn(e,function(e){return nr(e,t,n)})},ur=function(e,t,n){return Gt(e,function(e){nr(e,t,n)},Le,-1)},ar=Math,sr=function(e){return function(t){return ar[e].apply(ar,t)}},cr=function(e){var t=function(t,n,r,o,u,a){for(var s,c;u>=0&&a>u;u+=e)c=o?o[u]:u,s=n(r,t[c],c,t),s!==i&&(r=s);return r};return function(n,r,i,o){var u=!It(n)&&nn(n),a=(u||n)[Q],s=e>0?0:a-1;return arguments[Q]<3&&(i=n[u?u[s]:s],s+=e),t(n,r,i,u,s,a)}},fr=cr(1),lr=cr(-1),dr=function(e,t){return fr(e,function(n,r,i){return t(r,i,e)&&n.push(r),n},[])},hr=o.console||{},pr=hr.log||Ge,vr=Dt(ln(In("trace,warn,log,dir,error,clear,table,profile,profileEnd,time,timeEnd,timeStamp"),function(e){var t=hr[e]||pr;return function(){return t.apply(hr,arguments)}}),{exception:function(e){throw new Error(e&&e.message||e)},assert:function(e,t){e||mr(t)}}),mr=vr.exception,gr=function(e,t,n){var r,i=Le;try{r=e()}catch(o){i=o,vr.error(o),r=t?t(o):r}finally{r=n?n(i,r):r}return r},wr=function(e,t){return t===i?!e:!!t},yr=function(e){return function(){return e}},br=yr(De),Ar=(yr.first=function(e){return e},function(e,t){return function(){return t.call(this,e.apply(this,arguments))}}),xr={number:lt,string:ft,object:dt,nan:ut,array:yt,"function":st,"boolean":ct,"null":ht,length:Wn,validInteger:Un,arrayLike:It,instance:rt},kr=e._={is:xr,unwrapBlock:Dn,passes:pn,performance:St,constructorWrapper:on,stringifyQuery:Jn,intendedObject:Zn,intendedIteration:Kn,parseDecimal:Zt,flatten:_n,gather:Bn,isArrayLike:It,isInstance:rt,hasEnumBug:$e,roundFloat:tr,factories:Fe,cloneJSON:fn,toBoolean:Kt,stringify:Ze,values:Ot,zip:Nt,object:Lt,wraptry:gr,toString:Ke,throttle:$n,debounce:zn,defer:Gn,protoProperty:Qn,protoProp:Qn,sortedIndexOf:Xe,indexOfNaN:Je,toInteger:Fn,indexOf:Qe,toArray:In,isEqual:sn,isArray:yt,isEmpty:bt,returns:yr,isBoolean:ct,invert:At,extend:Dt,noop:Ge,toggle:wr,reduce:fr,foldl:fr,foldr:lr,now:kt,some:dr,map:Nn,result:nr,isUndefined:pt,isFunction:st,isObject:dt,isNumber:lt,isFinite:gt,isString:ft,isNull:ht,isNaN:ut,eachProxy:Pt,publicize:dn,allKeys:tn,evaluate:Mn,parse:Sn,merge:Mt,clone:cn,bind:Wt,bindTo:zt,bindWith:$t,duff:Gt,duffRight:Xt,eachRight:Yt,iterates:Rt,sort:et,wrap:ln,uuid:Xn,keys:nn,once:un,each:Jt,flows:Ar,baseClamp:Hn,has:tt,negate:vt,pI:en,createPredicateIndexFinder:_t,findIndex:Bt,findLastIndex:Ht,validKey:Vt,finder:Ut,find:qt,findLast:Ft,console:vr,min:sr("min"),max:sr("max"),arrayLikeToArray:Ln,objectToArray:jn,math:ln(In("E,LN2,LN10,LOG2E,LOG10E,PI,SQRT1_2,SQRT2,abs,acos,acosh,asin,asinh,atan,atan2,atanh,cbrt,ceil,clz32,cos,cosh,exp,expm1,floor,fround,hypot,imul,log,log1p,log2,log10,pow,random,round,sign,sin,sinh,sqrt,tan,tanh,trunc"),function(e){return Math[e]})};Fe.Extendable=on(r,_e),e.shims=function(e){var t=function(){function e(e){return 10>e?"0"+e:e}function t(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,r){var s,c,f,l,d,h=o,p=r[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof a&&(p=a.call(r,e,p)),typeof p){case"string":return t(p);case"number":return gt(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(o+=u,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p[i],s=0;l>s;s+=1)d[s]=n(s,p)||"null";return f=0===d[i]?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+h+"]":"["+d.join(",")+"]",o=h,f}if(a&&"object"==typeof a)for(l=a[i],s=0;l>s;s+=1)"string"==typeof a[s]&&(c=a[s],f=n(c,p),f&&d.push(t(c)+(o?": ":":")+f));else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(f=n(c,p),f&&d.push(t(c)+(o?": ":":")+f));return f=0===d[i]?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+h+"}":"{"+d.join(",")+"}",o=h,f}}var r=this,i="length";if(r.performance=r.performance||{},r.performance.now=function(){var e=r.performance;return e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow||function(){return(new Date).getTime()}}(),!JSON){"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return gt(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var o,u,a,s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var s;if(o="",u="","number"==typeof r)for(s=0;r>s;s+=1)u+=" ";else"string"==typeof r&&(u=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t[i]))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(e,t){function n(e,r){var i,o,u=e[r];if(u&&"object"==typeof u)for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o=n(u,i),void 0!==o?u[i]=o:delete u[i]);return t.call(e,r,u)}var r;if(e=String(e),s.lastIndex=0,s.test(e)&&(e=e.replace(s,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=Function.prototype.constructor("("+e+")"),"function"==typeof t?n({"":r},""):r;throw new SyntaxError("JSON.parse")})}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),r.matchMedia=r.matchMedia||function(){var e=r.styleMedia||r.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in r&&r.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return t=t||"all",{matches:e.matchMedium(t),media:t}}}()};t.call(e)},e.shims(o);var Er=function(e){var t={};return function(n){return tt(t,n)||(t[n]=e(n)),t[n]}},Tr=function(e,t){var n={};return function(r,i){var o;return i=i||t,(o=n[i]=n[i]||Er(e(i)))(r)}},Cr=kr.extend(ln(In("toLowerCase,toUpperCase,trim"),function(e){return Er(function(t){return t[e]()})}),ln(In("match,search"),function(e){return Tr(function(t){return function(n){return n[e](t)}})})),Sr=function(e){return function(){var t=In(arguments),n=this;return Nn(t[0],function(r){return t[0]=r,e.apply(n,t)})}},Dr=function(e,t,n){var r=e.slice(t[Q]),i=r[0];return n&&(i=r[0].toLowerCase()),r=i+r.slice(1)},Mr=Sr(Dr),Or=function(e,t,n,r){var o=t+e;return n!==i&&(o=t+(r||c)+e,o=n?Ir(o,r):Pr(o,r)),o},Nr=Sr(Or),Lr=function(){var e={};return function(t){var n=e[t];return n||(e[t]=n=new Function[N]("return "+t)),n()}}(),jr=function(){var e={},t=0;return function(n){var r;return n?(e[n]=e[n]||0,++e[n],r=e[n]):(++t,r=t),n?n+r:r}}(),Ir=Tr(function(e){return function(t){var n,r,i;if(ft(t)){for(t[0]===e&&(t=t.slice(1)),r=t.split(e),n=r[Q]-1;n>=1;n--)r[n]&&(r[n]=Rr(r[n]));i=r.join(a)}return i}},c),Rr=Er(function(e){return e[0].toUpperCase()+e.slice(1)}),Pr=Tr(function(e){return function(t){return t.replace(/([a-z])([A-Z])/g,"$1"+e+"$2").replace(/[A-Z]/g,function(e){return e.toLowerCase()})}},c),_r=function(e){return Pr(e,"_")},Br=Tr(function(e){var t={},n={},r=[],i=In(e);i.sort(function(e,i){var o=e[Q],u=i[Q],a=kr.max([-1,kr.min([1,o-u])]);return n[e]=n[i]=De,t[o]||(t[o]=De,r.push(o)),t[u]||(t[u]=De,r.push(u)),-1*(0===a?e>i?-1:1:a)});return r.sort(function(e,t){return-1*kr.max([-1,kr.min([1,e-t])])}),function(e){for(var t,i=0,o=(e+a).trim(),u=o[Q];r[i];){if(r[i]<u&&(t=o.substr(u-r[i],u),n[t]))return t;i++}return Me}}),Hr=In("px,em,rem,ex,in,cm,%,vh,vw,pc,pt,mm,vmax,vmin"),Vr=function(e){return Br(e,Hr)},Ur=Er(function(e){var t=!1,n=e.split(m)[Q];return(0===e.indexOf(Ae)&&n>=2||0===e.indexOf(m)&&2===n)&&(t=!0),t}),qr=(Er(function(e){var t=!1,n=str.split(m);n[Q],n.shift();return t}),Er(function(e){var t=a,n=Qe(e,"#")+1;return n&&(t=e.slice(n)),t})),Fr=function(e,t){var n=qr(e);return t?n:Sn(n)},Wr=function(e,t,n){return e[n||0]===t},zr=Wr,$r=function(e){var t,n,r,i,u,s=0,c=o.decodeURIComponent;for(e||(e=o[Ee].search),r=e.slice(1).split("&"),t={};s<r[Q];s++)n=r[s].split("="),n[0]&&(n[Q]<2&&n[PUSH](a),i=n[1],i=c(i),"'"!==i[0]&&'"'!==i[0]||(i=i.slice(1,i[Q]-1)),i===De+a&&(i=De),i===Me+a&&(i=Me),ft(i)&&(u=+i,u==i&&u+a===i&&(i=u)),t[c(n[0])]=i);return t},Gr=function(e){return e.toString=function(){return e.href},e.replace=function(t){var n=Yr(t);return n.previous=e,n},e},Jr=Er(function(e){var t;return e?(ft(e)||(e=e.referrer),ft(e)&&(e+=d,t=e.match(/^http?:\/\/.*?\//),t&&(t=t[0].slice(0,t[0][Q]-1))),t||a):a}),Qr=[Ae,xe].concat(In("file,about,javascript,ws,tel")),Xr={"http:":De,"https:":De},Yr=function(e,t,n){var r,i,o,u,s,c,l,h=n||window,v=e||a,m=a,g=a,w=a,y=a,b=a,A=a,x=Qe(v,"?")+1,k={},E=Qr[Q],T=v.split(p),C=h.location.protocol,S=T[Q]-1&&(s=T.shift()),D=(S&&qt(Qr,function(e){return e===s})||C.slice(0,C[Q]-1))+p;if(x?(m=v.slice(x-1),g=qr(m)):g=qr(v),x&&(m=m.split(g).join(a),k=$r(m),v=v.slice(0,x-1)),v[0]===d&&v[1]===d)D=h.location.protocol;else{for(;E--&&!D;)v.slice(0,Qr[E][Q])===Qr[E]&&(D=Qr[E]);D||(D=Ae)}if(T=v.split(p),T[Q]-1){for(s=T.shift(),l=T.join(p).split(d);!w;)w=l.shift();u=w.split(p),A=u.shift(),b=u[Q]?u[0]:a,r=T.shift(),v=T.join(p).slice(w[Q])}else w=h.location.host,b=h.location.port,A=h.location.hostname;return c=h.location.pathname.slice(1),v[0]===d&&v[1]!==d&&(v=v.slice(1),c=a),v[0]===f&&(v=v.slice(2)),y=d+c+v,o=D+(Xr[D]?d+d:a)+A+(b?p+b:a),i=o+y+(m||a)+(g||a),Gr({passed:e,port:b,hostname:A,pathname:y,search:m.slice(1),host:w,hash:g.slice(1),href:i,protocol:D.slice(0,D[Q]),origin:o,searchObject:k})},Kr=60,Zr=7,ei=30,ti=24,ni=1e3,ri=365,ii=ni*Kr,oi=ii*Kr,ui=oi*ti,ai=oi*Zr,si=oi*ei,ci=ui*ri,fi={ms:1,secs:ni,s:ni,mins:ii,hrs:oi,days:ui,wks:ai,mnths:si,yrs:ci},li=[],di=fr(fi,function(e,t,n){return li.push(n),e[n]=function(e){return e*t},e},{}),hi=In("sunday,monday,tuesday,wednesday,thursday,friday,saturday"),pi=In("january,feburary,march,april,may,june,july,august,september,october,november,december"),vi=ln(pi,De),mi=ln(pi,function(e,t){return t}),gi=Er(function(e){var t=0;return Gt(In(e+a),function(e){var n=e,r=Br(n,li),i=+n.split(r||a).join(a),o=di[r];i===i&&(o&&(i=o(i)),t+=i)}),t});kr.publicize({monthIndex:mi,monthHash:vi,months:pi,weekdays:hi,customUnits:Br,uniqueId:jr,cacheable:Er,categoricallyCacheable:Tr,deprefix:Dr,deprefixAll:Mr,prefix:Or,prefixAll:Nr,capitalize:Rr,capitalize:Rr,unCamelCase:Pr,spinalCase:Pr,camelCase:Ir,snakeCase:_r,reference:Jr,string:Cr,units:Vr,baseUnitList:Hr,isHttp:Ur,parseHash:Fr,parseUrl:Yr,parseSearch:$r,parseObject:Lr,time:gi,startsWith:zr,itemIs:Wr});var wi="Status",yi="statuses",bi={creation:{},destruction:{}},Ai=yr(Le),xi=function(){return{}},ki=function(e,t,n){return n},Ei=function(e,t){return function(n,r,i){return this.directive(e)[t](n,r,i)}},Ti=function(e,t){return function(n){var r=this,i=r.directive(e);return Gt(n,i[t],i),r}},Ci=function(e,t,n){var r=st(n);return function(i,o,u,a,s,c){var f=this;return f[e]?f[e][t](i,o,u,a,s,c):r?n(f):n}},Si=function(e,t,n){var r;!ft(e)&&mr({message:"directives must be registered with a string for a name"})||!st(t)&&mr({message:"directives must be registered with at least a create function"});return bi.creation[e]=(r=bi.creation[e])||t,bi.destruction[e]=bi.destruction[e]||n,!r},Di=function(t,n,r,i){var o=i||ki,u=r||ki;bi.creation[t]||mr({message:"directives must exist before they can be extended"});return e.defineDirective(n,function(e,n,r){var i=new bi.creation[t](e,n,r);return new u(e,n,i)},function(e,n,r){var i=bi.destruction[t](e,n,r);return o(e,n,i)})},Mi=(Fe.Directive=Fe.Extendable.extend("Directive",{mark:Ei(wi,"mark"),unmark:Ei(wi,"unmark"),remark:Ei(wi,"remark"),is:Ci(wi,"is",Me),directive:function(e){var t,n,r=this;return(n=r[e])?n:(t=r["directive:creation:"+e]||bi.creation[e]||xi,r[e]=new t(r,e),r[e])},directiveDestruction:function(e){var t=(bi.destruction[e]||Ai)(this[e],this,e);return delete this[e],t}}),Fe.Status=Fe.Extendable.extend(wi,{constructor:function(){return this[yi]={},this},has:function(e){return this[yi][e]!==i},mark:function(e){var t=this[yi][e];return this[yi][e]=De,t!==De},unmark:function(e){var t=this[yi][e];return this[yi][e]=Me,t!==Me},remark:function(e,t){var n=this,r=n[yi][e],o=n[yi][e]=t===i?!n[yi][e]:!!t;return r!==o},is:function(e){return!!this[yi][e]},isNot:function(e){return!this[yi][e]}}));Si(wi,Mi[N]),e.defineDirective=Si,e.extendDirective=Di,kr.publicize({directives:{parody:Ei,checkParody:Ci,iterate:Ti}});var Oi="Collection",Ni="reversed",Li="Registry",ji="delimited",Ii="StringManager",Ri="Sorted"+Oi;e.scope(function(e){var t={message:"object must not be null or "+i},n={message:"objects in sorted collections must have either a number or string for their valueOf result"},r={message:"list cannot be modified while it is being iterated over"},o=function(e){return function(e,t,n,r,i){var o=0;return Gt(t,function(t){o+=u(e,t,n,r,i)}),o===e[Q]}},u=function(e,t,n,r,i){var o=Qe(e,t,n,r,i);return o+1&&f(e,o),o+=1,!!o},c=o(u),f=function(e,t){return e.splice(t,1)[0]},l=function(e,t,n,r,i){var o=0,u=Qe(e,t,n,r,i);return-1===u&&(o=e.push(t)),!!o},d=o(l),h=function(e,t,n){var r=e[Q];return e.splice(n||0,0,t),r!==e[Q]},p=function(e,t,n){var r=n||Ge,i=[],o=t||0,u=lt(o),a=It(o);return 0>o&&(u=!1),e[Q]?(u?(i=[e[o]],r(i[0])):a?Gt(o,function(t){var n=e[t];i.push(n),r(n)}):(i=[e[0]],r(i[0])),i):i},v=function(e,t,n,r){var i,o,u;for(t==Le&&(t=e||0,e=0),gt(e)&&lt(e)||(e=0),n=+n||1,i=Math.max(Math.ceil((t-e)/n),0)+(+r||0),o=[],u=0;i>u;)o[u]=e,u++,e+=n;return o},m=function(e,t,n,r,i){var o,u,a,s;if(r>=i||!lt(r)||!lt(i)||!gt(r)||!gt(i))return e;for(s=n||this,o=zt(t,s),i=Math.abs(i),a=r;i>a;)u=Le,e[Q]>a&&(u=e[a]),o(u,a,e),a++;return e},g=function(e,t,n,r){return m(e,t,n,0,r)},w=function(e,t,n,r){return m(e,t,n,r,e[Q])},b=function(e,t,n,r){for(var i,o,u,a=n||0,s=r||e[Q]-1;s>=a;)if(i=(a+s)/2|0,o=e[i],t>o)a=i+1;else{if(!(o>t))return i;s=i-1}return u=~~s},A=function(e,t){return function(){return new this[ke](e.apply(t||this,arguments))}},x=Fe[Li]=Fe.Directive.extend(Li,{constructor:function(){return this.reset(),this},get:function(e,t){var n=this.register[e];return n&&n[t]},keep:function(e,t,n){var r=this.register,o=r[e]=r[e]||{};return n===i?delete o[t]:o[t]=n,this},ungroup:function(e){return this.group(e,{})},group:function(e,t){var n=this.register;return n[e]=t||n[e]||{},n[e]},swap:function(e,t,n){var r=this.get(e,t);return this.keep(e,t,n),r},drop:function(e,t){return this.swap(e,t)},reset:function(e,t){var n=this.register;return this.register=e||{},n}}),k=In("eq,where,whereNot,map,results,filter,cycle,uncycle,flatten,gather"),E={each:Gt,duff:Gt,forEach:Gt,eachCall:rr,eachRight:Xt,duffRight:Xt,forEachRight:Xt,eachCallRight:ur},T=(nn(E),In("add")),C=In("insertAt,remove,removeAt"),S=In("pop,shift,splice"),D=In("reverse"),L=In("push,unshift"),j=In("join"),I=In("count,countTo,countFrom,merge"),R=In("foldr,foldl,reduce"),P=In("find,findLast,findWhere,findLastWhere"),_=In("indexOf"),B=R.concat(P),H=function(e){return function(t,n,r,i,o,u){var a,s=this;return++s.iterating,a=e(s,t,n,r,i,o,u),--s.iterating,a}},V=Dt({seeker:function(e,t){var n=this,r=zt(e,t);return Xt(n.unwrap(),function(e,t,i){r(e,t,i)&&n.removeAt(t)})},slice:function(e,t){return new q(this.unwrap().slice(e,t))}},ln(j,function(e){return function(t){return this.unwrap()[e](t)}}),ln(_.concat(T),function(e){return function(t,n,r,i,o){var u=this;return kr[e](u.unwrap(),t,n,r,i,o)}}),ln(L,function(e){return function(t){var n=yt(t)?t:arguments,r=this.unwrap();return r[e].apply(r,n)}}),ln(S,function(e){return function(t,n,i,o,u,a){var s=this;return s.iterating?mr(r):s.unwrap()[e](t,n,i,o,u,a)}}),ln(C,function(e){return function(t,n,i,o,u){var a=this;return a.iterating?mr(r):kr[e](a.unwrap(),t,n,i,o,u)}}),ln(D,function(e){return function(){var t=this;return t.remark(Ni,!t.is(Ni)),t.unwrap()[e](),t}}),ln(E,function(e){return H(function(t,n,r){var i=t.unwrap(),o=n,u=arguments[Q]>1?r:t;return e(i,o,u),t})}),ln(I,function(e){return H(function(t,n,r,i){return kr[e](t.unwrap(),n,t,r,i),t})}),ln(k,function(e){return H(function(t,n,r,i){return new q[N](kr[e](t.unwrap(),n,r,i))})}),ln(B,function(e){return H(function(t,n,r,i){return kr[e](t.unwrap(),n,r,i)})})),U=kr.publicize({eachCall:rr,eachCallRight:ur,filter:An,matches:bn,results:or,add:l,removeAll:c,addAll:d,insertAt:h,removeAt:f,remove:u,cycle:gn,uncycle:wn,concat:vn,where:xn,findWhere:kn,findLastWhere:En,range:v,count:m,countTo:g,countFrom:w,whereNot:Tn,eachRight:Yt,duffRight:Xt,flatten:_n,eq:p}),q=Fe[Oi]=Fe.Directive.extend(Oi,Dt({get:Ei(Li,"get"),keep:Ei(Li,"keep"),drop:Ei(Li,"drop"),swap:Ei(Li,"swap"),constructor:function(e){return this.reset(e),this},call:function(e){return this.each(function(t){t(e)}),this},obliteration:function(e,t){return Xt(this.unwrap(),e,t===i?this:t),this},empty:function(){return this.reset(),this.directive(Li).reset(),this},reset:function(e){var t=this;t.unwrap()||[];return t.iterating=t.iterating?mr(r):0,t.items=e==Le?[]:q.isInstance(e)?e.unwrap().slice(0):In(e),t.unmark(Ni),t},unwrap:function(){return this.items},length:function(){return this.unwrap()[Q]},first:function(){return this.unwrap()[0]},last:function(){var e=this.unwrap();return e[e[Q]-1]},item:function(e){return this.unwrap()[e||0]},has:function(e){return-1!==this.indexOf(e)},sort:function(e){var t=this;return et(t.unwrap(),e,t.is(Ni),t),t},toString:function(){return Ze(this.unwrap())},toJSON:function(){return Nn(this.unwrap(),function(e){return nr(e,M)})},copy:function(){return this.items.slice(0)},range:A(v),concat:A(function(){var e=this.unwrap();return e.concat.apply(e,Nn(arguments,function(e){return q(e).unwrap()}))})},V)),F=(e.defineDirective(Oi,function(){return new q[N]}),e.defineDirective(Oi,function(){return q()}),Fe.SortedCollection=q.extend(Ri,{constructor:function(e,t){var n=this;return q[N].call(n),e&&!t&&n.load(It(e)?e:[e]),n},reverse:function(){var e=this;return e.remark(Ni,!e.is(Ni)),e.sort(),e},closestIndex:function(e){return b(this.unwrap(),e)},closest:function(e){var t,n=this.unwrap();return-1===(t=b(n,e))?i:n[t]},validIDType:function(e){return lt(e)||ft(e)},indexOf:function(e,t,n){return Ye(this.unwrap(),e,De)},load:function(e){var t=this;return yt(e)?Gt(e,t.add,t):t.add(e),t},add:function(e){var r,i=this,o=(e==Le&&mr(t),e&&e.valueOf()),u=(r=i[Li])&&i.get(y,o);return u?Me:(U=!i.validIDType(o)&&mr(n),i.insertAt(e,i.closestIndex(o)+1),(r||i.directive(Li)).keep(y,o,e),De)},remove:function(e,n){var r=this,o=(e==Le&&mr(t),e&&e.valueOf());return e==Le||r.get(y,o)==Le?Me:(r.removeAt(n===i?r.indexOf(e):n),r.drop(y,o),De)},pop:function(){var e=this,t=e[Q]();return t?e.remove(e.last(),t-1):void 0},shift:function(){return this.remove(this.first(),0)}})),W=Fe.StringObject=Fe.Extendable.extend("StringObject",{constructor:function(e,t){var n=this;return n.value=e,n.parent=t,n.isValid(De),n},toggle:function(e){this.isValid(wr(this.isValid(),e))},isValid:function(e){var t=this;return arguments[Q]?(t.valid!==e&&(t.parent.increment(),t.valid=e),t):t.valid},valueOf:function(){return this.value},toString:function(){var e=this,t=e.value,n=e.parent;return n.indexer===i?t:e.isValid()?(t=n.indexer?n.delimiter+t:t,++n.indexer,t):(e.parent.drop(y,t),e.parent.removeAt(n.indexer),a)}});Fe[Ii]=F.extend(Ii,{Child:W,add:function(e){var t=this,n=t.get(y,e);return e&&(n?n.isValid(De):(n=new t.Child(e,t),t.unwrap().push(n),t.keep(y,e,n))),n},emptyCollection:q[N][O].empty,empty:function(){var e=this;return e.emptyCollection(),e.current(a),e},increment:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter++,e},decrement:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter--,e},remove:function(e){var t=this,n=t.get(y,e);return e&&n&&n.isValid(Me),t},toggle:function(e,t){var n=De,r=this,o=r.get(y,e);o||(n=Me,o=r.add(e)),t===i?n&&o.toggle():o.toggle(t)},join:function(e){var t,n,r,o=this,u=(e||a)+a,s=o.directive(Li);
return o.changeCounter=o.changeCounter||0,o.changeCounter&&(o.changeCounter=0,s.group(ji,{})),(r=s.get(ji,u))!==i?r:(t=o.unwrap().slice(0),o.indexer=0,o.delimiter=u,n=t.join(a),o.current(u,n),delete o.indexer,delete o.delimiter,n)},generate:function(e){var t,n=a,r=this,i=e;return r.changeCounter=r.changeCounter||0,!r.changeCounter&&(t=r.current(i))?t:(r.current(i,n=r.join(i)),n)},current:function(e,t){var n,r=this;return 1===arguments[Q]?(n=r.get(ji,e))===i?r.join(e):n:(r.keep(ji,e,t),r)},ensure:function(e,t){var n=this,r=e,o=t===i?s:t,u=yt(r),a=u?r.join(o):r;return n.current(o)===a?n:(n.load(u?r:ft(r)?r.split(o):Me),n.current(o,a),n)},refill:function(e){var t=this,n=e;return t.empty(),n&&t.load(n),t.increment(),t}});e.defineDirective(Li,x[N])});var Pi=Fe[Oi],_i=Fe.Directive.extend("Messenger",{constructor:function(){var e=this;return Fe.Directive[N].apply(this,arguments),hash={},e.request=function(e,t,n){return hash[e]&&hash[e](t)},e.reply=function(t,n,r){return Zn(t,n,function(e,t){hash[e]=Wt(st(t)?t:yr(t),Le)}),e},e.destroy=function(){hash=i},e}});e.defineDirective("Messenger",_i);var be="dispatchEvent",Bi="EventManager",Hi="stopListening",Vi="talkerId",Ui="listeningTo",qi="l",Fi="handlers";e.scope(function(e){var t=function(e,t){var n=ft(t)?e[t]:t;!st(n)&&mr({message:"handler must be a function or a string with a method on the originating object"});return n},n=function(e,t,n,r,i,o){return Gt(In(n,s),function(n){o(e,t,t.make(n,r,e),i)})},r=function(e,t,r,i){return function(o,u){var a,s,c=De,f=this;return o?t&&!u?f:(a=In(arguments),Zn(a[t],a[t+1],function(o,u,l){s=s||f.directive(Bi),c&&l&&a.splice(t,t+1,Le),a[t]=o,a[t+1]=u,c=Me,a[Q]<r&&i(f,a),n(f,s,o,u,a,e)}),f):f}},i=function(e,t){return function(n){return sn(t,n[W].get(e))}},o=function(e,t){t.fn=function(n){n&&t.comparator(n)&&(t.triggersOnce&&e.detach(t),t.runner(n))}},u=function(e,t){return function(){var n,r,u,c,l,d,h,v,m=this,g={};return arguments[0]?(u=In(arguments),c=e,r=u.slice(e),l=r[0],n=r[dt(l)?2:3]||m,e&&!u[0]?g:(d=m.directive(Bi),v=e?u[0].directive(Bi):d,Zn(l,r[1],function(c,l,w){var y=c.split(s)[0],b=h||Wt(r[w?1:2],n||m),A=st(l)?l:i(y,l),x=k+p+y,E=m,T=v.make(x,b,m);e+2<u[Q]&&u.push(n),e&&a(m,d,T,u[0]),T.comparator=A,T.triggersOnce=!!t,T.runner=b,f(E,v,T,[r[0],r[2],r[3]],o),g[y]=b}),g)):g}},a=function(e,t,n,r){var i=m(e,r),o=r.directive(Bi);o[Fi]=o[Fi]||{};return i.count++,n.listening=i,o},c=function(e,t){var n=t.fn||t.handler;t.fn=un(function(r){return e.detach(t),n.apply(this,arguments)})},f=function(e,n,r,i,o){r.context=r.context||i[2],r.handler=t(e,r.handler),n.attach(r.name,r,o)},l=function(e,t,n,r){f(e,t,n,r,c)},d=function(e){return function(t,n){n[Q]===e&&n.push(t)}},h=d(2),v=d(3),m=function(e,t){var n=e.directive(Bi),r=t.directive(Bi),i=r[Vi],o=n[Ui],u=o[i];return u?u:(n[Vi]=n[Vi]||jr(qi),u=o[i]={talker:t,talkerId:i,id:n[Vi],listeningTo:o,count:0})},g=function(e,n,r,i,o){var u=i[0],s=a(e,n,r,u);r.handler=t(e,r.handler),f(u,s,r,i.slice(1),o)},w=function(e,t,n,r){g(e,t,n,r,c)},b="c";Fe.Events=Fe.Directive.extend("Events",{initialize:Ge,bubble:Ei(Bi,"bubble"),on:r(f,0,3,h),once:r(l,0,3,h),listenTo:r(g,1,4,v),listenToOnce:r(w,1,4,v),watch:u(0),watchOnce:u(0,1),watchOther:u(1),watchOtherOnce:u(1,1),request:Ei("Messenger","request"),reply:Ei("Messenger","reply"),when:Ei("Linguistics","when"),constructor:function(e){var t=this;return Dt(t,e),t[b+y]=t[b+y]||jr(b),t.on(nr(t,"events")),t.initialize(e),t},off:function(e,t,r){var i,o,u=this,a=e,s=u[Bi];if(s)return i=dt(a)?t:r,arguments[Q]?a?Zn(a,t,function(e,t){n(u,s,e,t,[],function(e,t,n){var r=s[Fi][n.name];return r&&s.seekAndDestroy(r,n.handler,i)})}):Jt(s[Fi],function(e,n){s.seekAndDestroy(e,t,i)}):(o=s[oe].last(),o&&s.detach(o)),u},stopListening:function(e,t,n){var r,i,o,u,a=0,s=this,c=s[Bi];return c?(r=c[Ui],(i=e&&!(u=e[Bi]))?s:(o=e?[u[Vi]]:nn(r),Gt(o,function(e){var i=r[e];i&&i.talker.off(t,n),a=i[e]?1:0}),a||qt(e?nn(r):o,function(e,t){return r[e]})||(c[Ui]={}),s)):s},dispatchEvents:function(e){var t=this;return Gt(In(e,s),t.dispatchStack,t)&&t},dispatchStack:function(e){return this[be](e)},dispatchEvent:function(e,t,n){var r,i,o,u=this,a=u[Bi];if(a&&a.has(e)&&!a.running[e]&&!a.queued[e]&&(i=a.validate(e,t,n)))return yt(i)&&(e=i[0],t=i[1],n=i[2]),r=a.create(u,t,e,n),o=a.dispatch(e,r)}})});var Wi=Rr(V+"ren"),zi=V+"Options",$i=V+"Events";e.scope(function(e){var t=Fe.Collection,n=Fe.Events,r=(Fe.Collection,"sort"),o="added",u="unwrap",a="removed",s="stopListening",c="_delegatedParentEvents",f="_parentDelgatedChildEvents",l=function(e,t){return L(e,t)},d=function(e,t){var n,r=nr(e,$i);t&&r&&(n=t.directive(Bi),n[f]=r,e.listenTo(t,r))},h=function(e,t){var n;t&&e[s]&&(n=t[Bi])&&n[f]&&(e[s](t,t[f]),n[f]=i)},v=function(e,t){var n,r=t[J],i=nr(t,J+"Events");r&&i&&(n=t.directive(Bi),n[c]=i,t.listenTo(r,i))},m=function(e,t){var n;t[s]&&(n=t[Bi])&&n[c]&&(t[s](e,t[c]),n[c]=i)},g="Syncer",w=function(e,t){return function(){var e=this,n=n+"Type",r=e.url(n);return r||mr({message:"syncer methods must have a url"}),t(e,r,n)}},b=Fe[g]=Fe.Events.extend(g,{createType:"POST",updateType:"PUT",fetchType:"GET",sync:function(){},destroy:function(){},fetch:function(){},stringify:Ze,update:w("update",function(e,t,n){var r=e.toJSON();e.request=Fe.HTTP({url:t,type:n,data:e.stringifyPosts?e.stringify(r):r})}),create:w("create",function(e,t,n){e.request=Fe.HTTP({url:t,type:n}).success(function(t){e[be]("sync",t)})}),url:function(){return""}}),x=(e.defineDirective(g,b[N]),Fe[Wi]=Fe.Collection.extend(Wi,{constructor:function(e){return this[F]=e,Fe.Collection[N].call(this),this},attach:function(e){var t=this,n=t[F],r=e[be]&&e[be](E+o);return t.detach(e),t.addToHash(e),v(n,e),d(n,e),r=e[be]&&e[be](o),e},detach:function(e){var t,n=this;return(t=e[J])?(e[be](E+a),m(t,e),h(t,e),n.removeFromHash(e),delete e[J],e[be](a),e):e},addToHash:function(e){var t=this,n=t[F];e[J]=n,t.add(e),t.keep(y,e.id,e),t.keep("cid",e.cid,e)},removeFromHash:function(e){var t=this;e&&(t.remove(e),t.drop(y,e.id),t.drop("cid",e.cid))},save:function(){},fetch:function(){}})),k=Fe.Parent=Fe.Events.extend("Parent",{Child:De,childOptions:Ge,parentEvents:Ge,childEvents:Ge,childConstructor:function(){return this.Child===De?this.__constructor__:this.Child||k},isChildType:function(e){return rt(e,this.childConstructor())},add:function(e,n){var r,i=this,a=i.directive(Wi),s=Dt(nr(i,zi),n||{}),c=t(e);return c[Q]()?(c=c.foldl(function(e,t){var n=i.isChildType(t),o=i.childConstructor(),u=n?t:new o(t,s),c=a.get(y,u.id);return c?(c.set(n?t[M]():t),u=c):(r=De,a.attach(u)),e.push(u),e},[]),r&&i[be](V+p+o),c):c[u]()},remove:function(e){var n,r,i,o=this,u=e;return u==Le?(o=o[J],o.remove(this)):(n=t(),!dt(u)&&(r=o.directive(Wi))&&(u=r.get(y,u)),u&&dt(u)?(i=u&&u.unwrap?u.unwrap():u,t(i).each(function(e){var t,r,i=e[J];n.push(e),i&&(r=i[Wi],t=r&&r.detach(e))}),n[Q]()&&o[be](V+p+a),n):n)},sort:function(e){var t,n,i,o,u=this;return(t=u[Wi])?(n=e||u.comparator,ft(n)&&(o="!"===n[0],i=n,o&&(i=n.slice(1)),n=function(e,t){var n,r=e.get(i),u=t.get(i);return n=o?u-r:r-u}),t[r](n),u[be](r),u):u},destroy:function(){var e,t=this;return t.is(S)||t[be](C),e=t[J]&&t[J].remove(t),t[be](A),t.stopListening(),t}}),D=0,O=function(e,t){return e.id=t===i?++D:t,D},L=Fe.Model=Fe.Parent.extend("Model",{unset:Ci(G,"unset",Me),get:Ci(G,"get"),has:Ci(G,"has",Me),idAttribute:yr("id"),constructor:function(e,t){var r=this;return r.reset(e),n[N].call(this,t),r},defaults:function(){return{}},reset:function(e){var t,n,r=this,i=Sn(e)||{},o=r.defaults(i),u=Dt(o,i),a=r.idAttribute(u),s=(O(r,u[a]),nn(u));return(n=r.is(z))&&r[be](E+z),(n||s[Q])&&(t=r.directive(G),t[z](u)),n&&r[be](z,u),r.mark(z),r},destroy:function(){return k.fn.destroy.call(this),delete this.id,this},set:function(e,t){var n,r=[],i=this,o=i.directive(G);return Zn(e,t,function(e,t){o.set(e,t)&&!o.changing[name]&&(n=n||i.directive(Bi),r.push(e))}),r[Q]?(o.digest(i,function(){Gt(r,function(e){var t=T+e;o.changing[e]=De,i[be](t),o.changing[e]=Me})}),i):i},toJSON:function(){return this.clone()},clone:Ci(G,"clone",function(){return{}}),valueOf:function(){return this.id},toString:function(){return Ze(this)}});e.defineDirective(Wi,x[N]),l[N]=L[N]});var Gi=Fe.Model,Ji="actions",Qi="propagation",Xi="Stopped",Yi="defaultPrevented",Ki=Qi+"Halted",Zi=Qi+Xi,eo="immediate"+Rr(Qi)+Xi;e.scope(function(e){var t=e._,n=t.factories,r=1,o=n.Collection,u=0,a=function(){return this.id},s="passedData",c=n.ObjectEvent=n.Directive.extend("ObjectEvent",{constructor:function(e,t,n,r,i){var o=this;return o.unmark(Ki),o.unmark(Zi),o.unmark(eo),o[W]=e,o[R]=n,o[P]=n.split(p)[0],o.timestamp=kt(),o.timeStamp=i||o.timestamp,o[s]={},o.data(t),r&&Dt(o,r),o},isStopped:function(){return this.is(Zi)||this.is(eo)},data:function(e){return arguments[Q]?this.set(e):this[s]},get:function(e){return this[s][e]},set:function(e){var t=this;return t[s]=dt(e)?e:{},t},stopImmediatePropagation:function(){this.stopPropagation(),this.mark(eo),this.mark(Ki)},stopPropagation:function(){this.mark(Zi)},preventDefault:function(){this[Yi]=De},defaultIsPrevented:function(){return this[Yi]},action:function(e){var t=this;return t.directive(Ji).push(e),t},finished:function(){var e,t=this;t.mark(_),t.defaultIsPrevented()||(e=t[Ji])&&e.call(t)}});n.EventsDirective=n.Directive.extend("EventsDirective",{cancelled:t.noop,validate:yr(De),constructor:function(e){var t=this;return t.target=e,t.listenId="l"+ ++u,t.handlers={},t.listeningTo={},t.running={},t.queued={},t.stack=o(),t.removeQueue=o(),t.proxyStack=o(),t.proxyStack.unmark("dirty"),t},attach:function(e,t,n){var i,u=this,s=u[Fi];t.id=++r,t.valueOf=a,t.context=t.context||t.origin,n&&st(n)&&n(u,t),t.fn=Wt(t.fn||t.handler,t.context),i=s[e]=s[e]||o(),i[R]=e,t.list=i,u.add(i,t)},create:function(e,t,n,r){return c(e,t,n,r)},make:function(e,t,n){return{disabled:Me,namespace:e&&e.split&&e.split(p)[0],name:e,handler:t,origin:n}},seekAndDestroy:function(e,t,n){for(var r,i=this,o=e.unwrap(),u=o[Q]-1;u>=0;u--)r=o[u],r.disabled||t&&r.handler!==t||n&&r.context!==n||i.detach(r,u)},nextBubble:function(e){return e.parent},bubble:function(e,t,n){for(var r,i=this,o=i.target,u=[o],a=o;a;)r=a,a=i.nextBubble(r,u),a&&u.push(a),r===a&&mr({message:"bubbling discerners must return a different object each time it is run"});return Gt(u,function(r){r[be](e,t,n)}),o},add:function(e,t){e.push([t])},remove:function(e,t,n){e.removeAt(t,n)},detachCurrent:function(){return this.detach(this[oe].last())},detach:function(e,t){var n,r=this,o=e.listening,u=e.list;e.disabled=De;return e.removed?De:(e.removed=De,r.remove(u,e,t),e.list=i,r.wipe(u),o&&(o.count--,o.count||(n=o.listeningTo,n[o[Vi]]=i)),De)},wipe:function(e){return e[Q]()?Me:(this.scrub(e),De)},scrub:function(e){e.scrubbed=De,delete this[Fi][e[R]]},reset:function(){return Jt(this.handlers,this.scrub,this)},queue:function(e,t,n){return e.unwrap().push(t)},unQueue:function(e,t,n){return e.pop()},has:function(e){return this.handlers[e]&&this.handlers[e][Q]()},dispatch:function(e,t){var n,r,i,o=0,u=this,a=u[oe],s=u[Fi],c=s[e],f=u.running,l=f[e],d=t.is(Zi);u.proxyStack;if(l)return mr({message:"cannot stack events coming from the same object"});if(!d&&c&&c[Q]()){for(f[e]=De,n=u.subset(c.unwrap(),t),r=n[Q];r>o&&!d;o++)i=n[o],!i.disabled&&u.queue(a,i,t)&&(i.fn(t),u.unQueue(a,i,t)),d=!!t.is(Ki);return d&&u.cancelled(a,t),t.finished(),f[e]=!!l,t.returnValue}},subset:function(e){return e.slice(0)}});e.defineDirective(Bi,n.EventsDirective[N])}),e.scope(function(e){var t=e._,n=it(f),r=t.factories,o="counter",u="changing",a=r.DataDirective=r.Directive.extend("DataDirective",{constructor:function(){var e=this;return e[L]={},e.previous={},e[u]={},e[o]=0,e},set:function(e,t){var n=this,r=n[L];return sn(r[e],t)?Me:(n.previous[e]=r[e],n[L][e]=t,De)},get:function(e){return this[L][e]},clone:function(){return cn(this[L])},unset:function(e){var t=this[L],n=t[e];return delete t[e]&&n!==i},reset:function(e){this[L]=e||{}},digest:function(e,t){var n=this;++n[o],t(),--n[o],n[o]||(e[be](k,n[u]),n[u]={},n.previous={})},getDeep:function(e){var t,r=this,o=r[L];return Gt(n(e),function(e,n,r){var i=n===r[Q];t=e,i||(o=dt(o[e])?o[e]:{})})&&(ft(t)?i:o[t])},has:function(e){return this[L][e]!==i},each:function(e){return Jt(this[L],e,this)}});e.defineDirective(G,a[N])}),e.scope(function(e){var t=e._,n=t.factories,r=n.Collection,i="success",o="registered",u="state",a="every",s="failures",c="counter",f="groupIndex",l="Linguistics",d=function(e){return function(t){return sn(t,e)}},h=function(e){return function(t){return t>e}},p=function(e){return function(t){return e>t}},v=function(e){return function(t){var n=this;return n[e].push(Wt(t,n)),n}},m=function(e,t){return function(){var n=this;return Gt(arguments,function(r){n.add(r,e,t)}),n}},g=m(De),w=function(e,n,r,i){var o=Wt(r,e),u=i?t.negate(o):o;return{key:n,context:e,handler:r,fn:u}},y=function(){this.stopListening()},b=n.Linguistics=n.Events.extend(l,{then:v(i),always:v(a),otherwise:v(s),is:m(),isnt:g,isNot:g,isGreaterThan:m(Me,h),isLessThan:m(Me,p),isNotGreaterThan:m(De,h),isNotLessThan:m(De,p),constructor:function(e){var t=this;return t.origin=e,t[c]=0,t[f]=-1,t[o]={},t.logic=new r[N],t[i]=new r[N],t[s]=new r[N],t[a]=new r[N],t.group(),t.listenTo(t.origin,{change:"apply",destroy:y}),this},when:function(e){return this[J]?this[J].when(e):mr({message:"this sequencer has been destroyed"})},and:function(e){var t=this;return t[L]=e,t.bind(e),t},or:function(e){return this.group(),this.and(e),this},group:function(){var e=this;return++e[f],e.logic.push({index:e[f],list:new r[N]}),e},increment:function(){++this[c]},bind:function(e){var t=this,n=t[o];n[e]||(n[e]=De,this.listenTo(this.origin,T+e,t.increment))},unbind:function(e){var t=this,n=t[o];n[e]&&(n[e]=Me,this[Hi](this.origin,T+e,t.increment))},value:function(e,t){return st(e)?e:t(e)},add:function(e,t,n){var r=this,i=r[L],o=r.value(e,n||d),u=w(r,i,o,t);return r.logic.item(r[f]).list.push(u),r},check:function(){var e=this;return!(!e[c]||!e.logic.find(function(t){return!t.list.find(function(t){return!t.fn(e.origin.get(t.key))})}))},restart:function(){return this[c]=0,this},handle:function(e,t){var n=this;n[e]&&n[e].call(t);return n},run:function(){var e=this;e[u]?e.handle(i):e.handle(s),e.handle(a)},apply:function(){var e=this,t=e.check();return e.restart(),e[u]!==t&&(e[u]=t,e.run()),e}}),A=l+"Manager",x=n[A]=n.Model.extend(A,{when:function(e){var t=new b[N](this.target);return this.add(t),t.and(e)},constructor:function(e){return this.target=e,this}});e.defineDirective(l,x[N])});e.scope(function(e){var t=e._,n=t.factories,r="failure",i="success",o="pending",u="state",a="catch",s="always",c="reason",f="fulfilled",l="settled",d="rejected",h="emptying",p=(Rr(a),"allStates"),v="stashedArgument",m="stashedHandlers",g="listening",w=t.flatten,y=t.bind,b=t.isString,A=t.intendedObject,x=(t.duff,t.each,t.extend),k=t.toArray,T=t.isFunction,C=(t.foldl,t.result),S=t.wraptry,D=(t.indexOf,function(e,t){var n,r,i,o=[],u=e[v],s=e[m],c=s[Q],f=function(){return n.key===a?(o.push(n),void(r&&l(r))):void(t[n.key]&&n.fn(u))},l=function(e){r=e,i=De;var t=o.slice(0);o=[],ir(t,"fn",r)};if(s&&s[Q]){for(e.mark(h);s[0]&&--c>=0;)n=s.shift(),S(f,l);i&&l(r),e.unmark(h)}return e}),M={message:'promise cannot resolve to an unknown or invalid ("", false, null, 0, etc.) state. Please check your resolution tree as well as your resolveAs method input'},L=function(e,t,n){var o=t,u=C(e,p),a={},s=2===arguments[Q]?tt(e,v)?e[v]:e[c]:n,f=[];do a[o]?o=Me:(o===i&&(V(e,De),e[v]=s),o===r&&(V(e,Me),e[c]=s),u[o]?a[o]?o=Me:(a[o]=De,f.push(o),o=u[o]):mr(M));while(b(o));return f[Q]?D(e,a,s):mr(M)},j=function(e){return this[e]||(this[e]=function(){return this.handle(e,k(arguments))}),this},I=function(){var e,t=De,n=this,o=n.directive(Oi),u=[],a=o.find(function(n){return e=e||n.is(d),t=t&&n.is(l),u.push(n[v]),e});return e?n.resolveAs(r,a[c]):t&&n.resolveAs(i,u),n},R=function(){var e,t=this,n=t.directive(Oi);return(e=n.find(function(e){return e.is(l)}))&&t.resolveAs(e[u],e[v]),t},P={success:s,failure:s,"catch":De,always:De},_=function(e,t){var n=e.directive(Oi);w(t,De,function(t){e.isChildType(t)&&(n.add(t),n.keep("cid",t.cid,t))})},B=function(e,t){var n=y(t,e),r=e.directive(Oi);r.each(function(e){r.get(g,e.cid)||(r.keep(g,e.cid,De),e.always(function(){n()}))})},H=function(e){return function(){var t=this;return t[u]!==o?t:(_(t,arguments),B(t,e),t)}},V=function(e,t){e.remark(f,t),e.remark(d,!t)},U=n.Promise=t.Promise=Gi.extend("Promise",{addHandler:j,fulfillKey:"success",rejectKey:"reject",constructor:function(e){var n=this;return n.state=o,n[m]=[],n[c]=Me,Gi[N].call(n),A(x({},P,C(n,"associativeStates")),Le,j,n),e&&e(t.bind(n.fulfill,n),t.bind(n.reject,n),t.bind(n.resolveAs,n)),n},isChildType:function(e){return e[i]&&e[r]&&e[s]&&e[a]},auxiliaryStates:function(){return Me},allStates:function(){return x({},P,C(this,"auxiliaryStates")||{})},resolveAs:function(e,t){var n,i=t,o=e,u=this;return u.is(l)?u:(u.mark(l),u.state=o||r,o=u.state,u[be](E+"resolve"),n=L(u,o,i),u)},fulfill:function(e){return this.resolveAs(i,e)},resolve:function(e){return this.fulfill(e)},reject:function(e){return this.resolveAs(r,e)},when:function(){return this.all(arguments)},thenable:function(e){return U(e)},then:function(e){var t=this,n=t.thenable(e);return t.always(function(e){return t.is(f)?n.resolve(e):n.reject(e)}),n},all:H(I),race:H(R),stash:Yn(function(e,t){var n=this,r=n[m];w(T(t)?[t]:t,De,function(t){T(t)&&r.push({key:e,fn:y(t,n)})})}),handle:Yn(function(e,t){var n=this,r=(n[v],t);n.stash(e,r),n.is(l)&&L(n,n[u])})}),q=U[N][O],F=(q.addHandler(i).addHandler(r).addHandler(s).addHandler(a),U()),W=function(e){return function(){var e=U();return e.race.apply(e,arguments)}};e.extend({dependency:y(F.all,F)}),U.all=W("all"),U.race=W("race")});var to=kr.Promise;e.scope(function(e){var t=e._,n=t.factories,r="items",o=t.extend,u=t.isObject,a=t.removeAt,s={}.toString;n.Associator=n.Directive.extend("Associator",{get:function(e,t){var n,o,a=this,s={},c=u(e),f=a.sameType(e,c),l=(f[r]=f[r]||[],f[ve]=f[ve]||{}),d=f[G]=f[G]||[];return c?e&&f.readData?(o=e[ve]=e[ve]||jr("el"),o&&(s=l[o]=l[o]||{})):(n=f[r][ne](e),n!==i&&-1!==n||(n=f[r][Q],f[r].push(e),d[n]=s),s=d[n]):(f[ve][e]=f[ve][e]||{},s=f[ve][e]),s.target=e,s},set:function(e,t,n){var r=this.get(e,n);return o(r,t||{}),r},remove:function(e){var n,i=this.sameType(e);i.readData?(n=e[ve],delete i[ve][n]):(n=t[ne](i[r],e),-1!==n&&(a(i[G],n),a(i[r],n)))},sameType:function(e,t){var n=this,r=t===i?u(e):t,o=s.call(e),a=e&&e.window===e,c=a?"[object global]":o.toLowerCase(),f=n[c]=n[c]||{},l=c[ne]("global"),d=-1===c[ne](re);return-1===l&&d&&r&&(f.readData=De),f}})}),e.scope(function(e){var t=e._,n=t.factories,r="catch",i="error",u="status",s="failure",c="success",f="readyState",l=o.XDomainRequest,d=t.stringifyQuery,h="GET",v="progress",m=In(h+",POST,PUT,DELETE,HEAD,TRACE,OPTIONS,CONNECT"),g=In(v+",timeout,abort,"+i),w=function(e){var t=0,n=e.requestObject;Gt(g,function(r){r===v?n["on"+r]=function(n){var r=n.loaded/n.total;t++,e[be](v,{percent:r||t/(t+1),counter:t},{originalEvent:n})}:n["on"+r]=function(t){e.resolveAs(r,t)}})},y=function(e,t,n){return function(){return gr(function(){return e.send.apply(e,t)},function(e){n.resolveAs(r,e,e.message)})}},b=function(){var e=this,t=e.requestObject,n=e.get("type"),r=e.getUrl(),i=[],o=e.get("data");r&&(e.attachResponseHandler(),t.open(n,r,e.get("async")),o&&i.push(Ze(o)),e.headers(e.get("headers")),w(e),setTimeout(y(t,i,e)))},A=n.HTTP=to.extend("HTTP",{parse:Sn,constructor:function(e,r){var i,o,u,s=this,c="onreadystatechange",f=new XMLHttpRequest;return t.isUndefined(l)||(f=new l,c="onload"),t.isObject(e)||(e=e||a,u=h,o=e.toUpperCase(),-1!==Qe(m,o)?u=o:i=e,e={url:i||a,type:u}),e.async=De,e.type=(e.type||h).toUpperCase(),e.method=c,n.Promise[N].call(s),s.on("change:url",b),Dt(s,r),s.requestObject=f,s.set(e),s},status:function(e,t){return this.handle(u+p+e,t)},headers:function(e){var t=this,n=t.requestObject;return Jt(e,function(e,t){n.setRequestHeader(t,e)}),t},getUrl:function(){var e=this.get("url");return dt(e)&&!yt(e)&&(e=d(e)),e},auxiliaryStates:function(){return{"status:0":s,"status:200":c,"status:202":c,"status:204":c,"status:205":c,"status:302":c,"status:304":c,"status:400":s,"status:401":s,"status:403":s,"status:404":s,"status:405":s,"status:406":s,"status:500":s,"status:502":s,"status:505":s,"status:511":s,timeout:s,abort:s}},attachResponseHandler:function(){var e=this,t=e.requestObject,n=Me,r=e.get("method"),i=function(t){var i,o,a,s=this;s&&!n&&(i=s[u],a=s.responseText,("onload"===r||"onreadystatechange"===r&&4===s[f])&&(e.set(u,i),o=nr(e,"allStates"),a=nr(e,"parse",a),n=De,e.resolveAs(u+p+s[u],a)))};return t[r]||(t[r]=i),e}});t.foldl(m,function(e,n){var r=n;return r=r.toLowerCase(),e[r]=function(e,r){return A(t.extend({type:n,url:e},r))},e},A)}),e.scope(function(e){var t=e._,n=t.factories,r=n.Model,o=(n.Collection,"module"),u=(Rr(o),ue+"ed"),a="initialized",c=a+p+"sub"+o,l="defined",d={start:function(e){var t=this;return t.is(u)||(t.mark(u),t[be](ue,e)),t},stop:function(e){var t=this;return t.is(u)&&(t.unmark(u),t[be](ae,e)),t},toggle:function(e){var t=this;return t.is(u)?t[ae](e):t[ue](e),t},restart:function(e){var t=this;return t.is(u)&&t[ae](e),t[ue](e),t}},h=(n.Startable=n.Model.extend("Startable",d),function(e){this.startWithParent&&this[ue](e)}),v=function(e){this.stopWithParent&&this[ae](e)},m=function(e,t){var n=[];return Gt(t,function(t){var r=e.module(t);r.is(a)&&n.push(r[j])}),n[Q]===t[Q]?n:Me},g=t.Promise,w={module:function(t,n,r){var i,o,u,s,d,h=this,p=t,v=p.split(f),m=h.directive(Wi).get(t),w=function(){m.mark(l),m[J].bubble(c)};if(m){if(h=m[J],!r)return m;v=[m.id]}else for(;v.length>1;)h=h.module(v[0]),v.shift();return d=h.directive(Wi),p=v.join(f),m=d.get(y,p),m||(o=h.globalname?h.globalname.split(f):[],o.push(p),u=o.join(f),s=Dt({},nr(h,zi)||{},{application:e,parent:h,id:p,globalname:u}),h===e?(m=b({},s),d.add(m)):m=h.add({},s)[0],d.keep(y,p,m),e[Wi].keep(y,u,m)),(wt(n)||st(n)||st(r))&&(m[j]=m[j]||{},m.mark(a),i=m.run(n,r),i&&g.fn.isChildType(i)?i.success(w):w()),m},createArguments:function(e){var t=this;return[t].concat(t[I].createArguments(e))},run:function(e,t){var n,r=this,o=wt(e)?t:e,u=o===e?window:e;return st(o)&&(n=o.apply(r,r.createArguments(u))),n===i?r:n},publicize:function(e,t){var n=this;return Zn(e,t,function(e,t){n[j][e]=t}),n},constructor:function(e,t){var n=this;return n.startWithParent=De,n.stopWithParent=De,n[j]={},r[N].apply(n,arguments),n.listenTo(n[J],{start:h,stop:v}),n},topLevel:function(){return!this[I]||this[I]===this[J]},require:function(e,n){var r,i,o,u,a=this;return st(n)?(r=t.Promise(),o=In(e,s),yt(o)&&o[Q]?(o=o.slice(0),r.success(Wt(n,a)),(u=m(a,o))?r.fulfill(u):a[I].on(c,function(){(u=m(a,o))&&(a.off(),r.fulfill(u))}),r):r):(i=a.module(e),i.is(l)?i[j]:mr({message:"that module has not been "+l+" yet"}))}},b=n.Module=n.Model.extend(o,Dt({},d,w)),A=function(e,t){var n=e._,r=e.directive(Uo).documents.get(y,t[ie][ve]);return[e,n,n&&n.factories,r,r.factories,r.$]};e.extend(Dt({},n.Directive[N][O],n.Events[N][O],n.Parent[N][O],d,w,{createArguments:function(e){return A(this,e)}}))});var no="attached",ro="iframe",io="localName",oo="childNodes",uo="fragment",ao="nodeType",so="parentNode",co=function(e,t){var n;return e&&jo(e)?(n=e[io].toLowerCase(),t?n===t.toLowerCase():n):Me},fo=function(e,t,n){n===Me||n==Le?mo(e,t):e.setAttribute(t,(n===De?a:Ze(n))+a)},lo=function(e,t){var n,r;return t&&e&&1===e[ao]?(r=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?r.call(e,t):(n=e[so],n||(n=createElement(DIV,ensure(e.ownerDocument,De)),n[APPEND_CHILD](e)),-1!==Qe(query(t,n),e)):Me},ho=function(e,t){var n=e.getAttribute(t);return vo(n)},po=function(e){var t=+e;return e[Q]&&t==e?t:e},vo=function(e){var t=e;return t===a?De:t==Le?Me:po(t)},mo=function(e,t){e.removeAttribute(t)},go={preventUnCamel:Me,read:ho,write:fo,remove:mo},wo=function(e,t){e&&(t?t.appendChild(e):e.parentNode&&e.parentNode.removeChild(e))},yo=function(e,t){return e[t]},bo=function(e,t,n){e[t]=n},Ao=function(e,t){e[t]=Le},xo={preventUnCamel:De,read:yo,write:bo,remove:Ao},ko=function(e){var t={tagName:co(e),comment:Me,text:Me};return Gt(e.attributes,function(e){var n=t.attributes=t.attributes||{};n[Ir(e[io])]=e.nodeValue}),t},Eo=function(e){return{tag:Me,comment:De,text:Me,content:e}},To=function(e){return{tag:Me,comment:Me,text:De,content:e}},Co=function(e,t,n,r){var i=t[io];r?(e.attrsA[i]=De,e.accessB[i]=t.nodeValue):(e.attrsA[i]=De,e.accessA[i]=t.nodeValue),e.hash[i]||(e.hash[i]=De,e.list.push(i))},So={updateText:function(e,t){return function(){e.textContent=t}},removeNodes:function(e){return function(){return wo(e),De}},addNodes:function(e,t,n){var r=document.createDocumentFragment();return Gt(t,function(e){r.appendChild(e)}),function(){return e.appendChild(r),De}},updateAttribute:function(e,t,n){return function(){go.write(e,t,n)}},replaceNode:function(e,t,n){return function(){var n=e[so];Oo(n,e,t),wo(t)}}},Do=function(e,t){return t&&e.appendChild&&e.appendChild(t)},Mo=function(e,t,n){return t&&e.insertBefore&&e.insertBefore(t,n)},Oo=function(e,t,n){var r;dt(n)?Mo(e,t,n):lt(n)?(r=e[oo],n=r[Q]>n?r[n]:Me,n?Mo(e,t,n):Do(e,t)):n||Do(e,t)},No=function(e,t,n,r,o){var u=!o,a=o||[];if(co(e)!==co(t)||e.nodeType!==t.nodeType)return u&&mr({message:"at least the first node must match tagName and nodeType"}),Me;if(3===e.nodeType)return void(e.textContent!==t.textContent&&a.push(So.updateText(e,t.textContent)));if(go.read(t,"is"))return De;var s=e.attributes.length,c=t.attributes.length,f=fr({length:Math.max(s,c)},function(n,r,i){n.aLength>i&&Co(n,e.attributes[i],a),n.bLength>i&&Co(n,t.attributes[i],a,De)},{list:[],hash:{},attrsA:{},accessA:{},attrsB:{},accessB:{},aLength:s,bLength:c});Gt(f.list,function(t){f.accessA[t]!==f.accessB[t]&&a.push(So.updateAttribute(e,t,f.accessB[t]===i?Le:f.accessB[t]))});var l=e.childNodes,d=t.childNodes,h=l[Q],p=d[Q];return qt({length:Math.max(h,p)},function(r,i){var o;if(i>=h)return a.push(So.addNodes(e,In(d).slice(i))),De;if(n(t))return i>=p?(a.push(So.removeNodes(In(l).slice(i))),De):(o=No(l[i],d[i],n,i,a),void(o===Me&&a.push(So.swapNode(e,t))))}),a},Lo=function(e,t,n){var r,i,o,u=t||Ge;return r=ko(e),r.attributes&&r.attributes.is&&r.attributes.dataRenderer?{selfSufficient:De}:u(e,r)?(i=e.childNodes,(o=i[Q])?(r.children=fr(i,function(e,t){if(jo(t))return void e.push(Lo(t,u,n));if(3===t.nodeType)return void e.push(To(t.textContent));if(n)return 8===t.nodeType?void e.push(Eo(t.textContent)):void e.push({err:De})},[]),r):r):r},jo=function(e){return!(!e||!lt(e[ao])||e[ao]!==e.ELEMENT_NODE)},Io=function(e){return e&&lt(e[ao])&&e[ao]===e.DOCUMENT_NODE},Ro=function(e){return e&&e[ao]===u.DOCUMENT_FRAGMENT_NODE},Po=function(e){return wt(e)||jo(e)||Io(e)||Ro(e)},_o=function(e){return In(e.children||e.childNodes)},Bo=Fe.Associator();e.scope(function(e){var t=e._,n="Attributes",r="DomManager",l=A+"ed",d="custom",h="removing",v="accessable",m=d+"Listener",x="Child",E="append"+x,T="remove",C="html",S="innerHTML",D="text",L="innerText",j="outerHTML",I="registeredAs",P="attributeChange",_="attributesChanging",B="delegateCount",V="captureCount",W="is",z="["+W+"]",G=se+c+R,J="fontSize",X="defaultView",Y="div",K=o.devicePixelRatio||1,Z=function(e,t){var n;return n=t===De?Bo.get(e):t.data.get(e),n[r]||(n[r]=bi(e,n,t)),n[r]},ee=/(.)^/,te={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ne=/\\|'|\r|\n|\u2028|\u2029/g,oe=function(e){return"\\"+te[e]},ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ae=At(ue),Ae=function(e){var t=function(t){return e[t]},n="(?:"+nn(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==Le?a:a+e,r.test(e)?e.replace(i,t):e}},xe=Ae(ue),ke=Ae(ae),Te=function(e,n){var r=Dt({},n),i=RegExp([(r.escape||ee).source,(r.interpolate||ee).source,(r.evaluate||ee).source].join("|")+"|$","g"),o=0,u="__HTML__+='";e.replace(i,function(t,n,r,i,a){return u+=e.slice(o,a).replace(ne,oe),o=a+t[Q],n?u+="'+\n((__t=(this."+n+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=(this."+r+"))==null?'':__t)+\n'":i&&(u+="';\n"+i+"\n__HTML__+='"),t}),u+="';\n",r.variable||(u="with(this||{}){\n"+u+"}\n"),u="var __t,__HTML__='',__j=Array.prototype.join,print=function(){__HTML__+=__j.call(arguments,'');};\n"+u+"return __HTML__;\n";var a=t.wraptry(function(){return new Be(r.variable||"_",u)}),s=function(e){return a.call(e||{},t)},c=r.variable||"obj";return s.source="function("+c+"){\n"+u+"}",s},Oe=function(e,t,n){var r,i=n.templates=n.templates||Pi(),o=i.get(y,e);return o?o:(r=t||n.$("#"+e).html(),o=Te(r,n.templateSettings),o.id=e,i.push(o),i.keep(y,e,o),o)},Ne=function(e){var t=e||o;return wt(t)?t:t&&t[X]?t[X]:t.ownerGlobal?t.ownerGlobal:_i(t).parent(re)[ge](0)||o},je=function(e,t){var n=Ne(t).getComputedStyle(e);return n?n:Ne(e).getComputedStyle(e)||cn(e[Ce])||{}},Ie=je(u[Se],o),Re=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^device/,He=/^webkitmouseforce/,Ue=o.Image,qe=(function(){var e=4,t=De,n=[],r=function(r){return function(){e--,r(),e||(Gt(n,function(e){e(t)}),n=[])}};return Gt(["UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==","UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==","UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"],function(e){var n=new Ue;n.onload=r(Ge),n.onerror=r(function(){t=Me}),n.src="data:image/webp;base64,"+e}),function(r){e&&t?n.push(r):r(t)}}(),function(e,t){var n=new Ue;return e=Jn(e),t&&(n.onload=function(){var n=In(arguments);Ve.unshift(n,e),t.apply(this,n)}),n.src=e,n}),We=Me,ze=function(e,t){var n=t||e;return function(e){var t=e.element(),r=We;We=De,Et[n]&&st(t[n])?t[n]():e[be](n),We=r}},$e=function(e,t){var n=e||t,r=ze(n,t);return function(e,t,i){var o=this;return st(e)||st(t)?o.on(n,e,t,i):r(o),o}},Je=In("abort,afterprint,beforeprint,blocked,cached,canplay,canplaythrough,change,chargingchange,chargingtimechange,checking,close,complete,dischargingtimechange,DOMContentLoaded,downloading,durationchange,emptied,ended,error,fullscreenchange,fullscreenerror,input,invalid,languagechange,levelchange,loadeddata,loadedmetadata,message,noupdate,obsolete,offline,online,open,pagehide,pageshow,paste,pause,pointerlockchange,pointerlockerror,play,playing,ratechange,reset,seeked,seeking,stalled,storage,submit,success,suspend,timeupdate,updateready,upgradeneeded,versionchange,visibilitychange"),Xe=In("SVGAbort,SVGError,SVGLoad,SVGResize,SVGScroll,SVGUnload,SVGZoom,volumechange,waiting"),Ye=In("keydown,keypress,keyup"),Ke=In("gamepadconnected,gamepadisconnected"),et=In("compositionend,compositionstart,compositionupdate,drag,dragend,dragenter,dragleave,dragover,dragstart,drop"),nt=In("click,contextmenu,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,show,wheel"),rt=In("touchcancel,touchend,touchenter,touchleave,touchmove,touchstart"),it=In("devicemotion,deviceorientation,deviceproximity,devicelight"),ot=In("blur,focus"),at=In("beginEvent,endEvent,repeatEvent"),ct=In("animationend,animationiteration,animationstart,transitionend"),ht=In("audioprocess,complete"),pt=In("abort,error,hashchange,load,orientationchange,readystatechange,resize,scroll,select,unload,beforeunload"),vt=In("abort,error,load,loadend,loadstart,popstate,progress,timeout"),mt=mn(Je,Xe,Ye,et,Ke,nt,rt,it,ot,at,ct,ht,pt,vt),yt=In("-o-,-ms-,-moz-,-webkit-,mso-,-xv-,-atsc-,-wap-,-khtml-,-apple-,prince-,-ah-,-hp-,-ro-,-rim-,-tc-"),bt=In("a,abbr,address,area,article,aside,audio,b,base,bdi,bdo,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,data,datalist,dd,del,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hr,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,main,map,mark,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rb,rp,rt,rtc,ruby,s,samp,script,section,select,small,source,span,strong,style,sub,sup,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,track,u,ul,var,video,wbr"),xt=ln(bt,De),Et=ln(mt,De),Tt=(ln(yt,De),
Fe.StringManager),Ct=function(e,t,n){var r=mi(e,t);return r.ensure(n===De?a:n,s)},St=function(e,t){var n=e.getBoundingClientRect(),r=je(e,t.element()),i=Pt(r.marginTop),o=Pt(r.marginLeft),u=Pt(r.marginRight),a=Pt(r.marginBottom);return{height:n[me]+i+a,width:n[pe]+o+u,top:n[fe]-i,left:n[le]-o,right:n[le]+n[pe]+u,bottom:n[fe]+n[me]+a}},Mt={columnCount:De,columns:De,fontWeight:De,lineHeight:De,opacity:De,zIndex:De,zoom:De,animationIterationCount:De,boxFlex:De,boxFlexGroup:De,boxOrdinalGroup:De,flex:De,flexGrow:De,flexPositive:De,flexShrink:De,flexNegative:De,flexOrder:De,lineClamp:De,order:De,orphans:De,tabSize:De,widows:De,fillOpacity:De,stopOpacity:De,strokeDashoffset:De,strokeOpacity:De,strokeWidth:De},Ot={transitionDuration:De,animationDuration:De,transitionDelay:De,animationDelay:De},Nt=function(){var e,t,n,r,i,o,u,s,f,l,d=[],h={},p=0,v=function(e,t){-1===Qe(e,o)&&e.push(o)};for(e=0;e<yt[Q];e++)l=yt[e][Q],l>p&&(p=l);for(n in Ie){for(r=0,s=a,o=a,u=lt(+n)?Ie[n]:Pr(n),Pr(u),Ir(u),f=u,t=0;p>t&&u[t]&&!r;t++)s+=u[t],i=Qe(yt,s),-1!==i&&(o=yt[i],f=u.split(o).join(a),r=1),i=Qe(yt,c+s),-1!==i&&(o=yt[i],f=u.split(s).join(a),r=1);f=Ir(f),d.push(f),h[f]||(h[f]=[]),v(h[f],o)}return h}(),Lt=function(e,t){return+t!==+t?t:Ot[e]?t+"ms":Mt[e]?t:t+g},jt=function(e,t){var n,r,i={};return jo(e)?(r=je(e,t),n=Rt(e,t),{borderBottom:+r.borderBottomWidth||0,borderRight:+r.borderRightWidth||0,borderLeft:+r.borderLeftWidth||0,borderTop:+r.borderTopWidth||0,paddingBottom:+r.paddingBottom||0,paddingRight:+r.paddingRight||0,paddingLeft:+r.paddingLeft||0,paddingTop:+r.paddingTop||0,marginBottom:+r.marginBottom||0,marginRight:+r.marginRight||0,marginLeft:+r.marginLeft||0,marginTop:+r.marginTop||0,computedBottom:+r[he]||0,computedRight:+r[de]||0,computedLeft:+r[le]||0,computedTop:+r[fe]||0,top:n[fe]||0,left:n[le]||0,right:n[de]||0,bottom:n[he]||0,width:n[pe]||0,height:n[me]||0}):i},Rt=function(e){var t=jo(e)?e.getBoundingClientRect():{};return{top:t[fe]||0,left:t[le]||0,right:t[de]||0,bottom:t[he]||0,width:t[pe]||e.clientWidth||0,height:t[me]||e.clientHeight||0}},Pt=function(e,t){return+e.split(t||"px").join(a).trim()||0},_t=function(e,t,n){var r,i;return dt(e)?(i=jo(e)?je(e,n):e,r=i[t]):r=e,ft(r)&&(r=Pt(r)),r},Bt={":even":function(e,t){return t%2},":odd":function(e,t){return(t+1)%2}},Ht={"in":function(e,t,n,r){return e/96},vh:function(e,t,n,r){return e/n[we]*100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return e/37.79527559055118},vw:function(e,t,n,r){return e/n[ye]*100},em:function(e,t,n,r){return e/_t(t,J,n)},mm:function(e,t,n,r){return e/3.779527559055118},vmin:function(e,t,n,r){var i=Math.min(n[we],n[ye]);return e/i*100},rem:function(e,t,n,r){return e/_t(n[ie][Se][so],J,n)},pt:function(e,t,n,r){return e/1.333333333333333},vmax:function(e,t,n,r){var i=Math.max(n[we],n[ye]);return e/i*100},"%":function(e,t,n,r){var i=jo(t)?t[so]:t,o=_t(i,r,n);return e/o*100},pc:function(e,t,n,r){return e/16}},Vt={"in":function(e,t,n,r){return 96*e},vh:function(e,t,n,r){return n[we]*e/100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return 37.79527559055118*e},vw:function(e,t,n,r){return n[ye]*e/100},em:function(e,t,n,r){return _t(t,J)*e},mm:function(e,t,n,r){return 3.779527559055118*e},vmin:function(e,t,n,r){return(Math.min(n[we],n[ye])||1)*e/100},rem:function(e,t,n,r){return _t(n[ie][Se][so],J)*e},pt:function(e,t,n,r){return 1.333333333333333*e},vmax:function(e,t,n,r){return(Math.max(n[we],n[ye])||1)*e/100},"%":function(e,t,n,r){var i=jo(t)?t[so]:t,o=_t(i,r);return e*o/100},pc:function(e,t,n,r){return 16*e}},Ut=function(e,n,r){var i,o=this,u=(o.view,r||[]),a=e.length>elements.length?(i=e)&&n:(i=n)&&e;return t.foldl(a,function(e,t,n){var r=i[n],o=t.tagName,u=r.tagName;if(o===u){go.read(t,"is"),go.read(r,"is")}}),u},Ft=(ln([1,3,8],De),function(e,t,n,r){var i,o,u,a,s,c=t&&t.element(),f=t&&t.registeredElements,l=n,d=r,h=e;if(dt(h)){if(d=h.children,l=h.attributes,i=De,h=h.tagName,e.text)return Qt(e.content,t);if(e.comment)return Xt(e.content,t)}return o=f&&f[h],u=o===De?h:o,u||mr({message:"custom tag names must be registered before they can be used"}),a=c.createElement(u),o&&o!==De&&go.write(a,W,h),s=t.returnsManager(a),i||l||d?(l&&s.attr(l),d?(ft(d)?s.html(d):s.append(ai(d,t)),s):s):s}),Qt=function(e,t){return t.element().createTextNode(e)},Xt=function(e,t){return t.element().createComment(e)},Yt=function(e,t){var n=Ft(Y,t);return n.html(e),n.children().remove().unwrap()},Kt=function(e,t){return Yt(e,t)[0]},Zt=function(e,t){return t.is(ie)&&t.element().createDocumentFragment()},en=function(e,t,n){var r=[];return r.concat.apply(r,n?Nn(n,t):e.map(t))},tn=function(e,t){return _i(fr(In(e,s),function(e,n){var r=Ft(n,t);return e.push(r),e},[]),Le,Le,Le,t)},rn=function(e,t){var n,r=e;return Ro(r)?n=r:(_i.isInstance(r)&&(r=r.unwrap()),It(r)||(r=r&&In(r)),n=t.createDocumentFragment(),Gt(r,function(e){var r,i=t.returnsManager(e),o=i.element();i.is(H)&&!i.is(uo)&&(r=o[so],r&&!Ro(r)&&er([o],t),n[E](o))})),n},on=function(e){return function(t){var n=this;return t!==i?n.eachCall(e,t)&&n:n.results(e).join(a)}},an=function(e,t){return dn(function(n,r){var i=[],o=n.unwrap(),u=t||r;return u?n.duff(function(t){(traversal=t[e](u))&&add(i,traversal)}):i=o,i})},sn=function(e){var t="data-",n=Pr(e),r=e.slice(0,5);return t!==r&&(n=t+e),n},dn=function(e){return function(t,n,r,i,o){var u=this,a=e(u,t,n,r,i,o),s=new _i[N](a,Le,De,Le,u.context.owner);return s._previous=u,s}},pn=function(e,t){var n=Rt(e),r=n[he],i=n[de],o=n[le],u=n[fe],a=t.x,s=t.y,c=Me;return a>o&&i>a&&s>u&&r>s&&(c=De),c},vn=function(e){return{x:e[le]+e[pe]/2,y:e[fe]+e[me]/2}},gn=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},wn=function(e,t,n){return gn(e,t)<gn(e,n)},yn=function(e,t,n){var r,i,o,u,a=t.shift();return(ft(t[0])||t[0]==Le)&&(i=t.shift()),ft(t[0])&&(t[0]=e[t[0]]),st(t[0])?(r=t.shift(),o=t.shift(),ft(o)?(u=o,o=Me):o=!!o,u=t.shift(),n(e,a,i,r,o,u),e):this},bn=function(e){return function(){var t,n=this,r=In(arguments),i=r.shift();return dt(i)?(ft(r[0])&&(t=r.shift()),Jt(i,function(i,o){yn(n,[o,t,i].concat(r),e)}),n):(r.unshift(i),yn(n,r,e))}},An=function(e,t,n){return e&&dt(e)&&!wt(e)&&lt(e.AT_TARGET)?e:{data:Ze(e),type:n,bubbles:Me,eventPhase:2,cancelable:Me,defaultPrevented:Me,isTrusted:Me,timeStamp:kt(),target:t}},xn=function(e){var t=Me,n=e.eventPhase;return 1===n&&(t=De),t},kn=ln({resize:"resize,orientationchange",ready:"DOMContentLoaded",wheel:"wheel,mousewheel",deviceorientation:"deviceorientation,mozOrientation",fullscreenalter:"webkitfullscreenchange,mozfullscreenchange,fullscreenchange,MSFullscreenChange",hover:"mouseenter,mouseleave",forcewillbegin:"mouseforcewillbegin,webkitmouseforcewillbegin",forcechange:"mouseforcechange,webkitmouseforcechange",forcedown:"mouseforcedown,webkitmouseforcedown",forceup:"mouseforceup,webkitmouseforceup",force:"mouseforcewillbegin,webkitmouseforcewillbegin,mouseforcechange,webkitmouseforcechange,mouseforcedown,webkitmouseforcedown,mouseforceup,webkitmouseforceup"},In),En=fr(kn,function(e,t,n){return Gt(t,function(t){e[t]=n}),e},{}),Tn=function(e,t,n){var r=n||[];return function(n){var i=n,o=-1!==Qe(r,i);o||r.push(i),e[i]&&!o?Gt(e[i],Tn(e,t,r)):t(i,r[0],r.slice(0)),o||r.pop()}},Cn=bn(function(e,t,n,r,i,o){return st(r)?On(e,t,o,n,r,i):e}),Dn=bn(function(e,t,n,r,i,o){var u;return st(r)&&On(e,t,o,n,u=un(function(){return Ai(e,t,o,n,u,i),r.apply(this,arguments)}),i)}),Mn=bn(function(e,t,n,r,i,o){return st(r)?Ai(e,t,o,n,r,i):e}),On=function(e,t,n,r,i,o){var u,a=e.is(d);return Gt(In(t,s),Tn(e.owner.events.expanders,function(t,a,s){u=u||e.directive(Bi),Et[t]||e.mark(m),u.attach(t,{capturing:!!o,origin:e,handler:i,group:n,selector:r,passedName:a,domName:t,domTarget:e,nameStack:s})})),!a&&e.is(m)&&(Vr(e,De),e.remark(no,Qn(e.element(),e.owner))),e},Ln=function(e){return this.insertAt(e,Le)},jn=function(e){return this.insertAt(e,0)},Rn=function(e,t,n){var r=this.parent();return xr.number(t)?this.insertAt(e,t):r.insertAt(e,r.children().indexOf(this))},Pn=function(e,t,n){var r=this.parent();return xr.number(t)?this.insertAt(e,t+1):r.insertAt(e,r.children().indexOf(this)+1)},_n=function(e){return function(t,n){return go[e](this.element(),t,n)}},Bn=function(e,t){var n,r,i,o=a;return t.is(ro)?(Un(t),n=t.window(),n.is(v)&&(i=n.element(),r=i[ie],o=r.body?r.body[so].outerHTML:a)):t.is(H)&&(i=t.element(),o=i[e]),o},Hn=function(e,t,n){var r,i,o,u,s,c;t.is(ro)?(u=t.window(),Un(t),u.is(v)&&(c=u.element(),o=c[ie],o.open(),o.write(n),o.close(),s=De)):t.is(H)&&(c=t.element(),i=c[e],c[e]=n||a,r=t.owner,Gt(r.$(z,c),r.returnsManager,r),i!==c[e]&&(s=De)),s&&t.bubble("content:changed",n)},Vn=function(e){return function(t){var n=this,r=n;return t===i?r=Bn(e,n):Hn(e,n,t),r}},Un=function(e,t){var n,r,i;e.remark(ro,e.tagName===ro),e.is(ro)&&(i=t||e.element(),n=i.contentWindow,e.remark("windowReady",!!n),n&&(r=e.owner.returnsManager(n),r.iframe=e,qr(r,n),e.cachedContent&&r.is(v)&&(e.html(e.cachedContent),e.cachedContent=Le)))},qn=Fe.Events[N][O][be],Fn=function(e,t,n,r){var i=!!r;return qn.call(e,t,An(n,e.element(),t),{capturing:i})},Wn={id:Me,src:Me,checked:Me,disabled:Me,classes:ce},zn={play:"playing",pause:"paused"},$n=In("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu"),Gn=$n.concat(t.keys(zn),t.keys(Wn)),Qn=function(e,t,n){var r,i,o,u=t.returnsManager(e),a=n||u.element();if(r=u.is(no))return r;if(u.is(re))return De;for(;!i&&a&&a[so];){if(o=a[so],Ro(o))return Me;if(Io(o))return De;if(o[ve])return Qn(o,t);a=o}return Me},Yn=function(e,t){return function(n,r){var i=[];Gt(n,function(e){var n=r.returnsManager(e),o=n.is(no);n.remark(no,t),t!==o&&n.is(H)&&n.is(m)&&i.push(n)}),rr(i,be,e)}},er=Yn("detach",Me),tr=Yn("attach",De),ir=function(e,t,n,r){var i,o,u,a=n.element();return!n.is(H)||a[Ce][e]===t&&r?Me:(u=go.read(a,Ce),t=""!==t?Lt(e,t):t,r?go.write(a,Ce,(i=fr(u.split(";"),function(n,r,i,u){var a=r.trim(),s=a.split(p),c=s[0].trim(),f=s[1].trim();return c===e&&(o=De,f=t+" !important"),n.push([c,f].join(": ")),i!==u[Q]-1||o||n.push([e,t+" !important"].join(": ")),n},[]).join("; "))?i+";":i):Gt(Nt[Ir(e)],function(n){a[Ce][n+Pr(e)]=t}),go.read(a,Ce)!==u)},or={set:function(e,t,n,r){e.refill(t===De?[]:t),t===Me&&e.mark(h)},add:function(e,t){Gt(t,e.add,e)},remove:function(e,t){Gt(t,e.remove,e)},toggle:function(e,t,n){Gt(t,function(t){e.toggle(t,n)})},change:function(e,t,n){this.remove(e,t),this.add(e,In(n,s))}},ur=function(e){return function(t,n){var r=e(t,n);return t.is(_)&&(t.unmark(_),t[be](P)),r}},ar=function(e,t,n,r,i,o,u){var a=e===se?ce:e,c=i||Pr,f=r.preventUnCamel?a:c(a),l=f===ce||f===G,d=(l?(r=xo)&&(f=ce)&&ce:u)||f;return function(e,i){var u,a=e.element(),c=r.read(a,f),l=e,v=Ct(e,f,c);return"get"===o?(i||(l=c),l):(Zn(t,n,function(e,t){var n=o||(t===De?"add":t===Me?T:"toggle");or[n](v,ft(e)?e.split(s):e,t,c)}),v.changeCounter&&(v.is(h)?(v.unmark(h),r.remove(a,f)):(u=v.generate(s),r.write(a,f,po(u)))),void(u!==c&&e.is(m)&&(e.mark(_),e[be](P+p+d,{previous:c,current:vo(u)}))))}},sr=function(e,t,n){return function(r){return function(i,o,u,a,s,c){return r(e(i,o,u,a||n,s,t,c),this)}}},cr=function(e,t,n,r){var i=In(t,s);return function(t){var n=t.element(),o=mi(t,e),u=r.read(n,e);return o.ensure(u,s),qt(i,function(e){var t=o.get(y,e);return t?!t.isValid():De})}},lr=sr(ar,"set",go),dr=sr(ar,"add",go),hr=sr(ar,T,go),pr=sr(ar,"toggle",go),vr=sr(ar,"change",go),wr=sr(ar,"get",go),Ar=sr(cr,"has",go),kr=function(e,t,n){return function(r){return function(r,o,u){var a,s=this,c=ft(r),f=c?u:o,l=c?o:Le,d=t||f;return c&&l===i?(s=s.item(0),d.read(s.element(),n(r))):(a={},s.each(ur(Kn(r,l,function(t,r,i,o){var u=a[t]=a[t]||e(t,r,Le,d,n,dt(r)?Le:"set");u(i,o)}))),s)}}},Er=kr(ar,go,Pr),Tr=kr(ar,go,sn),Cr=kr(ar,xo,Ir),Sr=function(e,t){return t.each(e),t},Dr=function(e,t){return e(t.item(),0)},Mr=function(e,t){return!t.find(e)},Nr=function(e,t,n){return function(r,i,o){return r.classList&&r.classList[e]?t(r,i,o):n(r,In(r[ce],s),i,o)}},Lr=function(e,t,n){var r,o=t;n&&(o==Le&&(r=Qe(e,n),o=-1===r),r=r===i?Qe(e,n):r,o?-1===r&&e.push(n):-1!==r&&e.splice(r,1))},_r={add:Nr("add",function(e,t){e.classList.add.apply(e.classList,t)},function(e,t,n){Gt(n,hn(Wt(add,Le,t)))}),remove:Nr("remove",function(e,t){e.classList.remove.apply(e.classList,t)},function(e,t,n){Gt(n,hn(Wt(remove,Le,t)))}),toggle:Nr("toggler",Ge,function(e,t,n,r){Gt(n,hn($t(Lr,[Le,t,r]))),e[ce]=t.join(s)}),contains:Nr("contains",function(e,t){return!e.classList.contains.apply(e.classList,t)},function(e,t,n){return qt(t,function(e){return!tt(n,e,De)})}),change:Nr("add",function(e,t,n){e.classList.remove.apply(e.classList,t),e.classList.add.apply(e.classList,In(n,s))},function(e,t,n,r){Gt(n,hn(Wt(remove,Le,t))),Gt(r,hn(Wt(add,Le,In(t,s))))})},Br=function(e){return function(t,n){return function(r){return _r[e](r.element(),t,n)}}},Hr=fr(fr(In("add,remove,toggle,change"),function(e,t){return e[t]=function(e){return function(t,n){return this.each(e(In(t,s),n?In(n,s):i)),this}},e},{has:function(e){return function(t){return!this.find(e(In(t,s)))}}}),function(e,t,n){return e[n+"Class"]=t(Br("has"===n?"contains":n)),e},{}),Vr=function(e,t,n){var r,i=e.is(H)&&go.read(n||e.element(),W);e.remark(d,t||!!i),e.is(d)&&!i&&(i=De),r=e.is(H)&&fo(n||e.element(),W,i),i&&(e[I]=i)},Ur=function(e,t,n){e.unmark(H),e.unmark(ro),e.tagName=Me,e.is(re)||e.remark(H,jo(n))&&(e.tagName=co(n),e.owner=t,Un(e,n),Vr(e,Me,n))},qr=function(e,t){var n;e.remark(re,wt(t)),e.is(re)&&e.owner&&(e.remark(v,n=!!gr(function(){return t[ie]})),e.remark("topWindow",t===t.top),e.setAddress(),n&&(e.is("topWindow")||e.remark(v,e.sameOrigin())))},Fr=function(e,t,n){return qr(e,n),Ur(e,t,n),e.unmark(ie),e.unmark(uo),e.unmark(no),e.is(re)?void e.mark(no):(e.remark(ie,Io(n)),e.remark(uo,Ro(n)),e.is(ie)||e.is(uo)?void e.mark(no):void e.remark(no,Qn(e,t,n)))},Wr=function(e,t){return Rr(H)+c+t[ve]+c+e},zr=function(e,t){return'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">'+e+"</head><body>"+t+"</body></html>"},$r=function(e){return function(t){return t[so]===e}},Gr=function(e,t,n){var r,i,o=t||doc_,u=yr.first;return"body"===e?[o.body]:"head"===e?[o.head]:(n&&">"===e[0]&&(r=De,e=n.queryString()+e),i=o.querySelectorAll(e),r?Ci(i,$r(o)):In(u(i)))},Qr=Fe.DOMA_SETUP=function(e){var n,r,i,o,u,a=e,c=a[ie],f=Di(c,De),l=Fe.Registry(),d=(fn(kn),0),h={},p={},v={},m=function(){return u=Le,{x:0,y:0,z:0,motionX:0,motionY:0,motionZ:0,interval:1,rotationRate:0,alpha:0,beta:0,gamma:0,absolute:0}};return f.is("setupComplete")?f.$:(n=cn(xt),i=function(e){f.DOMContentLoadedEvent=e,f.mark("ready")},r=function(e,t){var n=t||f;return _i(e,n,Me,f===n,f)},o=Dt(ln({$:r,createElements:tn,createDocumentFragment:Zt,registeredElementName:Wr,fragment:function(){return Di(rn(Le,f),f)}},function(e){return function(t){return e(t,f)}}),ln({makeTree:Yt,makeBranch:Kt,createElement:Ft,diff:Ut},function(e){return function(t,n,r){return e(t,f,n,r)}}),{events:{custom:{},expanders:{},lists:ln({base:Je,svg:Xe,keyboard:Ye,gamepad:Ke,composition:et,mouse:nt,touch:rt,device:it,focus:ot,time:at,animation:ct,audioProcessing:ht,ui:pt,progress:vt,all:mt},fn)},supports:{},registeredConstructors:p,registeredElementOptions:v,returnsManager:function(e){return e===f||e===f.element()?f:Di(e,f)},expandEvent:function(e,t){var n=f.events.expanders;return Gt(In(t,s),function(t){Gt(In(e,s),function(e){n[e]=n[e]||[],-1===Qe(n[e],t)&&n[e].push(t)})}),f},customEvent:function(e,t){return Gt(In(e,s),function(e){f.events.custom[e]=t}),f},iframeContent:zr,orderEventsByHeirarchy:yr(De),data:Fe.Associator(),document:f,devicePixelRatio:K,constructor:_i[N],registeredElements:n,templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},customAttribute:function(e){return e?"["+W+'="'+e+'"]':z},stashMotionEvent:function(e){u=e},motion:function(){var e,t,n,r;return u?d>=u.timestamp?h:(d=kt(),e=u.originalEvent,t=e.acceleration||(n=e.accelerationIncludingGravity)&&{x:n.x-9.81,y:n.y-9.81,z:n.z-9.81},t&&lt(t.x)&&(h.x=t.x,h.y=t.y,h.z=t.z,h.interval=e.interval,h.rotationRate=e.rotationRate,r=De),e.alpha!=Le&&(h.alpha=e.alpha,h.beta=e.beta,h.gamma=e.gamma,h.absolute=e.absolute,r=De),r?h:m()):m()},plugin:function(e){return Ui.push(e),Gt(Vi,function(t){e(t)}),this},compile:function(e,t){return Oe(e,t,f)},collectTemplates:function(){return r("script[id]").each(function(e){Oe(e.prop(y),e.html(),f)}).remove()},unregisteredElement:function(e){l.keep(e.registeredElementName(),e[ve],e)},registerElement:function(e,r){var i=r||{},o=i["extends"],u=(i.events,i[O]);i.destruction,f.registeredElementName(e);return n[e]?mr(n[e]===De?{message:"custom element names must not be used natively by browsers"}:{message:"custom element names can only be registered once per document"}):n[e]=o?n[o]:Y,i.creation=(o?t.flows(v[o].creation,i.creation||Ge):i.creation)||Ge,v[e]=i,p[e]=(o?p[o]||bi:bi).extend(Rr(Ir(e)),Dt({},u)),this.document.is("ready")&&f.$(f.customAttribute(e)).each(f.returnsManager),p[e]}}),f.mark("setupComplete"),Dt(f,o),Dt(r,o),Yr(f.supports,f),Mi(i,f),r)},Xr=function(e,t,n,r){Gt(In(t,s),function(t){e.addEventListener?(e.addEventListener(t,n),e.removeEventListener(t,n)):n(r)})},Yr=function(e,t){var n=t.window(),r=n.element();e.deviceMotion=!!r.DeviceMotionEvent,e.deviceOrientation=!!r.DeviceOrientationEvent,e.motion=e.deviceMotion||e.deviceOrientation,Xr(r,"deviceorientation devicemotion",function(t){t.alpha===Le&&(e.motion=e.deviceMotion=e.deviceOrientation=Me)},{alpha:Le})},Kr=function(e,n){var r,o,u=this;return u[Q]()?ft(e)&&n===i?(r=Pr(e),(u=u.item(0))&&(o=u.getStyle())&&((Or=t.find(Nt[Ir(e)],function(e){return o[e+r]!==i}))?o[Or+r]:o[Or+r])):(u.each(ur(Kn(e,n,ir))),u):u},Zr=wr(Dr),ei=lr(Sr),ti=function(e){var t=this,n=t.element();return t.owner.$(Gr(e,n,t),n)},ni=function(e){return e.isValidDomManager||jo(e)||Ro(e)},ri=function(){Un(this)},ii=function(e,t,n,r,i,o){var u,a,s=r,c=_o(t),f=Qe(c,n);if(o)for(s=s||1,u=n;u&&!a;)u=c[f=f+=s],a=lo(u,i);else u=n,u=c[f],u=c[f+s];return u&&e.owner.returnsManager(u)},oi=function(e,t,n){return function(e){var r,i,o=n,u=e||n,a=this,s=a.element(),c=s[t];if(!(r=ft(u))&&t&&!c)return a.owner.returnsManager(c);if((i=s[so])||c)return ii(a,i,s,o,u,r)}},ui=function(e,t){var n=e.element();return(e.is(H)&&e.is(t?m:d)?[n]:[]).concat(Gr(z,n,e))},ai=function(e,t){var n=t.createDocumentFragment();if(!e)return n;var r=Sn(e),i=t.element();return Jt(In(r),function(e){var r=i.createElement(e.tagName),o=ai(e.children,t);r.appendChild(o),Jt(e.attributes,function(e,t){go.write(r,Pr(t),e)}),n.appendChild(r)}),n},si="isTrusted",ci="fullscreen",fi={props:In("altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which,x,y,deltaX,deltaY"),fixedHooks:{},keyHooks:{props:In("char,charCode,key,keyCode"),filter:function(e,t){var n;return e.which==Le&&(n=t.charCode,e.which=n!=Le?n:t.keyCode),e}},forceHooks:{props:[],filter:function(e,t){return e.value=(t.force||t.webkitForce)/3||0,e}},motionHooks:{props:[],reaction:function(e){e.origin.owner.stashMotionEvent(e)}},mouseHooks:{props:In("button,buttons,clientX,clientY,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement"),filter:function(e,t){var n,r,o=t.button;return e.pageX==Le&&t.clientX!=Le&&(evntDoc=e.target.ownerDocument||n,n=evntDoc.documentElement,r=evntDoc[Se],e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.movementX=t.movementX||0,e.movementY=t.movementY||0,e.layerX=t.layerX||0,e.layerY=t.layerY||0,e.x=t.x||0,e.y=t.y||0,e.which||o===i||(e.which=1&o?1:2&o?3:4&o?2:0),e}},make:function(e,n,r){var i,o,u,a,s=n.type,c=fi.fixedHooks[s];r.origin;if(c||(fi.fixedHooks[s]=c=Pe.test(s)?this.mouseHooks:Re.test(s)?this.keyHooks:He.test(s)?this.forceHooks:_e.test(s)?this.motionHooks:{}),a=c.props?this.props.concat(c.props):this.props,u=a[Q],Gt(a,function(t){var r=n[t];r!=Le&&(e[t]=r)}),e.originalType=s,o=e.target||(e.view?e.view.event.currentTarget:event&&event.currentTarget)||e.delegateTarget.element(),o||(o=e.target=i),3===o[ao]&&(e.target=o[so]),(c.filter||Ge)(e,n),s=En[n.type]||n.type,li.call(e,r.origin,Sn(n.data),s,Le,e.timeStamp),e.type===ci+k){if(i=e.target,wt(i))i=i[ie];else for(;i&&!Io(i)&&i[so];)i=i[so];e.fullscreenDocument=i,Io(i)&&e.remark(ci,i.fullScreen||i.webkitFullscreenElement||i.mozFullScreenElement||i.fullscreenElement?De:Me)}e[si]=t.has(n,si)?n[si]:!We,(c.reaction||Ge)(e,n)}},li=Fe.ObjectEvent[N],di=Fe.DomEvent=Fe.ObjectEvent.extend("DomEvent",{AT_TARGET:1,constructor:function(e,t){var n=this;return di.isInstance(e)?e:(n.originalEvent=e,tt(e.target)&&tt(e.currentTarget)?n.delegateTarget=t.origin.owner.returnsManager(t.target):n.delegateTarget=t.origin,fi.make(n,e,t),n.capturing=t.capturing===i?xn(n):t.capturing,n)},motion:function(){var e=this,t=e.origin.owner,n=t.motion();return n},preventDefault:function(){var e=this.originalEvent;this[Yi]=De,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this[Zi]=De,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this[eo]=De,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}}),hi=function(e,t,n,r){var i=e.origin.element();i.removeEventListener?i.removeEventListener(t,n[r],r):i.detachEvent(t,n[r]),delete n[r]},pi=Fe.EventsDirective.extend("DomEventsDirective",{remove:function(e,t){var n=this,r=n.elementHandlers,i=e.name,o=r[i],u=o.capturing;e.remove(t),u?(--o[V],o[V]||hi(t,i,o,u)):(t.selector&&o[B]--,e[Q]()===o[V]&&hi(t,i,o,u))},add:function(e,t){for(var n,r,i,o,u,a,s=this,c=t.element,f=0,l=s.elementHandlers=s.elementHandlers||{},d=e.name,h=l[d],p=t.capturing,v=e.unwrap(),m=t.origin.owner.events.custom;f<v[Q]&&!n;f++)i=v[f],n=t.capturing===t.capturing&&t.handler===i.handler&&i.group===t.group&&t.selector===i.selector&&t.passedName===i.passedName;if(!n&&(u=h,h||(h=l[d]={delegateCount:0,captureCount:0,events:s,currentEvent:Le,capturing:p}),t.mainHandler=h,h[p]||(a=t.domTarget,o=h[p]=function(e){return Fn(a,e.type,e,p)}),t.capturing?(e.insertAt(t,h[V]),++h[V]):t.selector?(r=h[B],++h[B],r?e.insertAt(t,h[V]+r):e.insertAt(t,h[V])):e.unwrap().push(t),Gt(t.nameStack,function(e){t.fn=(m[e]||yr.first)(t.fn,e,t)||t.fn}),o))if(c=t.origin.element(),c.addEventListener)c.addEventListener(t.domName,o,p);else{if(p)return;c.attachEvent(t.domName,o)}},create:function(e,t,n,r){return di(t,{target:e.target,origin:e,capturing:r.capturing})},queue:function(e,t,n){return n[Zi]&&n.currentTarget!==t.temporaryTarget?(n[Ki]=De,Me):(n.currentTarget=t.temporaryTarget,t.mainHandler.currentEvent=n,e.push(t),De)},unQueue:function(e,t,n){return n.currentTarget=t.currentTarget=Le,t.mainHandler.currentEvent=Le,e.pop(),this},cancelled:function(e,t,n){var r,i,o,u=this;if(!e[Q]())return u;if(o=e.first(),r=o.mainHandler,i=r[B],!i||n>i)return u;for(;i>=n;)o=e[n],o.temporaryTarget=Le,++n;return u},nextBubble:function(e,t){var n,r=e.element();return!e.is(H)||r[so]?Me:e.parent(function(t){return e.element()!==t&&t[ve]&&(n=e.owner.returnsManager(t),n.is(m))?[n,De]:[t[so],Me]})},subset:function(e,t){var n,r,i,o,u,a,s,c,f,l,d,h,p,v=0,m=0,g=[],w=t.origin;if(!e[Q])return[];if(l=e[0],d=l.mainHandler,p=d[V],h=d[B],t.capturing)return e.slice(0,p);if(w=t.origin,s=w.element(),o=t.target,!h||t.target===s)return e.slice(p);for(u=p+h,v=p,c=e.slice(u),n=w.orderEventsByHeirarchy();u>v;)for(l=e[v],++v,f=l.selector,a=-1,r=o;!i&&r&&jo(r)&&r!==s;){if(++a,lo(r,f))if(i=r,l.temporaryTarget=i,l.parentNodeNumber=a,n)if(m=g[Q])for(;l&&g[--m];)g[m].parentNodeNumber<=l.parentNodeNumber&&(g.splice(m+1,0,l),l=Le);else g.push(l);else g.push(l);r=r[so]}return g.concat(c)}}),vi=function(e,t){for(var n=Me,r=e;!r.isTop&&!n;)r=t.returnsManager(r.element().parent),r.iframe&&r.is(v)&&(n=!r.iframe.visible());return!n},mi=function(e,t){var r=e.directive(n),i=r[t]=r[t]||Tt();return i},gi=function(e,t,n){return function(r){var i,o=this[ge](r);return o.is(H)?i=Rt(o.element())[e]:o.is(ie)&&o.element()[Se]?i=o.element()[Se][t]:o.is(re)&&(i=o.element()[n]),i||0}},wi=(e.extendDirective("Registry","History"),function(e,t,n){var r,i,o=e[I];return e.is(d)?(r=e.owner.registeredElementName(o),i=e.owner.registeredConstructors[o],i||mr({message:"custom elements must be registered before they can be used"}),e=new i[N](e,t,n)):e}),yi=function(e,t){var n,r,i=this,o=i.is(h)||Me;return!o&&(n=i.element())&&(r=n[so])?(i.mark(h),i.is(ro)&&t&&st(t)&&i.owner.window().element().setTimeout(Wt(t,Le,i)),wo(n,e),er([n],i.owner),i.remark(h,o),i):i},bi=Fe.DomManager=Fe.Events.extend(r,Dt({},Hr,{"directive:creation:EventManager":pi,isValidDomManager:De,$:ti,querySelectorAll:ti,orderEventsByHeirarchy:function(){return this.owner.orderEventsByHeirarchy},queryString:function(){var e="",t=this.toJSON(De),n=t.attributes;return e+=t.tagName,n.id&&(e+="#"+n.id),n[se]&&(e+=f+n[se].split(s).join(f)),e},registeredElementName:function(){return this.owner.registeredElementName(this[I])},attributes:function(e){var t=this,n=t.element(),r=zt(e,t);Gt(n.attributes,function(e){var t=e.localName,n=e.nodeValue;r(t,n)})},hasValue:Ar(Mr),addValue:dr(Sr),removeValue:hr(Sr),toggleValue:pr(Sr),changeValue:vr(Sr),on:Cn,addEventListener:Cn,once:Dn,off:Mn,removeEventListener:Mn,append:Ln,appendChild:Ln,prepend:jn,insertBefore:Rn,insertAfter:Pn,getAttribute:Zr,setAttribute:ei,removeAttribute:_n(T),attr:Er(Sr),data:Tr(Sr),prop:Cr(Sr),html:Vn(S),text:Vn(L),css:Kr,next:oi("next","nextElementSibling",1),prev:oi("prev","previousElementSibling",-1),skip:oi("skip",Le,0),height:gi(me,"scrollHeight",we),width:gi(pe,"scrollWidth",ye),siblings:function(e){var t=this,n=Ei(e);return t.parent().children(function(e,r,i){return e!==t&&n(e,r,i)})},element:function(){return this[F]},elements:function(){return[this.element()]},constructor:function(e,t,n){var i,o,u,a=n,s=this;return bi.isInstance(e)?(t[r]=s,Dt(s,e),o=a.registeredElementOptions[s[I]],o.creation.call(s,s),s.on(o.events),s.on(A,o.destruction),s):(Fr(s,a,e),s.is(H)||s.is(uo)?(t[r]=s,a=Z(e.ownerDocument,De),s.is(H)&&(s[ve]=e[ve])):(u=s.is(ie))?(a=s,s[ve]=i=e[ve]):(t[r]=s,s[ve]=jr("win")),s.owner=a||Me,s[F]=e,s.is(ro)&&s.on(P+":src detach attach",ri),s.is(re)&&qr(s,e),s.is(H)&&(s[I]&&s[I]!==De&&gr(function(){s=wi(s,t,a)}),tt(s,I)&&delete s[I]),s)},clone:function(){var e=this;return e.is(H)?Kt(e.element()[j],e.owner):{}},length:function(){return 1},wrap:function(e){return this.owner.$(e||this)},unwrap:function(){return[this]},parent:function(){var e=function(e,t,n){for(var r,i,o=e,u=o.element(),a=n;u&&!i;)r=t(u,n,a),u=r[0],i=r[1],a=r[2];return i?o.owner.returnsManager(u):void 0},t=function(e,t,n){return n-=1,(0>n||!gt(n)||ut(n))&&(n=0),[e[so],!n,n]},n=function(e,t,n){var r=e[so];return[r,lo(r,t)]},r={document:function(e,t,n){var r=e[so];return Io(r)?[r,De]:jo(r)?[r[so],Me]:Ro(r)?[Le,Me]:void 0},window:function(e,t,n,r){var i,o=e[X];return o?[o,De]:(i=e[so])?[i,Me]:[Me,Me]},iframe:function(e,t,n){var r,i=e,o=wt(e);return o?i===i.top?[Le,Me]:(r=gr(function(){return i.frameElement}),[r,!!r]):[e[X]]||e[so]}};return function(i){var o,u=this,a=Me;return lt(i)?o=t:ft(i)?o=r[i]||n:a=i?De:a,a?e(u,i):(o||(o=t,i=1),e(u,o,i))}}(),contains:function(e){var t,n,r=e,i=this;return wt(r)?Me:ft(r)?!!Gr(r,i.element(),i)[Q]:r.isValidDOMA?!!r.find(i.contains,i):(n=i.owner.returnsManager(r),n.is(ie)?n.window()===i:(t=i.element(),!!n.parent(function(e){var n=e[so];return[n,n===t]})))},insertAt:function(e,t){var n=this,r=n.owner,i=ni(e)?r.returnsManager(e):r.$(e).fragment(),o=i.element(),u=t==Le?Le:n.children(),a=u&&u.item(t)||Le,s=a&&a.element()||Le,c=n&&n.element(),f=i.children(),l=ui(i,De);er(l,r),c&&Oo(c,o,s),Qn(c,r)&&tr(l,r);return f},window:function(){var e=this;return e.is(re)?e:e.is(ie)?e.returnsManager(e.element().defaultView):e.is(ro)?e.owner.returnsManager(e.element().contentWindow):e.owner.window()},setAddress:function(e){var t=this;return e=t.address=e||t.address||Xn()},emit:function(e,n,r){var i,o=this.window(),u=o.element();return o.is(v)?(i=Sn(e),(r||$o)({srcElement:u,timeStamp:t.now(),data:function(){return i}}),this):(gr(function(){n?u.postMessage(e,n):mr({message:"missing referrer: "+o.address})}),this)},sameOrigin:function(){var e,t=this,n=t.element(),r=t.owner.window(),i=r.element();return r===t?De:t.is(v)?(e=Jr(n[Ee].href),!e&&t.iframe&&(e=Jr(t.iframe.src())),!e||e===Jr(i[Ee].href)):Me},children:function(e,t){var n,r,o=this,u=_o(o.element());return e===i?t?(u=Nn(u,o.owner.returnsManager,o.owner))&&nr(t,"is",uo)?t.append(u):t.push.apply(t,u)?t:t:o.wrap(u):(n=Ei(e),r=fr(u,function(e,t,r,i){return n(t,r,i)&&e.push(o.owner.returnsManager(t)),e},t||[]),t?r:o.wrap(r))},visible:function(){var e,t,n,r,i,o,u,a=this;return a.is(no)?(n=a.getStyle(),0===+n.opacity||n.display===U||n[me]===w||n[pe]===w||n.visibility===q?Me:(t=a.element(),e=t.getBoundingClientRect(),e[me]&&e[pe]?(i=(a.element().ownerDocument||{}).defaultView)?(o=i[we],u=i[ye],o<e.top||u<e.left||e.right<0||e.bottom<0?Me:(r=a.owner.returnsManager(i),r.isTop?De:vi(r,a.owner))):De:Me)):Me},hide:function(){return this.applyStyle(b,U)},show:function(){return this.applyStyle(b,"block")},applyStyle:function(e,t,n){return ir(e,t,this,n),this},getStyle:function(e){var t={},n=this,r=n.element();return r&&n.is(H)&&(t=je(r,n.owner.element())),t},remove:yi,removeChild:yi,frame:function(e,t,n){var r=this,i=e||"";return n||!t&&"<!doctype "===i.slice(0,10).toLowerCase()||(i=r.owner.iframeContent(i,t)),r.is(ro)?(r.is(no)?r.html(i):r.cachedContent=i,r):r},destroy:function(e){var t,n=this,r=n[I],i=n.element();return n.is(l)?n:(n.mark(l),n.is(ro)&&n.owner.data.remove(i.contentWindow),n.remove(Le,e),r&&(t=n.owner.registeredElementName(r),n.directiveDestruction(t)),n[be](A),n.directiveDestruction(Bi),n.owner.data.remove(i),n[Hi](),n)},item:function(){return this},each:function(e,t){var n=this,r=[n];t?e.call(t,n,0,r):e(n,0,r);return r},find:function(e){var t=this;return e(t,0,[t])?t:i},client:function(){return Rt(this.element())},box:function(e){return jt(this.element(),e)},flow:function(e){return St(this.element(),e)},dispatchEvent:function(e,t,n){var r,i=We;return We=De,r=Fn(this,e,t,n),We=i,r},toJSON:function(e){var t=this,n=(t.owner,t.element());return(t.is(re)||t.is(ie))&&mr({message:"cannot serialize documents and windows"}),Lo(n,e===i?br:st(e)?e:yr(e),De)}},ln(Wn,function(e,t){return e||(e=t),function(t){var n=this;return t!==i?n.attr(e,t):n.element()[e]}}),ln(zn,$e),ln($n,function(e){return $e(e)}),ln(In("add,addBack,elements,push,fragment"),function(e){return function(t,n,r){return this.wrap()[e](t,n,r)}}))),Ai=function(e,t,n,r,i,o){var u=e.directive(Bi),a=function(e,t){return e.obliteration(function(e){t&&t!==e.passedName||i&&e.handler!==i||n&&e.group!==n||r&&e.selector!==r||u.detach(e)})};return t?Gt(In(t,s),Tn(e.owner.events.expanders,function(e,t){a(u[Fi][e],t)})):Jt(u[Fi],hn(a))},xi=t.eq,ki=t.matches,Ei=function(e){return st(e)?e:ft(e)?Bt[e]||function(t){return lo(t,e)}:lt(e)?function(t,n){return n===e}:dt(e)?ki(e):function(){return De}},Ti=function(e){return function(t,n,r){return e(t.element(),n,r)}},Ci=function(e,t){return fr(e,function(e,n,r,i){return t(n,r,i)&&e.push(n),e},[])},Si=function(e,t){var n=Ei(t);return Ci(e,Ti(n))},Di=function(e,t){return e&&!wt(e)&&e.isValidDomManager?e:Z(e,t)},Mi=(t.publicize({covers:pn,center:vn,closer:wn,fetch:qe,distance:gn,escape:xe,unescape:ke,box:jt,isElement:jo,isWindow:wt,isDocument:Io,isFragment:Ro,unitToNumber:Vt,numberToUnit:Ht}),function(e,t){var n=Wt(e,t),r=t.window(),i=function(e){t.off("DOMContentLoaded",i),r.off("load",i),t.$(z).each(t.returnsManager),n(t.$,e)};return t.is("ready")?n(t.$,t.DOMContentLoadedEvent):(t.on("DOMContentLoaded",i),r.on("load",i)),t.mark("setup"),t}),Oi=function(e){return function(t,n,r,i,o,u){
return this.each(function(a){a[e](t,n,r,i,o,u)})}},Ni=In(A+",show,hide,style,remove,on,off,once,addEventListener,removeEventListener,dispatchEvent").concat(Gn),Li=In("tag,element,client,box,flow"),ji=function(e){var t="tag"!==e;return function(n,r){var i=this.item(n);return i&&i[e](t?this.context:r)}},Ii=In("isWindow,isElement,isDocument,isFragment"),Ri=function(e){return function(t){var n=this.item(t);return n&&n[e]}},_i=Fe.DOMA=Fe.Collection.extend("DOMA",Dt({},Hr,{isValidDOMA:De,constructor:function(e,t,n,r,i){var o=e,u=this,a=u.context=r?t.item(0):i,s=u.owner=i,c=a.element();if(e&&!wt(e)&&e.isValidDOMA)return e;if(st(e)){if(Io(c))return Mi(e,s).wrap()}else n||(ft(e)?o="<"===e[0]?Yt(e,s):Nn(Gr(e,c),s.returnsManager,s):(o=e,bi.isInstance(o)?o=[o]:(Pi.isInstance(o)&&(o=o.unwrap()),o=Po(o)?[s.returnsManager(o)]:o&&Nn(o,s.returnsManager,s)))),u.reset(o);return u},setValue:lr(Sr),hasValue:Ar(Mr),addValue:dr(Sr),removeValue:hr(Sr),toggleValue:pr(Sr),changeValue:vr(Sr),add:dn(function(e,t){var n=e.owner.$(t);return mn(e.unwrap(),n.unwrap())}),addBack:dn(function(e,t){var n=e._previous;return n?(t&&(n=n.filter(t)),e.unwrap().concat(n.unwrap())):e.unwrap().concat([])}),wrap:function(){return this},push:function(){var e=this.context.owner;return this.items.push.apply(this.items,fr(arguments,function(t,n){return n?(wt(n)?t.push(n):t=t.concat(!wt(n)&&st(n.unwrap)?n.unwrap():e.returnsManager(n)),t):t},[],e)),this},elements:function(){return this.mapCall(H)},fragment:function(e){return this.context.returnsManager(rn(e||this.unwrap(),this.context))},filter:dn(function(e,t){return Si(e.unwrap(),t)}),empty:dn(function(e,t){var n=Ei(t);return Ci(e.unwrap(),Ti(function(e,t,r,i){return!n(t,r,i)&&t.remove()}))}),$:dn(function(e,t){var n=[],r=function(t){n.push(e.owner.returnsManager(t))};return Gt(e.unwrap(),function(e){Gt(Gr(t,e.element()),r)})&&n}),children:dn(function(e,t){return fr(e.unwrap(),function(e,n){return n.children(t,e)},[])}),css:Kr,allElements:function(){return!(!this[Q]()||qt(this.unwrap(),function(e){return!e.is(H)}))},height:gi(me,"scrollHeight",we),width:gi(pe,"scrollWidth",ye),attr:Er(Sr),data:Tr(Sr),prop:Cr(Sr),eq:dn(function(e,t){return xi(e.unwrap(),t)}),end:function(){for(var e=this;e._previous;)e=e._previous;return e},getAttribute:Zr,setAttribute:ei,append:function(e,t){return this.insertAt(e,Le,t)},prepend:function(e,t){return this.insertAt(e,0,t)},insertBefore:Rn,appendTo:function(e){return $(e).append(this),this},next:an("next",1),prev:an("prev",-1),skip:an("skip",0),siblings:dn(function(e,t){return en(e,function(e){return e.siblings(t).unwrap()})}),insertAt:function(e,t,n){var r=this,i=r.owner,o=ni(e)?this.context.returnsManager(e):i.$(e).fragment();return this.each(function(e){var r=o;n&&(r=r.clone()),e.insertAt(r,t)})},replaceWith:dn(function(e,t,n){var r,i,o=e.owner;return(r=ft(element))||(i=ni(t)?o.returnsManager(t):o.$(t).fragment()),en(e,function(n,o){var u=t;if(!n.is(H))return[];if(r)u=e.owner.$(t);else if(cn)u=i.clone();else if(o)return[];return parent=n.parent(),parent.insertAt(u,parent.children().indexOf(n)),n.remove(),u.unwrap()})}),contains:function(e){return!!this.find(function(t){return t.contains(e)})},clone:dn(function(e){return e.foldl(function(e,t){return t.is(H)&&e.push(t.clone()),e})}),parent:dn(function(e,t){var n={};return e.foldl(function(e,r){var i;return(i=r.parent(t))&&!n[i.element()[ve]]&&(n[i.element()[ve]]=i,e.push(i)),e},[])}),has:function(e){var t=this,n=Pi(e),r=n[Q]();return!!r&&n.find(function(e){return-1===t.indexOf(e)})},html:on(C),text:on(D),map:function(e,t){return Pi(Nn(this.unwrap(),e,t))},toJSON:function(){return this.results(M).unwrap()},toString:function(){return Ze(this)}},ln(Ni,Oi),ln(Li,ji),ln(Ii,Ri))),Vi=[],Ui=[];e.undefine(function(e,t,n){var r=Qr(t);return Vi.push(r),Gt(Ui,function(e){e(r)}),r.collectTemplates(),n.$=r,r}),e.defineDirective(n,function(){return{}})}),e.scope(function(e){var t,n,r,u=e._,a=u.factories,s=0,c=0,f=0,l=u.pI,d=u.now,h=In("ms,moz,webkit,o"),p="running",v="halted",m="stopped",g="destroyed",w="Looper",b="Timeout",A="clear"+b,x="AnimationFrame",k="request"+x,E=Rr(k),T="cancel"+x,C=[],S=[],D=u.eachCall,M=u.time,O=(u.remove,Me),L=De,j=function(e){var i=Math.max(0,c-f);t=o[k](function(){L=De,e()}),L||(o[A](n),n=o.setTimeout(e,i+1)),V.playWhileBlurred&&(o[A](r),r=o.setTimeout(function(){L=Me,e()},i+50))},I=function(){f=u.now(),o[T](t),o[A](n),o[A](r),D(S,"run",f),P()},R=function(){O=De,j(I)},P=function(){Xt(S,function(e,t){(e.is(v)||e.is(m)||e.is(g)||!e[Q]())&&(e.stop(),S.splice(t,1))}),O=Me,S[Q]&&R()},_=function(e){C.push(e)},B=function(e){tt(S,e)||S.push(e),O||R()},H=(function(){for(;s<h[Q]&&!o[k];++s)o[k]=o[h[s]+E],o[T]=o[h[s]+Rr(T)]||o[h[s]+"Cancel"+E];o[k]||(o[k]=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=o.setTimeout(function(){e(t+n)},n);return c=t+n,r}),o[T]||(o[T]=function(e){o[A](e)})}(),function(e,t){return e.current=t,t.disabled?void e.dequeue(t.id):e.is(v)?De:void gr(function(){t.fn(e.lastRun)},function(){e.dequeue(t.id)})}),V=a[w]=Pi.extend(w,{constructor:function(e){var t=this;return t.mark(m),t.unmark(v),t.unmark(g),t.unmark(p),Pi[N].call(t),_(t),t},destroy:function(){return this.mark(g),this.halt()},run:function(e){var t,n,r,i=0,o=this;if(!o.is(v)&&!o.is(m)&&o[Q]()){for(t=a.Collection(o.unwrap().slice(0)),o.lastRun=e,n=t[Q]();n>i&&!r;i++)r=H(o,t.item(i),i);o.current=Le,o.unmark(p)}},dequeue:function(e){var t,n=this,r=e;return r!==i||arguments[Q]?lt(r)?(t=n.get(y,r),t?(n.drop(y,r),n.remove(t)):void 0):Me:(n.current&&(n.drop(y,n.current.id),r=n.remove(n.current)),!!r)},stop:function(){return this.mark(m),this},start:function(){var e=this;return e.is(m)&&(e.unmark(m),e.unmark(v)),e},halt:function(){return this.mark(v),this.stop()},queue:function(e){var t,n=jr(Me),r=this;if(st(e))return r[Q]()||r.start(),t={fn:r.bind(e),id:n,disabled:Me,bound:r},r.push(t),r.keep(y,t.id,t),B(r),n},bind:function(e){return Wt(e,this)},once:function(e,t){return this.frames(1,e)},frames:function(e,t){var n,r=0,i=l(e)||1;return!t&&st(i)&&(t=e,i=1),st(t)?(n=this.bind(t),(1>i||!lt(i))&&(i=1),this.queue(function(e){var t=Me;r++,r>=i&&(this.dequeue(),t=De),n(e,t,r)})):void 0},tween:function(e,t){var n,r=d(),i=M(e),o=this;return i||(i=0),st(t)?(n=o.bind(t),o.timeout(0,function(e){var t=Me,u=e-r;u>=i&&(t=De,o.dequeue()),n(e,Math.min(1,u/i),t)})):void 0},time:function(e,t){var n,r=this;return st(t)?(n=r.bind(t),r.timeout(M(e),function(e){r.dequeue(),n(e)})):r},frameRate:function(e,t,n){var r,i=this,o=Math.min(n||.8,.8),u=30*o,a=1,s=d(),c=e||125;return st(t)?(r=i.bind(t),i.queue(function(e){var t=1e3/(e-a);t>40&&(u=60*o),u>t&&(s=e),e-s>c&&(i.dequeue(),r(e)),a=e})):i},timeout:function(e,t){var n,r=this,i=d();if(st(t))return e||(e=0),n=r.bind(t),r.queue(function(t){t-e>=i&&(r.dequeue(),n(t))})},interval:function(e,t){var n,r=e,i=this,o=M(t),u=kt();if(st(r))return lt(o)||(o=0),n=Wt(e,i),i.queue(function(e){e-o>=u&&(u=e,r(e))})},defer:function(e,t){var n,r=this;return function(){In(arguments);return r.dequeue(n),n=r.time(t,Wt(e,this,r))}}});V.playWhileBlurred=De,u.publicize({AF:V()})});var Ho=(kr.AF,"RegionManager"),Vo="DocumentView",Uo="DocumentManager",qo=function(e){e.owner$||mr({message:"object needs an owner$ function to scope itself against a document"})};e.scope(function(e){var t=(kr.protoProp,kr.isFragment,kr.isInstance),n=kr.isFunction,r=(kr.isArrayLike,kr.reverseParams,kr.intendedObject,kr.createDocumentFragment,"render"),o=r+"ed",u="constructor",c="bufferedViews",f={message:"that region does not exist"},l={message:"invalid key passed for region name"},d=Fe.Parent,h=Fe.Model,p=function(e,t){var n,r,i,o,a=t,s=e.directive(Wi);return(o=M.isInstance(t))?(r=s.get("modelId",t.model.id))?r:t:(n=h.isInstance(a))?(r=s.get("modelId",a.id))?r:void 0:(i=e.childConstructor())({model:i[u][O].Model(t)})},v=function(e,t,n){var r=e[Wi];return t[J]=Le,r.remove(t),r.drop("viewCid",t.cid),r.drop("modelCid",t.model.cid),r.drop("modelId",t.model.id),n},m=Fe.Region=d.extend("Region",{elementAttributes:yr(Me),className:yr(Me),childConstructor:function(){return this.Child===De?this[J][J].childConstructor():this.Child},constructor:function(e){var t=this;return d[u].call(t,e),qo(t),t.directive(Wi),t.setElement(),t},add:function(e,t){var n=this,r=Pi(e).foldl(function(e,t){var r;return(r=n.adopt(t))&&e.push(r),e},[]);return n.el&&n.render(),r},adopt:function(e){var t,n=this,r=n[Wi];if(!e)return n;if(t=p(n,e),t[J]){if(t[J]===n)return Me;v(t[J],t,n)}return t[J]=n,r.add(t),r.keep("viewCid",t.cid,t),r.keep("modelCid",t.model.cid,t),r.keep("modelId",t.model.id,t),t},buffer:function(e){var t,n,r=this,i=e.el&&e.el.element();return i?(t=i.parentNode,t&&t===r.el.element()||(n=r.directive(c),n.els.append(i)),r):r},setElement:function(){var e=this,t=e[B],n=e[J][J],r=n.el.$(t)[ge](0);return r?(e.directive(V).set(r),e):e},render:function(e){var t=this,n=t.directive(c),i=t.directive(V),u=e||Ge;return t.unmark(o),n.ensure(),t[be](E+r),t.setElement(),i.setAttributes(),u(t)?t[Wi].each(t.buffer,t):t[Wi].eachCall(r,u),i.el.append(n.els),t.mark(o),n.reset(),t[be](r),t}}),g=function(e,t){var n=e.directive(Ho);if(t||!n.is("established")){var r=nr(e,"regions"),i=e.directive(V);n.mark("established"),i.render(r),e.mark(o);nn(r)[Q]&&n.establish(r);return e}},w=Yn(function(e,t){var n,r=this,i=r.directive(Ho);return g(r),(n=i.get(e))?n.add(t):mr(f)}),b=Yn(function(e,t){var n,r=this.directive(Ho);return r.is("established")&&((n=r.get(e))?n.remove(t):mr(f))}),x=Ei(Ho,"add"),T=Ei(Ho,"get"),D=Ei(Ho,"remove"),M=Fe.View=m.extend("View",{Model:h,modifiers:Ge,Child:De,childConstructor:d.fn.childConstructor,getRegion:T,addRegion:x,removeRegion:D,addChildView:w,removeChildView:b,tagName:yr("div"),filter:yr(De),template:yr(a),getChildren:function(e){return this.directive(Ho).get(e).directive(Wi)},parentView:function(){for(var e,n=this,r=n[J];e&&r&&!t(r,M);)r=r[J],t(r,M)&&(e=r);return e},bindModel:function(e){var t=this;t.model=h.isInstance(e)?e:t.Model(e),t.listenTo(t.model,nr(t,"modelEvents")),t.listenTo(t.model,k,t.render)},constructor:function(e){var t=this,n=e||{};return t.bindModel(n.model),delete n.model,d[u].call(t,n),t.directive(V).ensure(),this.id=jr(Me,De),g(this),t},valueOf:function(){return this.model.valueOf()},destroy:function(e){var t=this;return t.is(S)?t:(t[be](C),t.mark(S),t[Ho]&&t[Ho].list.eachCall(A),t.el&&t.el.destroy(e),t.directiveDestruction(V),d[u][O].destroy.call(t),t)},watchList:function(){return Sn(Ze(this.template.interpolators))},render:function(e){var t,i=this;return i.filter()?(i.mark("rendering"),t=i.directive(V),i[be](E+r),g(i,De),i.unmark("rendering"),i[Ho]&&i[Ho].list.eachCall(r,n(e)?e:br),i[be](r),t=i[J]&&i[J].buffer(i),i):i}}),N=(Fe.View,function(){var e=this;e.els&&e.els.is(uo)?1:e.resetEls()}),L=function(){var e=this.views;return this.resetEls(),e},j=function(){this.els=this.region.owner$.fragment()},I=Fe[Ho]=Fe.Directive.extend(Ho,{constructor:function(e){var t=this;return t.parent=e,t.list=Pi(),t},create:function(e,n){var r=this,i=r[J],o=n,u=n;return t(u,m)?u:(u=m(Dt({selector:o||a,owner$:i.owner$},dt(u)?u:{},{id:e,parent:r})),r.list.push(u),r.list.keep(y,e,u),u)},establish:Yn(function(e,t){e||mr(l);var n,r=this,i=r[J],o=r.list.get(y,e);o||(o=r.create(e,t)),n=i.el.$(o[B])[ge](0),n||mr({message:"an element does not exist at "+t}),o.el=n}),remove:function(e){},add:Yn(function(e,t){var n=this,r=n.list.get(y,e);r||n.establish(e,t)}),get:function(e){return this.list.get(y,e)}}),R=Fe[c]=Fe.Directive.extend(c,{constructor:function(e){var t=this;return t.region=e,this.resetEls(),t},reset:L,ensure:N,resetEls:j}),P=Fe[Vo]=Fe.Directive.extend(Vo,{regions:Ge,addChildView:Yn(function(e,t){var n=this.directive(Ho),r=n.get(e);r.add(t)}),addRegion:x,getRegion:T,removeRegion:D,removeChildView:b,render:function(e){var t=this;t.directive(Ho).list.eachCall(r,e)},constructor:function(e){var t=this;return Dt(t,e),t}}),_=Fe[Uo]=Fe.Directive.extend(Uo,{constructor:function(e){var t=this;return t.parent=e,t.documents=Pi(),t}}),V=Rr(H),U=function(e,t){return this[be](e,t)},q=function(e,t,n){var r="delegateEvents"+e,i=Qe(n,"@"),o=-1!==i;return{selector:o?F(n.slice(i),t):a,group:r,events:o?n.slice(0,i):n}},F=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},W=Fe.Directive.extend(V,{constructor:function(e){return this.view=e,this},ensure:function(){var e,n=this,r=n.view,i=n[B]||nr(r,"el");i&&(n[B]=i),t(i,Fe.DOMA)||(e=ft(i)?i:n.create(r.tagName()),n.set(e))},create:function(e){return this.view.owner$.createElement(e)},unset:function(){var e=this;delete e.view.el,delete e.el},set:function(e){var t=this,n=t.view;n.el=t.el=e,t.setAttributes()},virtualize:function(){var e=this,t=e.el;e.virtual=e.virtual&&e.virtual.tagName===t.tagName?e.virtual:e.view.owner$.document.target.createElement(t.tagName),t.attributes(Wt(go.write,Le,e.virtual))},diff:function(){var e=this,t=e.el,n=e.view,r=t.element(),i=e.virtual,o=n.model&&n.model.toJSON()||{},u=n.directive(Ho),a=(i.innerHTML=n.template(o).trim(),No(r,i,function(e){return!u.list.find(function(t){return lo(e,t.selector)})})),s=Me;return Gt(a.concat(n.modifiers()||[]),function(e){s=e(n)||s}),s},render:function(e){var t,n,r=this,i=r.view,u=i.el,a=u!==r.el;a&&r.unset(),t=a||!i.is(o),t&&(r.degenerateUIBindings(),r.set(u),r.virtualize()),n=r.diff(),t&&r.generateUIBindings(),n&&r.bindUI(),t&&(r.undelegateEvents(),r.undelegateTriggers(),r.delegateEvents(),r.delegateTriggers())},degenerateUIBindings:function(){var e=this;e.ui&&(e.ui=e.view.ui=e.uiBindings,delete e.uiBindings)},generateUIBindings:function(){var e=this,t=e.uiBindings||nr(e.view,"ui");e.ui=e.ui||{};return e.uiBindings?e:(e.uiBindings=t,e)},delegateEvents:function(){var e=this,t=e.view,n=e.el,r=e.elementBindings||nr(t,"elementEvents"),i=[];return e.elementBindings&&(e.elementBindings=r),n?(e.cachedElementBindings=Nn(r,function(r,o){var u=q(t.cid,e.uiBindings,o),a=u.fn=zt(ft(r)?t[r]:r,t);i.push(u),n.on(u.events,u[B],a,u.capture,u.group)}),e.cachedElementBindings=i,e):e},undelegateEvents:function(){var e=this,t=(e.view,e.el),n=e.cachedElementBindings;return n&&t?(Gt(n,function(e){t.off(e.events,e[B],e.fn)}),e.cachedElementBindings=i,e):e},delegateTriggers:function(){var e=this,t=e.view,n=e.el,r=e.elementTriggers||nr(t,"elementTriggers"),i=[];return e.elementTriggers||(e.elementTriggers=r),n?(Jt(r,function(r,i){var o=q(t.cid,e.uiBindings,i),u=o.fn=$t(U,t,r);n.on(o.events,o[B],u,o.capture,o.group)}),void(e.cachedElementTriggers=i)):e},undelegateTriggers:function(){var e=this,t=(e.view,e.el),n=e.cachedElementTriggers;return e.cachedElementTriggers&&t?(Gt(n,function(e){t.off(e.events.join(s),e[B],e.fn)}),e.cachedElementTriggers=i,e):e},createAttributes:function(){var e=this,t=e.view,n=t.elementAttributes(),r=t[ce]();return r&&(n=n||{},n[se]=r),n},setAttributes:function(){var e,t=this;return t.createAttributes&&(e=t.createAttributes())&&t.el.attr(e),t},bindUI:function(){var e=this,t=e.uiBindings;return e.ui=e.view.ui=Nn(t,e.el.$,e.el),e}});e.defineDirective(Uo,_[u]),e.defineDirective(Ho,I[u]),e.defineDirective(c,R[u]),e.defineDirective(V,W,function(e,t){e.el.destroy(),e.unset();var n=e.ui;e.degenerateUIBindings(),rr(n,"destroy")}),e.undefine(function(e,t,n){var r=n.$,i=(r.document,m.extend({owner$:r})),o=M.extend({owner$:r}),u=n.scopedFactories={Region:i,View:o},a=t[ie],s=e.directive(Uo),c=s.documents,f=c.get(y,a[ve]);f&&mr({message:"document has already been setup"}),f=P({$:r,owner$:r,id:a[ve],el:r.returnsManager(a),parent:s,factories:u}),c.push(f),c.keep(y,f.id,f)})});var Fo={},Wo="version",zo=Wo.toUpperCase(),$o=function(t){var n,r=t.data(),i=r.postTo;if(!e.isDestroyed&&r&&i&&(e[zo]===r[Wo]||"*"===r[Wo])&&(n=(Fo[r.group]||{})[r.postTo])){var o,u=r.runCount,a=n.directive(Wi);if(u){if(o=a.get(y,r.messageId),!o)return n;n.response(o,r)}else n.receive(r)}};e.scope(function(e){var t=e._,n=t.factories,r=t.parse,o=t.stringify,u="%7B",s="isLate",c="documentReady",f="deferred",l="resolved",d="is"+Rr(f),h="group",v="postTo",m="command",g="runCount",w="flushing",b="connect",A=b+"ed",x="dis"+A,k="initialize",T="response",C="message",S=Rr(T),D="latest"+S,M="last"+S,O="responded",L=O+"With",j="received",I=E+O,R=E+j,P="sentMessageIndex",_="receiveReferrer",B="emitReferrer",H="buster",V="packet",U=function(e,t){var n=o(e);return t.emitWindow.emit(n,t.get(B))},q=Xn(),F="respondHandlers",W=n.Model.extend(Rr(C),{idAttribute:yr(C+"Id"),initialize:function(){var e=this;e[F]=[],e.once(T,e.saveReceived),e.on(f,e.saveDeferred)},saveReceived:function(e){this.responseEventObject=e},saveDeferred:function(e){this.deferredEventObject=e},packet:function(e){var t=this;return arguments[0]?t.set(V,e||{}):t=fn(t.get(V)),t},defaults:function(){return{command:Le+a,packet:{}}},response:function(e){var t=this;return st(e)?(t.get(L)?e.call(t,t.responseEventObject):t.once(T,e),t):t},deferred:function(e){var t=this,n=t.get(D);return t.on(f,e),n&&n.isDeferred&&e.call(t,t.deferredEventObject),t},send:function(){return this[J].flush()}}),z={message:$o},$=function(e){return qt(Fo,function(t){return qt(t,function(t,n,r){return e===t&&delete r[n]})})},X=function(){var e=this;e.connectPromise&&e.connectPromise.reject(),e.unmark(A),e[be](x),e.connectPromise=t.Promise()},Y=function(e){var t=this,n=t.directive(G);n.get(s)&&n.set(P,1),t.respond((e.message||e.origin).id),t.mark(A),t[be](A)},K=Rr(H),Z=function(n){return{from:n.get(y),postTo:n.get(v),group:n.get(h),version:e[zo],messageId:n.directive(Wi)[Q](),timeStamp:t.now()}},ee=n[K]=n.Model.extend(K,{Child:W,bounce:function(e){return this.respond(e.message.id)},connected:function(){return this.connectPromise.success(arguments),this},response:function(e,t){var n=e[G];n&&(n.set(D,t),e.is(l)?e[be](f,t.packet):(n.set(L,t),e.mark(l),e[be](T,t.packet)))},receive:function(e){var t,n=this,r=n.receiveHistory;return e.originMessageId=e.messageId,e.messageId=r.length(),e.isDeferred=Me,t=W(e),r.push(t),r.keep(y,e.messageId,t),n[be](R),n[be](j+p+e.command,e.packet,{message:t}),n[be](j),n},setGroup:function(){var e=this,t=e.get(h),n=e.get(y),r=($(e),Fo[t]=Fo[t]||{});return r[n]=e,e},defineWindows:function(e,t){var n=this,r=n.directive(G);e&&e.is(re)&&(n.receiveWindow=e.on(z),n.mark(c),n.flush()),t&&t.is(re)&&(n.emitWindow=t,r.set(v,r.get(v)||n.emitWindow.address))},defineIframe:function(e){var t,n=this;e&&e.is(ro)&&(n[ro]=e,e.is(no)&&(t=e.window())&&n.defineWindows(Le,t),e&&n.setupIframe())},setupIframe:function(){var e,n=this,r=n[ro],i=n.directive(G),s=n.receiveWindow.element().location.href.split(u),c=(s.shift(),s.unshift(a),s.join(u)),f=Yr(i.get(_)||c).origin,l=i.get(ro+"Src"),d=i.get(ro+"Content"),p={postTo:n.id,useTop:!1,useParent:!0,emitReferrer:f,id:i.get(v),group:i.get(h)};i.set(_,f),l&&(e=i.set(B,t.reference(l)),p.receiveReferrer=e),l&&r.src(Jn({url:l,hash:p})),d&&(r.data(H,encodeURI(o(p))),r.html(d),n.begin(k))},stripData:function(){var e,t,n,i=this,o=i.receiveWindow;o&&o.is(re)&&(n=o.element().location.hash.slice(1),e=n.split(u),t=e.shift(),e.unshift(a),n=e.join(u),i.set(r(decodeURI(n||gr(function(){return o.parent(ro).data(H)})))))},constructor:function(e,t,r,o){var u=this;qo(u);var a=r||{},c=u.owner$(e).item(0),f=u.owner$(t).item(0);return a.id=a.id===i?Xn():a.id,u.receiveHistory=n.Collection(),X.call(u),a.group=q,n.Model[N].call(u,a),u.on(A,function(e){var t=u.directive(Wi).first();u.connectPromise.fulfill(t),u.flush()}),u.on({"received:update":"bounce","received:unload":"destroy",destroy:X,"received:initialize received:connect":Y,"change:group change:id":"setGroup"}),u.on(o),u.setGroup(),c&&c.is(re)&&u.defineWindows(c),f.is(re)?u.defineWindows(Le,f):u.defineIframe(f),u.get("strip")&&u.stripData(),u.set(P,0),u[ro]?u.get(s)&&u.begin(k):u.begin(b),u},flush:function(){var e,t,n,r,o=this,u=o.directive(G),a=u.get(P),s=o.is(A),f=u.get("initedFromPartner"),l=u.get(w);if(!o.is(c))return o;if(!f||s&&(s||!a)&&!l){for(u.set(w,De),t=o.directive(Wi),n=t[Q](),r=t.item(a);r&&n>a;)r.directive(G).set(g,0),a||s?(r=t.item(a),a=u.get(P)+1||0,u.set(P,a),U(r,o)):(n=i,e=r.get(m),e!==b&&e!==k||U(r,o));o.set(w,Me),o.is(A)&&t[Q]()>o.get(P)&&o.flush()}return o},create:function(e,t,n){var r=this,i=r.add(Dt({command:e,packet:t},Z(r),n));return i[0]},sync:function(e){return this.create("update").response(e).send()},respond:function(e,n){var r,i,o,u=this,a=u.receiveHistory.get(y,e);return a?(u[be](I),r=a.directive(G),r.set(g,(r.get(g)||0)+1),i=Dt(De,nr(u,"package")||{},n),o=Dt(Z(u),{from:a.get(v),postTo:a.get("from"),messageId:a.get("originMessageId"),isResponse:De,isDeferred:a.get(d),runCount:a.get(g),command:a.get(m),timeStamp:t.now(),packet:i,version:a.get(Wo)}),r.set(M,o.timeStamp),r.set(d,De),u.set(M,o.timeStamp),U(o,u),u[be](O,i),u):u},begin:function(e){var t=this,n=t.directive(Wi);return n.item(0)||t.create(e).response(function(e){Y.call(t,e)}).send()}});e.undefine(function(e,t,n){var r=e.directive(Uo),i=r.documents.get(y,t[ie][ve]),o=i.$,u=i.factories;u[K]=ee.extend({owner$:o}),e.global.touch(t,t[fe])&&i.$(t[fe]).on(C,$o)})}),e.scope(function(e){var t,n,r,o,u,a,c,f,l,d,h,p,v,m,g,w=0,y=Me,b="expected",A=" not",x=" to equal ",k=" to evaluate to ",E=" an error",T=" to be thrown",C=" to be strictly equal to ",S=function(e,n,r){return function(i){var o,u={};return r&&(t=t()),(o=e(t,i))?p.push(u):(++w,u=new Error(n.call(this,t,i)),v.push(u)),l.push(u),o}},D={not:{}},M=function(e){return t=e,D},O=M.maker=function(e,t,n,r,i){D[e]=S(t,n,i),D.not[e]=S(vt(t),r,i)},N=(O("toThrow",function(e){var t=Me;return gr(e,function(){t=De},function(){return t})},function(){return b+E+T},function(){return b+E+A+T}),O("toBe",function(e,t){return e===t},function(e,t){return b+s+Ze(e)+C+Ze(t)},function(e,t){return b+s+Ze(e)+A+C+Ze(t)}),O("toEqual",function(e,t){return kr.isEqual(e,t)},function(e,t){return b+s+Ze(e)+x+Ze(t)},function(e,t){return b+s+Ze(e)+A+x+Ze(t)}),O("toEvaluateTo",function(e,t){return kr.isEqual(e,t)},function(e,t){return b+s+"function"+k+Ze(t)},function(e,t){return b+s+"function not"+k+Ze(t)},De),function(e){return function(t){e.erred=t,vr.error(t)}}),L=function(e){var t;e.endTime=kr.performance.now(),c.pop(),w||e.erred?(a.push(e),e.promise.reject(e.err)):(u.push(e),e.promise.fulfill()),w=0,P(e.afterStack),y=Me,f[0]&&(t=f.shift(),clearTimeout(t.runId),I(t)),V()},j=function(e,t){var n=to();return o.push(n),c.push(e),m.push([]),g.push([]),gr(t,Ge,function(){g.pop(),m.pop(),c.pop()}),n},I=function(e){y=De,e.runId=setTimeout(function(){var t,n,r,i,o;y=De,P(e.beforeStack),r=N(e),1===e.handler[Q]?(i=new Error,e.timeoutId=setTimeout(function(){vr.error("timeout:\n"+e.current.join("\n")),t(i),L(e)},5e3),n=function(){e.handler(function(){clearTimeout(e.timeoutId),L(e)})},t=r,r=function(n){t(n),L(e)},o=Ge):(n=e.handler,o=function(){L(e)}),e.startTime=kr.performance.now(),gr(n,r,o)})},R=function(e,t){var n,i;return c.push(e),n=c.slice(0),c.pop(),i={string:e,handler:t,current:n,afterStack:g.slice(0),beforeStack:m.slice(0),promise:kr.Promise()},r.push(i),y?void f.push(i):(I(i),i.promise)},P=function(e){for(var t=0;t<e[Q];t++)for(var n=e[t],r=0;r<n[Q];r++)n[r]()},_=function(e){m[m[Q]-1].push(e)},B=function(e){g[g[Q]-1].push(e)},H=function(){n=i,kr.each(o,function(e){e.resolve()}),o=[],r=[],u=[],a=[],c=[],f=[],l=[],d=[],h=[],p=[],v=[],m=[],g=[]},V=function(){n=void 0===n?setTimeout(function e(){var t,i,o=0,a=0;if(y)n=setTimeout(e,100);else{for(;o<r[Q];o++)t=r[o],a+=t.endTime-t.startTime;v[Q]&&(vr.log("failed"),Gt(v,function(e){vr.log(e)})),i=p[Q]+" successful expectations\n"+v[Q]+" failed expectations\n"+l[Q]+" expectations ran\n"+u[Q]+" out of "+r[Q]+" tests passed\nin "+a+"ms",H(),vr.log(i)}},100):n};H(),kr.publicize({afterEach:B,beforeEach:_,expect:M,describe:j,it:R})})});