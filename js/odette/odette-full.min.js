!function(e,t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.Odette=n()}(this,"Odette",function(e){"use strict";var t,n="0.0.0",r="",i="definitions cannot fail due to errors",o="length",u="global",a="prototype",c=".",s=this||window,f=s.document,d=!0,l=!1,h=null,p=function(){},v=function(e){return function(t){return typeof t===e}},m=function(){return+new Date},g=function(e,t){for(var n=0,r=e&&e.slice(0),i=r&&r[o],u=[];i>n;)u[n]=t(r[n],n,r),n++;return u},y=v("string"),w=v("number"),b=v("function"),A=v("object"),x=function(e){return Array.isArray(e)},k=function(e){return(A(e)?JSON.stringify(e):b(e)?e.toString():e)+r},E=m(),T=function(e,t){return function(){return t.apply(e,arguments)}},C=function(e,t,n){var r,i=h;try{r=e()}catch(o){i=o,r=t?t(o,r):r}finally{r=n?n(i,r):r}return r},S=function(e,n){var r,i,u,a=M(e),s=M(n);return a===d?d:s===d?d:a===l&&s===l?(r=e.split(c),i=n.split(c),g(r,function(e,t){+e<+(i[t]||0)&&(u=d)}),1===r[o]&&3===i[o]?d:3===r[o]&&1===i[o]?l:(u===t&&i[o]>r[o]&&(u=d),!!u)):e<=n},O=function(e){return function(){return e}},D=function(e){var n=e.url,r=[];return A(e)?(I(e.query,function(e,n){e!==t&&(e=encodeURIComponent(k(e)),r.push(n+"="+e))}),r[o]&&(n+="?"),n+=r.join("&"),e.hash&&(e.hash=A(e.hash)?encodeURI(k(e.hash)):hash,n+="#"+e.hash)):n=e,n},M=function(e){var t,n=e;return w(n)?n:(n+=r,t=+n,t===t?t:1===n.split(c)[o])},N=function(e){var t,n,i,u,a,c=0,f=e,h=s.decodeURIComponent;for(y(f)||(f=f[LOCATION].search),"?"===f[0]&&(f=f.slice(1)),i=f.split("&"),t={};c<i[o];c++)n=i[c].split("="),n[0]&&(n[o]<2&&n[PUSH](r),u=n[1],u=h(u),"'"!==u[0]&&'"'!==u[0]||(u=u.slice(1,u[o]-1)),u===d+r&&(u=d),u===l+r&&(u=l),y(u)&&(a=+u,a==u&&a+r===u&&(u=a)),t[h(n[0])]=u);return t},R=function(e){throw new Error(e)},I=function(e,t,n){var r,i,o=e;if(A(o))if(x(o))g(o,t);else{i=[];for(r in o)o.hasOwnProperty(r)&&i.push(r);g(i,function(e){t.apply(n||this,[o[e],e,o])})}return o},L=function(e,t){return I(t,function(t,n){e[n]=t}),e},j=function(e){return C(function(){var t=e.document;return!!t},function(){return l})},V=[],B=function(e,r,c,v,x,k){function M(e,t){return this.SCOPED=d,this.CREATED_AT=m(),this.VERSION=e,this.application=this,this.missedDefinitions=[],this.definedAgainst=[],this}M[a].extend=function(e){return this.merge(this,e)},M[a].merge=L,M[a].each=I,M[a].extend({exception:R,destroy:p,wraptry:C,now:m,Odette:B,stringifyQuery:D,parseSearch:N,undefine:function(e){return this.missedDefinitions.push(e),this.defining&&e.apply(this,[this,this.definingAgainst,this.definingWith]),this},parody:function(e){for(var t=this,n=0,r={},i=t[u];n<e[o];n++)r[e[n]]=T(i,i[e[n]]);return t.extend(r),t},scope:function(e,t){var n=e&&y(e)?e:this.VERSION,r=e&&(b(e)?e:b(t)?t:h);return this[u].scope(n,r)},block:function(e){return e.apply(this,[this])},counter:function(e){return B.counter(e)},definition:function(e,t){var n,r,o,u=this;return u.definedAgainst.indexOf(e)>-1?u:(u.definedAgainst.push(e),n=e.Odette,o=t||{},u.defined?g(u.missedDefinitions,function(t){t.apply(u,[u,e,o])}):(r=V.slice(0),V=[],g(r,function(t){u.defining&&R(i),u.defining=d,u.definingAgainst=e,u.definingWith=o,C(function(){t.handler.apply(u,[u,e,o]),u.defining=l,u.defined=d})})),u.defining&&R(i),u)}});var P=function(e,t){var n={};return function(r){var i,o=r||p,u=e,a=this,c=this.global,s=c.buildContext,f=function(){i.queue.push(h)},h={app:a,context:s,handler:o};return y(u)&&(u=O(u)),(u=u(a))?(i=n[u]=n[u]||{},i.finished?(t.apply(c,[h]),o.apply(h,[a])):i.loading?f():(i.queue=[],i.loading=d,f(),c.makeScript(u,function(){var e=i.queue.slice(0);i.loading=l,i.finished=d,i.queue=[],c.registerVersion(a.VERSION),c.map(e,function(e){t.apply(c,[e]),e.handler(e.app)})},s.document)),i.queue):l}};C(function(){var e;g(k,function(t){!s[r]&&j(t)&&t[r]&&(e=d,s[r]=t[r])})});var U,H=[],W=s[r]=s[r]||function(){return B.where.push(r),{Application:M,Odette:B,LOADED_CONTEXT:window,EXECUTED_AT:E,WHERE:r,VERSION:n,SHARED:d,SCOPED:l,versionOrder:[],versions:{},wraptry:C,maxVersion:S,map:g,loadScriptWithQueue:P,loadedAgainst:[e],queue:function(e,t){return H.push({context:e,handler:t}),this},emptyQueue:function(e){var t=H.slice(0),n=this,r=n.scope();return H=[],g(t,e||function(e){e.handler.apply(e.context,[n,r])}),n},registerVersion:function(e,t){var n=this,r=n.versions[e],i=n.versions[e]=r||t||new M(e,n);return i[u]=n,n.currentVersion=e,n.defaultVersion=n.maxVersion(n.defaultVersion,e)?e:n.defaultVersion,r||n.versionOrder.push(e),i},definition:function(e,t,n){var r,i=this,o=e,u=t,a=n;return A(o)&&(a=u,u=o,o=i.scope().VERSION),r=i.registerVersion(o),r.definition(u,a)},unRegisterVersion:function(e){var n=this,r=n.versions[e],i=n.versionOrder.indexOf(e);return i===-1?n:(r.destroy(),n.versionOrder.splice(i,1),r[u]=t,n.versions[e]=t,r)},scope:function(e,t){var n,r,i,o=this,u=o.versions;return y(e)||w(e)?(n=e,r=t):(r=e,n=o.defaultVersion),u[n]?o.currentVersion=n:o.registerVersion(n),i=u[n],b(r)?(i.block(r),i):i},hoist:function(e,t){var n=this,r=t||window;return e?e===this.LOADED_CONTEXT?d:n.loadedAgainst.indexOf(e)+1?d:n.touch(e)?(e[n.WHERE]&&(r[n.WHERE]=e[n.WHERE]),r[n.WHERE]):l:l},registerScopedMethod:function(e,t){var n=this,r=t||3;n[e]=n[e]||function(){var t=0,i=arguments,u=i,a=i[o],c=i[0];if(a<r)c=n.currentVersion;else{for(u=[];t<i[o];t++)u.push(i[t]);c=u.shift()}n.applyTo(c,e,u)};return n},get:function(e){return this.versions[e]},applyTo:function(e,t,n){var r=this,i=r.get(e);return i&&i[t]&&i[t].apply(i,n)},getCurrentScript:function(e){var t=(e||f).scripts,n=e.currentScript,r=t[t[o]-1];return n||r},touch:j,makeScript:function(e,t,n,r){var i=n||f,o=i.createElement("script");return o.type="text/javascript",r||i.head.appendChild(o),e&&(t&&(o.onload=t),y(e)?o.src=e:o.innerHTML=e.join("\n")),o}}}();return W.buildContext=e,U=W.get(c),U||(U=W.registerVersion(c),v.apply(s,[W,U])),x&&x.apply(s,[W,U]),U};return L(B,{VERSION:n,where:[],touchable:j,counter:function(){var e={},t=0;return function(n){var r;return n?(e[n]=e[n]||0,++e[n],r=e[n]):(++t,r=t),n?n+r:r}}(),definition:function(e,t){V.push({context:e,handler:t})}})}),Odette(this,"application","0.0.0",function(e,t){},function(){},[window.parent]),Odette.definition(this,function(e,t,n){"use strict";function r(e,t){return this}function i(e){return e.match(Kr)||[]}function o(e){return function(t){return e==We?u:e[t]}}var u,a=window,c=a.document,s="",f=" ",d="-",l=".",h=",",p="/",v="_",m=":",g=v+v,y=p+p,w="px",b=0+w,A="id",x="display",k="destroy",E="before",T="change",C="changing",S=E+m,O=T+m,D=S+k,M=k+"ing",N="toString",R="toJSON",I="prototype",L="constructor",j="current",V="previous",B="exports",P="application",U="name",H="type",W="finished",q="selector",F="element",z="child",_="none",G="hidden",J="target",Q="origin",X="reset",Y="attributes",Z="parent",K="length",ee="object",te="string",ne="number",re="boolean",ie="function",oe="index",ue=oe+"Of",ae="window",ce="document",se="stack",fe="start",de="stop",le="class",he=le+"Name",pe="top",ve="left",me="right",ge="bottom",ye="width",we=g+"elid"+g,be="height",Ae="item",xe="innerHeight",ke="innerWidth",Ee="dispatchEvent",Te="http",Ce=Te+"s",Se=g+L+g,Oe="location",De="extend",Me="style",Ne="body",Re=!0,Ie=!1,Le=1/0,je=1.7976931348623157e308,Ve=4294967295,Be=Ve-1,Le=1/0,Pe=32767,Ue=-Pe-1,He=2147483647,Ve=4294967295,We=null,qe=Function,Fe=Array,ze=String,$e=Number,_e=Object,Ge=qe[L],Je="[object ",Qe=(ze[I],_e[I]),Xe=(Fe[I],qe[I],$e.MAX_VALUE,$e.MIN_VALUE,$e.MAX_SAFE_INTEGER),Ye=($e.MIN_SAFE_INTEGER,{}),Ze=_e.keys,Ke=_e[I].toString,et=!{toString:We}.propertyIsEnumerable(N),tt=function(){},nt=function(e,t,n,r){if(!e)return-1;for(var i,o=n||e[K],u=t+(r?0:-1),a=r?-1:1;(u+=a)<o;)if(i=e[u],i!==i)return u;return-1},rt=function(e,t,n,r,i){var o,u,a;if(!e)return-1;if(t!==t)return nt(e,n,r,i);for(o=(n||0)-1,u=r||e[K],a=i?-1:1;(o+=a)<u;)if(e[o]===t)return o;return-1},it=function(e,t,n,r,i){var o,u=n||0,a=r||e[K]-1,c=a<=He?Re:Ie;if(t!==t)return nt(e,u,a,i);if(c)for(;u<=a;){if(o=u+a>>1,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}else for(;u<=a;){if(o=(u+a)/2|0,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}return-1},ot=function(e,t,n,r,i){return(n===Re&&e&&e[K]>100?it:rt)(e,t,n,r,i)},ut=function(e){return e==We?s:e+s},at=function(e){return(At(e)?JSON.stringify(e):mt(e)?e.toString():e)+s},ct=function(e,t,n,r){var i=en(t||function(e,t){return e>t},r||e);return e.sort(function(e,t){var r=i(e,t);return pt(r)&&(r=Le),r===Re&&(r=1),r===Ie&&(r=-1),n?r*-1:r})},st=function(e,t,n,r,i){var o=n||function(e,t){return e[t]};return ct(e,function(e,n){return o(e,t)>o(n,t)},r,i)},ft=function(e,t,n){var r=Ie;return n?rt(e,t)!==-1:(e&&mt(e.hasOwnProperty)&&(r=e.hasOwnProperty(t)),r)},dt=function(e){return e&&e[Se]&&e[Se][L]||e[L]},lt=function(e,t){var n=t;return ft(n,L)&&(n=n[L]),e instanceof n},ht=function(e,t){var n=t||function(){return Re};return function(t){return typeof t===e&&n(t)}},pt=function(e){return e!==e},vt=function(e){return e===e},mt=ht(ie),gt=ht(re),yt=function(e){return bt(e)&&e===Math.round(e)},wt=ht(te),bt=ht(ne,vt),At=ht(ee,function(e){return!!e}),xt=function(e){return e===We},kt=function(e){return e===u},Et=function(e){return function(){return!e.apply(this,arguments)}},Tt=a.isFinite,Ct=function(e){return bt(e)&&Tt(e)},St=function(e){return!(!e||e!==e[ae])},Ot=Fe.isArray,Dt=function(e){return!ln(e)[K]},Mt=function(e){for(var t=0,n={},r=ln(e),i=r[K];t<i;t++)n[e[r[t]]]=r[t];return n},Nt=function(e,t){var n=_n[K],r=e[L],i=mt(r)&&r[I]||ObjProto,o=L;for(ft(e,o)&&!contains(t,o)&&t.push(o);n--;)o=_n[n],o in e&&e[o]!==i[o]&&!contains(t,o)&&t.push(o)},Rt=function(){return+new Date},It=Rt(),Lt=function(){return Rt()-It},jt=window.performance,Vt=jt?(jt.now=jt.now||jt.webkitNow||jt.msNow||jt.oNow||jt.mozNow||Lt)&&jt:{now:Lt,offset:It},Bt=function(){var e=Ie,t=arguments,n=t[K],r=1,i=t[0];for(i===Re&&(e=Re,i=t[1],r=2),i=i||{};r<n;r++)Ht(i,t[r],e);return i},Pt=function(e,t,n){return mt(e)?e.apply(t,n):e},Ut=function(e,t){return function(){var n=this,r=n[L].fn[e],i=$n(arguments);return Bt(Re,Pt(r,n,i),Pt(t,n,i))}},Ht=function(e,t,n){for(var r,i,o,a=0,c=ln(t),s=c[K];a<s;a++)r=c[a],t[r]!==u&&(o=t[r],n?(i=e[r],i!==o&&(At(o)?(At(i)||(i=e[r]=Wn(o)),Ht(i,o,n)):e[r]=o)):e[r]=o);return e},Wt=function(e){var t=[];return rn(e,function(e){t.push(e)}),t},qt=function(e){var t=[];return nn(e,function(e,n){nn(e,function(e,r){var i=t[r];t[r]||(i=t[r]=[]),i[n]=e})}),t},Ft=function(e,t){var n={};return t?nn(e,function(e,r){n[e]=t[r]}):nn(e,function(e,t){n[e[0]]=e[1]}),n},Be=Math.pow(2,53)-1,zt=function(e){var t=!!e&&e[K];return Ot(e)||(St(e)?Ie:bt(t)&&!wt(e)&&t>=0&&t<=Be&&!mt(e))},$t=function(e,t,n){var r=ln(e),i=en(t,n);return{keys:r,handler:function(t,n,r){return i(e[t],t,e)}}},_t=function(e){return function(t,n,r,i){var o,u=t,a=u,c=n,s=c,f=r,d=i;return u?(zt(u)||(o=$t(a,c,f),s=o.handler,a=o.keys,f=We),e(a,s,f,d)):u}},Gt=function(e){return function(t,n,r,i){for(var o,u,a=zt(t)?t:ln(t),c=a[K],s=en(n,r),f=i||(e>0?0:c-1);f>=0&&f<c;f+=e)if(o=f,t!==a&&(o=a[f]),u=t[o],s(u,o,t))return u}},Jt=Gt(1),Qt=Gt(-1),Xt=function(e){return e!==-1&&e===e&&e!==u&&e!==We&&e!==Ie&&e!==Re},Yt=Jt,Zt=Qt,Kt=function(e,t){return arguments[K]<3?en(e,t):tn(e,$n(arguments).slice(1))},en=function(e,t){return t?e.bind(t):e},tn=function(e,t){return e.bind.apply(e,t)},nn=function(e,t,n,r){var i,o,u,a,c,s;if(e){if(c=0,a=e[K],s=a%8,u=parseInt(a/8,10),r<0&&(c=a-1),i=r||1,o=en(t,n),s>0)do o(e[c],c,e),c+=i;while(--s>0);if(u)do o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i;while(--u>0);return e}},rn=_t(nn),on=function(e){return function(t,n,r){return e(t,n,arguments[K]<3?We:r,-1)}},un=on(nn),an=on(rn),cn=function(e){var t,n=e+s;return n=n.trim(),n===Ie+s&&(t=Ie),n===Re+s&&(t=Re),t===u&&(t=e),t},sn=function(e){return parseFloat(e)||0},fn=function(e){return parseInt(e,10)||0},dn=function(e){var t,n=[];for(t in e)n.push(t);return et&&Nt(e,n),n},ln=function(e){var t,n=[];if(!e||!At(e)&&!mt(e))return n;if(Ze)return Ze(e);for(t in e)ft(e,t)&&n.push(t);return et&&Nt(e,n),n},hn=function(e,t){var n,r,i,o,u,a=this,c=wt(e);if(e===Ie)return Bt(a[I],t),a;c||(t=e),o=ft(t,L),t&&o&&(r=t[L]),c?(i=a,r&&(i=r),r=new Ge("parent","return function "+e+"(){return parent.apply(this,arguments);}")(i)):r=r||new Ge("parent","return "+a.toString())(a),r[De]=hn;var s=function(){this[L]=r};return s[I]=a[I],r[I]=new s,t&&Bt(r[I],t),n=L+m+e,c&&(r[I][n]?Mr(L+"s with names cannot extend constructors with the same name"):r[I][n]=r),u=r,r=pn(u,a),u[I][Se]=r,r},pn=function(e,t){var n=function(t,n,r,i,o,u){return t!=We&&t instanceof e?t:new e(t,n,r,i,o,u)};return n.isInstance=e.isInstance=function(t){return lt(t,e)},n.fn=e.fn=e[I].fn=e[I],n[L]=e,n[De]=e[De]=Kt(hn,e),t&&(n["super"]=e["super"]=e[I]["super"]=t),n},vn=function(e){var t=Re;return function(){if(t)return t=Ie,e.apply(this,arguments)}},mn=function(e,t,n,r){var i,o,a,c,f,d,l;if(e===t)return 0!==e||1/e===1/t;if(e===We||e===u||t===u||t===We)return e===t;if(i=Ke.call(e),i!==Ke.call(t))return Ie;switch(i){case Je+"RegExp]":case Je+"String]":return s+e===s+t;case Je+"Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case Je+"Date]":case Je+"Boolean]":return+e===+t}if(o=i===Je+"Array]",!o){if(!At(e)||!At(t))return Ie;if(a=e[L],c=t[L],a!==c&&!(mt(a)&&a instanceof a&&mt(c)&&c instanceof c)&&L in e&&L in t)return Ie}for(f=n[K];f--;)if(n[f]===e)return r[f]===t;if(n.push(e),r.push(t),o){if(f=e[K],f!==t[K])return Ie;for(;f--;)if(!mn(e[f],t[f],n,r))return Ie}else{if(d=ln(e),f=d[K],ln(t)[K]!==f)return Ie;for(;f--;)if(l=d[f],!ft(t,l)||!mn(e[l],t[l],n,r))return Ie}return n.pop(),r.pop(),Re},gn=function(e,t){return mn(e,t,[],[])},yn=function(e){return qn(e,function(e){return e})},wn=function(e){return Bn(at(e))},bn=function(e,t,n){var r={},i=Ot(e),o=mt(t);return rn(e,function(u,a){i?!o||n?r[u]=t:r[u]=t(u,a):r[a]=t(e[a],a)}),r},An=function(e){return Bt(Hr,e)},xn=function(e){return function(t){return e(t)}},kn={first:xn},En=function(){var e=[];return e.concat.apply(e,qn(arguments,xn($n)))},Tn=function(){return kr(arguments,function(e,t){return nn(t,function(t){rt(e,t)===-1&&e.push(t)}),e},[])},Cn=function(e,t){var n=e[K],r=t%n,i=e.splice(r);return e.unshift.apply(e,i),e},Sn=function(e,t){var n=e[K],r=t%n,i=e.splice(0,n-r);return e.push.apply(e,i),e},On=function(e,t){var n=ln(t),r=Object(e);return!Yt(n,function(e){if(t[e]!==r[e]||!(e in r))return Re})},Dn=function(e){return function(t){return On(t,e)}},Mn=function(e,t,n){var r=zt(e),i=en(t,n),o=0;return kr(e,function(e,t,n,u){return o++,i(t,n,u)&&(r?e.push(t):e[n]=t),e},r?[]:{})},Nn=function(e){return kr(e,function(e,t){rt(e,t)===-1&&e.push(t)},[])},Rn=function(e,t){return Mn(e,Dn(t))},In=function(e,t){return Yt(e,Dn(t))},Ln=function(e,t){return Zt(e,Dn(t))},jn=function(e,t){return Mn(e,Et(Dn(t)))},Vn={"true":Re,"false":Ie,"null":We,undefined:u},Bn=function(e){var t,n,r,i=e;return wt(i)?(i=t=i.trim(),(n=i[K])?("{"===i[0]&&"}"===i[n-1]||"["===i[0]&&"]"===i[n-1])&&(i=Nr(function(){return JSON.parse(i)},function(){return i}))!==t?i:(r=+i,pt(r)?ft(Vn,i)?Vn[i]:"function"===i.slice(0,8)?new Ge("return "+i)():i:r):i):i},Pn=function(e){var t=e.toString(),n=t.split("{");return t=n.shift(),(t=n.join("{")).slice(0,t[K]-1)},Un=function(e,t){return"with("+(t||"this")+"){\n"+e+"\n}"},Hn=function(e,t,n){var r=t;mt(t)&&(r=Pn(t));var i=new Ge("string",Un('\teval("(function (){"+string+"}());");'));i.call(e,'"use strict";\n'+r)},Wn=function(e){return!At(e)||zt(e)?[]:{}},qn=function(e,t,n){var r=Wn(e),i=en(t,n);return e?rn(e,function(t,n){r[n]=i(t,n,e)})&&r:r},Fn=function(e){return 1===e[K]?[e[0]]:Fe.apply(We,e)},zn=function(e){return e?kr(e,function(e,t){e.push(t)},[]):[]},$n=function(e,t){return zt(e)?Ot(e)?e.slice(0):Fn(e):wt(e)?e.split(wt(t)?t:h):[e]},_n=$n("valueOf,isPrototypeOf,"+N+",propertyIsEnumerable,hasOwnProperty,toLocaleString"),Gn=function(e,t,n){var r=kr(e,function(e,t){var r;return zt(t)?(r=n?Gn(t,Ie,n):t,e.concat(r)):(e.push(t),e)},[]);return t&&nn(r,t),r},Jn=function(e,t,n){return Gn(zt(e)?e:zn(e),t,!!n)},Qn=function(e,t){var n=[];return n.concat.apply(n,qn(e,t))},Xn=function(e,t,n){return e===e&&(n!==u&&(e=e<=n?e:n),t!==u&&(e=e>=t?e:t)),e},Yn=function(e){return Xn(e,-Xe,Xe)},Zn=function(e){return e<je&&e>-je},Kn=function(e){var t=e%1;return e===e?t?e-t:e:0},er=function(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===Le||e===-Le){var t=e<0?-1:1;return t*je}return e===e?e:0},tr=function(e){var t=er(e),n=t%1;return t===t?n?t-n:t:0},tr=function(e,t){var n;return Kn((n=+e)==e?t?n:Yn(n):0)},nr=function(e){return bt(e)&&Zn(e)},rr=function(e,t,n){var r;return function(){var i=this,o=arguments,u=n&&!r,a=function(){r=We,n||e.apply(i,o)};return clearTimeout(r),r=setTimeout(a,t),u&&e.apply(i,o),r}},ir=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,u=Rt(),a=arguments;r&&u<r+t?(clearTimeout(i),i=setTimeout(function(){r=u,e.apply(o,a)},t)):(r=u,e.apply(o,a))}},or=function(e,t,n){var r;return function(){var t=n||this,i=$n(arguments);return clearTimeout(r),r=setTimeout(function(){e.apply(t,i)})}},ur=function(e){var t=e.url,n=[];return At(e)?(rn(e.query,function(e,t){e!==u&&(e=encodeURIComponent(at(e)),n.push(t+"="+e))}),n[K]&&(t+="?"),t+=n.join("&"),e.hash&&(e.hash=At(e.hash)?encodeURI(at(e.hash)):hash,t+="#"+e.hash)):t=e,t},ar=function(e,t,n){var r,i,o=dt(e);n=n||1;do i=o[I],r=i[t],o=dt(i);while(--n>0&&o&&Ct(n));return r},cr=function(){var e="crypto"in a&&"getRandomValues"in crypto,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n,r,i;return e&&(n=a.crypto.getRandomValues(new Uint32Array(1)),n===u&&(e=Ie)),e||(n=[Math.floor(1e10*Math.random())]),n=n[0],r=n%16,i="x"===t?r:3&r|8,i.toString(16)});return e?t:"SF"+t},sr=function(e){return function(t,n){var r=this;return dr(t,n,e,r),r}},fr=function(e,t,n,r){var i,o=At(e),u=Kt(n,r);return o&&(i=ln(e)),function(n,r,a,c,s,f){o?nn(i,function(t){u(t,e[t],n,r,a,c,s,f)}):u(e,t,n,r,a,c,s,f)}},dr=function(e,t,n,r){var i,o=r?Kt(n,r):n;Ot(e)?nn(e,function(e){o(e,t)}):(i=At(e)?e:Ie)?rn(i,lr(o)):o(e,t)},lr=function(e){return function(t,n,r){return e(n,t,r)}},hr=function(e,t,n){var r;return bt(t)||(t=1),r=Math.pow(n||10,t),parseInt(r*e,10)/r},pr=function(e,t,n){return e==We?e:mt(e[t])?e[t](n):At(e)?e[t]:e},vr=function(e,t,n){return nn(e,function(e){e[t](n)})},mr=function(e,t){return nn(e,function(e){e(t)})},gr=function(e,t,n,r,i){return nn(e,function(e){Nr(function(){e[t](n)},r,i)})},yr=function(e,t,n){return qn(e,function(e){return pr(e,t,n)})},wr=function(e,t,n){return nn(e,function(e){pr(e,t,n)},We,-1)},br=Math,Ar=function(e){return function(t){return br[e].apply(br,t)}},xr=function(e){var t=function(t,n,r,i,o,a){for(var c,s;o>=0&&o<a;o+=e)s=i?i[o]:o,c=n(r,t[s],s,t),c!==u&&(r=c);return r};return function(n,r,i,o){var u=!zt(n)&&ln(n),a=(u||n)[K],c=e>0?0:a-1;return arguments[K]<3&&(i=n[u?u[c]:c],c+=e),t(n,r,i,u,c,a)}},kr=xr(1),Er=xr(-1),Tr=function(e,t){return kr(e,function(n,r,i){return t(r,i,e)&&n.push(r),n},[])},Cr=a.console||{},Sr=Cr.log||tt,Or=function(e){return Bt(bn($n("trace,warn,log,dir,error,clear,table,profile,profileEnd,time,timeEnd,timeStamp"),function(t){var n=Cr[t]||Sr;return function(){n&&n.apply&&n.apply(Cr,arguments);"trace"!==t&&"error"!==t&&Cr.trace&&e&&Cr.trace()}}),{exception:function(e){throw new Error(e)},assert:function(e,t){e||Mr(t)}})},Dr=Or(),Mr=Dr.exception,Nr=function(t,n,r){var i,o=We;try{i=t()}catch(u){o=u,e.logWrappedErrors&&Dr.error(u),i=n?n(u,i):i}finally{i=r?r(o,i):i}return i},Rr=function(e,t){return t===u?!e:!!t},Ir=function(e){return function(){return e}},Lr=(Ir.self=function(){return this},Ir["true"]=Ir(Re)),jr=Ir["false"]=Ir(Ie),Vr=Ir.array=function(){return[]},Br=Ir.object=function(){return{}},Pr=(Ir.first=function(e){return e},function(e,t){return function(){return t.call(this,e.apply(this,arguments))}}),Ur={number:bt,string:wt,object:At,nan:isNaN,"int":yt,array:Ot,"function":mt,"boolean":gt,"null":xt,length:nr,validInteger:Zn,arrayLike:zt,instance:lt},Hr=e._={is:Ur,consolemaker:Or,blockWrapper:Un,unwrapBlock:Pn,passes:kn,performance:Vt,constructorWrapper:pn,stringifyQuery:ur,intendedApi:sr,intendedObject:dr,intendedIteration:fr,parseDecimal:sn,flatten:Jn,gather:Qn,isInt:yt,reverseParams:lr,isArrayLike:zt,isInstance:lt,hasEnumBug:et,roundFloat:hr,factories:Ye,cloneJSON:wn,toBoolean:cn,stringify:at,values:Wt,zip:qt,object:Ft,wraptry:Nr,toString:ut,throttle:ir,debounce:rr,defer:or,protoProperty:ar,protoProp:ar,sortedIndexOf:it,indexOfNaN:nt,toInteger:tr,indexOf:rt,toArray:$n,isEqual:gn,isArray:Ot,isEmpty:Dt,returns:Ir,isBoolean:gt,invert:Mt,extend:Bt,superExtend:Ut,noop:tt,toggle:Rr,reduce:kr,foldl:kr,foldr:Er,now:Rt,some:Tr,map:qn,result:pr,isUndefined:kt,isFunction:mt,isObject:At,isNumber:bt,isFinite:Ct,isString:wt,isNull:xt,isNaN:pt,notNaN:vt,eachProxy:_t,publicize:An,allKeys:dn,evaluate:Hn,parse:Bn,merge:Ht,clone:yn,bind:Kt,bindTo:en,bindWith:tn,duff:nn,duffRight:un,eachRight:an,iterates:$t,sort:ct,sortBy:st,wrap:bn,uuid:cr,keys:ln,once:vn,each:rn,flows:Pr,unique:Nn,baseClamp:Xn,has:ft,negate:Et,pI:fn,createPredicateIndexFinder:Gt,findIndex:Jt,findLastIndex:Qt,validKey:Xt,find:Yt,findLast:Zt,console:Dr,min:Ar("min"),max:Ar("max"),arrayLikeToArray:Fn,objectToArray:zn,BIG_INTEGER:Pe,NEGATIVE_BIG_INTEGER:Ue,math:bn($n("E,LN2,LN10,LOG2E,LOG10E,PI,SQRT1_2,SQRT2,abs,acos,acosh,asin,asinh,atan,atan2,atanh,cbrt,ceil,clz32,cos,cosh,exp,expm1,floor,fround,hypot,imul,log,log1p,log2,log10,pow,random,round,sign,sin,sinh,sqrt,tan,tanh,trunc"),function(e){return Math[e]})};gt["false"]=gt["true"]=Re,e.logWrappedErrors=Re,Ye.Extendable=pn(r,_e),e.shims=function(e){var t=function(){function e(e){return e<10?"0"+e:e}function t(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,r){var c,s,f,d,l,h=o,p=r[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof a&&(p=a.call(r,e,p)),typeof p){case"string":return t(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(o+=u,l=[],"[object Array]"===Object[I].toString.apply(p)){for(d=p[i],c=0;c<d;c+=1)l[c]=n(c,p)||"null";return f=0===l[i]?"[]":o?"[\n"+o+l.join(",\n"+o)+"\n"+h+"]":"["+l.join(",")+"]",o=h,f}if(a&&"object"==typeof a)for(d=a[i],c=0;c<d;c+=1)"string"==typeof a[c]&&(s=a[c],f=n(s,p),f&&l.push(t(s)+(o?": ":":")+f));else for(s in p)Object[I].hasOwnProperty.call(p,s)&&(f=n(s,p),f&&l.push(t(s)+(o?": ":":")+f));return f=0===l[i]?"{}":o?"{\n"+o+l.join(",\n"+o)+"\n"+h+"}":"{"+l.join(",")+"}",o=h,f}}var r=this,i="length";if(r.performance=r.performance||{},r.performance.now=function(){var e=r.performance;return e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow||function(){return(new Date).getTime()}}(),!JSON){"function"!=typeof Date[I].toJSON&&(Date[I].toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String[I].toJSON=Number[I].toJSON=Boolean[I].toJSON=function(e){return this.valueOf()});var o,u,a,c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var c;if(o="",u="","number"==typeof r)for(c=0;c<r;c+=1)u+=" ";else"string"==typeof r&&(u=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t[i]))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(e,t){function n(e,r){var i,o,u=e[r];if(u&&"object"==typeof u)for(i in u)Object[I].hasOwnProperty.call(u,i)&&(o=n(u,i),void 0!==o?u[i]=o:delete u[i]);return t.call(e,r,u)}var r;if(e=String(e),c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=Function[I].constructor("("+e+")"),"function"==typeof t?n({"":r},""):r;throw new SyntaxError("JSON.parse")})}Function[I].bind||(Function[I].bind=function(e){if("function"!=typeof this)throw new TypeError("Function[PROTOTYPE].bind - what is trying to be bound is not callable");var t=Array[I].slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array[I].slice.call(arguments)))};return this[I]&&(r[I]=this[I]),i[I]=new r,i}),r.matchMedia=r.matchMedia||function(){var e=r.styleMedia||r.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in r&&r.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return t=t||"all",{matches:e.matchMedium(t),media:t}}}()};t.call(e)},e.shims(a);var Wr=function(e){var t={};return function(n){return ft(t,n)||(t[n]=e(n)),t[n]}},qr=function(e,t){var n={};return function(r,i){var o;return i=i||t,(o=n[i]=n[i]||Wr(e(i)))(r)}},Fr=Hr.extend(bn($n("toLowerCase,toUpperCase,trim"),function(e){return Wr(function(t){return t[e]()})}),bn($n("match,search"),function(e){return qr(function(t){return function(n){return n[e](t)}})})),zr=function(e){return function(){var t=$n(arguments),n=this;return qn(t[0],function(r){return t[0]=r,e.apply(n,t)})}},$r=function(e,t,n){var r=e.slice(t[K]),i=r[0];return n&&(i=r[0].toLowerCase()),r=i+r.slice(1)},_r=zr($r),Gr=function(e,t,n,r){var i=t+e;return n!==u&&(i=t+(r||d)+e,i=n?ro(i,r):no(i,r)),i},Jr=zr(Gr),Qr=function(){var e={};return function(t){var n=e[t];return n||(e[t]=n=new Function[L]("return "+t)),n()}}(),Xr=/&(?:amp|lt|gt|quot|#39|#96);/g,Yr=/[&<>"'`]/g,Zr=(RegExp(Xr.source),RegExp(Yr.source),/[\\^$.*+?()[\]{}|]/g),Kr=(RegExp(Zr.source),/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g),ei=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ti="\\ud800-\\udfff",ni="\\u0300-\\u036f\\ufe20-\\ufe23",ri="\\u20d0-\\u20f0",ii="\\u2700-\\u27bf",oi="a-z\\xdf-\\xf6\\xf8-\\xff",ui="\\xac\\xb1\\xd7\\xf7",ai="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ci="\\u2000-\\u206f",si=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fi="A-Z\\xc0-\\xd6\\xd8-\\xde",di="\\ufe0e\\ufe0f",li=ui+ai+ci+si,hi="['’]",pi="["+ti+"]",vi="["+li+"]",mi="["+ni+ri+"]",gi="\\d+",yi="["+ii+"]",wi="["+oi+"]",bi="[^"+ti+li+gi+ii+oi+fi+"]",Ai="\\ud83c[\\udffb-\\udfff]",xi="(?:"+mi+"|"+Ai+")",ki="[^"+ti+"]",Ei="(?:\\ud83c[\\udde6-\\uddff]){2}",Ti="[\\ud800-\\udbff][\\udc00-\\udfff]",Ci="["+fi+"]",Si="\\u200d",Oi="(?:"+wi+"|"+bi+")",Di="(?:"+Ci+"|"+bi+")",Mi="(?:"+hi+"(?:d|ll|m|re|s|t|ve))?",Ni="(?:"+hi+"(?:D|LL|M|RE|S|T|VE))?",Ri=xi+"?",Ii="["+di+"]?",Li="(?:"+Si+"(?:"+[ki,Ei,Ti].join("|")+")"+Ii+Ri+")*",ji=Ii+Ri+Li,Vi="(?:"+[yi,Ei,Ti].join("|")+")"+ji,Bi=("(?:"+[ki+mi+"?",mi,Ei,Ti,pi].join("|")+")",RegExp([Ci+"?"+wi+"+"+Mi+"(?="+[vi,Ci,"$"].join("|")+")",Di+"+"+Ni+"(?="+[vi,Ci+Oi,"$"].join("|")+")",Ci+"?"+Oi+"+"+Mi,Ci+"+"+Ni,gi,Vi].join("|"),"g")),Pi=RegExp(mi,"g"),Ui={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},Hi=o(Ui),Wi=Symbol?Symbol.prototype:u,qi=(Wi?Wi.valueOf:u,Wi?Wi.toString:u),Ke=Qe.toString,Fi="[object Symbol]",zi=ht("symbol"),$i=RegExp(hi,"g"),_i=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gi=function(e){return e.match(Bi)||[]},Ji=function(e){return _i.test(e)},Qi=function(e){return zi(e)||At(e)&&Ke.call(e)==Fi},Xi=function(e){if(wt(e))return e;if(Qi(e))return qi?qi.call(e):s;var t=e+s;return"0"==t&&1/e==-Le?"-0":t},ut=function(e){return e==We?s:Xi(e)},Yi=function(e,t,n){var r=ut(e),o=n?u:t;return o===u?Ji(r)?Gi(r):i(r):r.match(o)||[]},Zi=function(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},Ki=function(e){return Wr(function(t){return Zi(Yi(eo(t).replace($i,s)),e,s)})},eo=function(e){return e=ut(e),e&&e.replace(ei,Hi).replace(Pi,s)},to=Wr(function(e){return e[0].toUpperCase()+e.slice(1)}),no=Ki(function(e,t,n){return e+(n?d:s)+t.toLowerCase()}),ro=Ki(function(e,t,n){return t=t.toLowerCase(),e+(n?to(t):t)}),io=Ki(function(e,t,n){return e+(n?f:s)+t.toLowerCase()}),oo=Ki(function(e,t,n){return e+(n?"_":s)+t.toLowerCase()}),uo=Ki(function(e,t,n){return e+(n?f:s)+upperFirst(t)}),ao=Ki(function(e,t,n){return e+(n?f:s)+t.toUpperCase()}),co=qr(function(e){var t={},n={},r=[],i=$n(e);i.sort(function(e,i){var o=e[K],u=i[K],a=Hr.max([-1,Hr.min([1,o-u])]);return n[e]=n[i]=Re,t[o]||(t[o]=Re,r.push(o)),t[u]||(t[u]=Re,r.push(u)),-1*(0===a?e>i?-1:1:a)});return r.sort(function(e,t){return-1*Hr.max([-1,Hr.min([1,e-t])])}),function(e){for(var t,i=0,o=(e+s).trim(),u=o[K];r[i];){if(r[i]<u&&(t=o.substr(u-r[i],u),n[t]))return t;i++}return Ie}}),so=$n("px,em,rem,ex,in,cm,%,vh,vw,pc,pt,mm,vmax,vmin"),fo=function(e){return co(e,so)},lo=Wr(function(e){var t=!1,n=e.split(y)[K];return(0===e.indexOf(Te)&&n>=2||0===e.indexOf(y)&&2===n)&&(t=!0),t}),ho=(Wr(function(e){var t=!1,n=str.split(y);n[K],n.shift();return t}),Wr(function(e){var t=s,n=rt(e,"#")+1;return n&&(t=e.slice(n)),t})),po=function(e,t){var n=ho(e);return t?n:Bn(n)},vo=function(e,t,n){return e[n||0]===t},mo=vo,go=function(e){var t,n,r,i,o,u=0,c=a.decodeURIComponent;for(e||(e=a[Oe].search),r=e.slice(1).split("&"),t={};u<r[K];u++)n=r[u].split("="),n[0]&&(n[K]<2&&n[PUSH](s),i=n[1],i=c(i),"'"!==i[0]&&'"'!==i[0]||(i=i.slice(1,i[K]-1)),i===Re+s&&(i=Re),i===Ie+s&&(i=Ie),wt(i)&&(o=+i,o==i&&o+s===i&&(i=o)),t[c(n[0])]=i);return t},yo=function(e){return e.toString=function(){return e.href},e.replace=function(t){var n=xo(t);return n.previous=e,n},e},wo=Wr(function(e){var t;return e?(wt(e)||(e=e.referrer),wt(e)&&(e+=p,t=e.match(/^https?:\/\/.*?\//im),t&&(t=t[0].slice(0,t[0][K]-1))),t||s):s}),bo=[Te,Ce].concat($n("file,about,javascript,ws,tel")),Ao={"http:":Re,"https:":Re},xo=function(e,t,n){var r,i,o,u,a,c,f,d=n||window,h=e||s,v=s,g=s,y=s,w=s,b=s,A=s,x=rt(h,"?")+1,k={},E=bo[K],T=h.split(m),C=d.location.protocol,S=T[K]-1&&(a=T.shift()),O=(S&&Yt(bo,function(e){
return e===a})||C.slice(0,C[K]-1))+m;if(x?(v=h.slice(x-1),g=ho(v)):g=ho(h),x&&(v=v.split(g).join(s),k=go(v),h=h.slice(0,x-1)),h[0]===p&&h[1]===p)O=d.location.protocol;else{for(;E--&&!O;)h.slice(0,bo[E][K])===bo[E]&&(O=bo[E]);O||(O=Te)}if(T=h.split(m),T[K]-1){for(a=T.shift(),f=T.join(m).split(p);!y;)y=f.shift();u=y.split(m),A=u.shift(),b=u[K]?u[0]:s,r=T.shift(),h=T.join(m).slice(y[K])}else y=d.location.host,b=d.location.port,A=d.location.hostname;return c=d.location.pathname.slice(1),h[0]===p&&h[1]!==p&&(h=h.slice(1),c=s),h[0]===l&&(h=h.slice(2)),w=p+c+h,o=O+(Ao[O]?p+p:s)+A+(b?m+b:s),i=o+w+(v||s)+(g||s),yo({passed:e,port:b,hostname:A,pathname:w,search:v.slice(1),host:y,hash:g.slice(1),href:i,protocol:O.slice(0,O[K]),origin:o,searchObject:k})},ko=60,Eo=7,To=30,Co=24,So=1e3,Oo=365,Do=So*ko,Mo=Do*ko,No=Mo*Co,Ro=Mo*Eo,Io=Mo*To,Lo=No*Oo,jo={ms:1,secs:So,s:So,mins:Do,hrs:Mo,days:No,wks:Ro,mnths:Io,yrs:Lo},Vo=[],Bo=kr(jo,function(e,t,n){return Vo.push(n),e[n]=function(e){return e*t},e},{}),Po=$n("sunday,monday,tuesday,wednesday,thursday,friday,saturday"),Uo=$n("january,feburary,march,april,may,june,july,august,september,october,november,december"),Ho=bn(Uo,Re),Wo=bn(Uo,function(e,t){return t}),qo=Wr(function(e){var t=0;return nn($n(e+s),function(e){var n=e,r=co(n,Vo),i=+n.split(r||s).join(s),o=Bo[r];i===i&&(o&&(i=o(i)),t+=i)}),t}),Fo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},zo=Mt(Fo),$o=function(e){var t=function(t){return e[t]},n="(?:"+ln(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==We?s:s+e,r.test(e)?e.replace(i,t):e}},_o=function(e,t){return e.split("\n").join("\n"+(t||"\t"))},Go=$o(Fo),Jo=$o(zo),Qo=function(e){return e[K]},Xo=function(e){return Math.floor(e)},Yo=function(e){return Math.ceil(e)},Zo=function(e,t){var n="";if(!e||t<1||t>Xe)return n;do t%2&&(n+=e),t=Xo(t/2),t&&(e+=e);while(t);return n},Ko=function(e,t){var n=t===u?f:Xi(t),r=n.length;if(r<2)return r?Zo(n,e):n;var i=Zo(n,Yo(e/Qo(n)));return hasUnicode(n)?castSlice(stringToArray(i),0,e).join(s):i.slice(0,e)},eu=function(e,t,n){e=ut(e),t=tr(t);var r=t?Qo(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return s.concat(Ko(Xo(i),n),e,Ko(Yo(i),n))},tu=function(e,t,n){var r=ut(e),i=tr(t),o=i?Qo(r):0;return i&&o<i?s.concat(r.createPadding(i-o,n)):r},nu=function(e,t,n){var r=ut(e),i=tr(t),o=i?Qo(r):0;return i&&o<i?s.concat(Ko(i-o,n).string):r};Hr.publicize({escape:Go,unescape:Jo,monthIndex:Wo,monthHash:Ho,months:Uo,weekdays:Po,indent:_o,customUnits:co,cacheable:Wr,categoricallyCacheable:qr,deprefix:$r,deprefixAll:_r,prefix:Gr,prefixAll:Jr,capitalize:to,spinalCase:no,kebabCase:no,camelCase:ro,snakeCase:oo,lowerCase:io,startCase:uo,upperCase:ao,reference:wo,string:Fr,units:fo,baseUnitList:so,isHttp:lo,parseHash:po,parseUrl:xo,parseSearch:go,parseObject:Qr,time:qo,startsWith:mo,itemIs:vo,pad:eu,padEnd:tu,padStart:nu});var ru="Status",iu="statuses",ou={creation:{},destruction:{}},uu=Ir(We),Br=function(){return{}},au=function(e,t,n){return n},cu=function(e,t){return function(n,r,i){return this.directive(e)[t](n,r,i)}},su=function(e,t){return function(n){var r=this,i=r.directive(e);return nn(n,i[t],i),r}},fu=function(e,t,n){var r=mt(n);return function(i,o,u,a,c,s){var f=this;return f[e]?f[e][t](i,o,u,a,c,s):r?n(f):n}},du=function(e,t,n){var r;!wt(e)&&Mr("directives must be registered with a string for a name")||!mt(t)&&Mr("directives must be registered with at least a create function");return ou.creation[e]=(r=ou.creation[e])||t,ou.destruction[e]=ou.destruction[e]||n,ou.creation[e]},lu=function(t,n,r,i){var o=i||au,u=r||au;ou.creation[t]||Mr("directives must exist before they can be extended");return e.defineDirective(n,function(e,n,r){var i=new ou.creation[t](e,n,r);return new u(e,n,i)},function(e,n,r){var i=ou.destruction[t](e,n,r);return o(e,n,i)})},hu=function(e){var t,n,r=this;return(n=r[e])?n:(t=r["directive:creation:"+e]||ou.creation[e]||Br,r[e]=new t(r,e),r[e])},pu=(Ye.Directive=Ye.Extendable.extend("Directive",{mark:cu(ru,"mark"),unmark:cu(ru,"unmark"),remark:cu(ru,"remark"),is:fu(ru,"is",Ie),directive:hu,directiveDestruction:function(e){var t;if(!(t=this[e]))return We;if(t.is("directiveDestroying"))return We;t.mark("directiveDestroying");var n=(ou.destruction[e]||uu)(this[e],this,e);return delete this[e],n}}),Ye.Status=Ye.Directive.extend(ru,{constructor:function(){return this[iu]={},this},has:function(e){return this[iu][e]!==u},mark:function(e){var t=this[iu][e];return this[iu][e]=Re,t!==Re},unmark:function(e){var t=this[iu][e];return this[iu][e]=Ie,t!==Ie},remark:function(e,t){var n=this,r=n[iu][e],i=n[iu][e]=t===u?!n[iu][e]:!!t;return r!==i},is:function(e){return!!this[iu][e]},isNot:function(e){return!this[iu][e]},toJSON:function(){return this[iu]}}));du(ru,pu[L]),e.defineDirective=du,e.extendDirective=lu,Hr.publicize({directives:{parody:cu,checkParody:fu,iterate:su,create:hu,all:ou}});var vu="Collection",mu="reversed",gu="Registry",yu="delimited",wu="StringManager",bu="Sorted"+vu;e.scope(function(e){var t="object must not be null or "+u,n="objects in sorted collections must have either a number or string for their valueOf result",r="list cannot be modified while it is being iterated over",i=function(e){return function(e,t,n,r,i){var u=0;return nn(t,function(t){u+=o(e,t,n,r,i)}),u===e[K]}},o=function(e,t,n,r,i){var o=rt(e,t,n,r,i);return o+1&&c(e,o),o+=1,!!o},a=i(o),c=function(e,t){return e.splice(t,1)[0]},d=function(e,t,n,r,i){var o=0,u=rt(e,t,n,r,i);return u===-1&&(o=e.push(t)),!!o},l=i(d),h=function(e,t,n){var r=e[K];return e.splice(n||0,0,t),r!==e[K]},p=function(e,t,n){var r=n||tt,i=[],o=t||0,u=bt(o),a=zt(o);return o<0&&(u=!1),e[K]?(u?(i=[e[o]],r(i[0])):a?nn(o,function(t){var n=e[t];i.push(n),r(n)}):(i=[e[0]],r(i[0])),i):i},v=function(e,t,n,r){var i,o,u;for(t==We&&(t=e||0,e=0),isFinite(e)&&bt(e)||(e=0),n=+n||1,i=Math.max(Math.ceil((t-e)/n),0)+(+r||0),o=[],u=0;u<i;)o[u]=e,u++,e+=n;return o},g=function(e,t,n,r,i){var o,u,a,c;if(r>=i||!bt(r)||!bt(i)||!isFinite(r)||!isFinite(i))return e;for(c=n||this,o=en(t,c),i=Math.abs(i),a=r;a<i;)u=We,e[K]>a&&(u=e[a]),o(u,a,e),a++;return e},y=function(e,t,n,r){return g(e,t,n,0,r)},w=function(e,t,n,r){return g(e,t,n,r,e[K])},b=function(e,t,n,r){for(var i,o,u,a=n||0,c=r||e[K]-1;a<=c;)if(i=(a+c)/2|0,o=e[i],o<t)a=i+1;else{if(!(o>t))return i;c=i-1}return u=~~c},x=function(e,t){return function(){return new this[Se](e.apply(t||this,arguments))}},k=Ye[gu]=Ye.Directive.extend(gu,{constructor:function(){return this.reset(),this},get:function(e,t,n){var r=this.register[e],i=r&&r[t];return i===u&&n&&(i=n(),this.keep(e,t,i)),i},keep:function(e,t,n){var r=this.register,i=r[e]=r[e]||{};return n===u?delete i[t]:i[t]=n,this},ungroup:function(e){return this.group(e,{})},group:function(e,t){var n=this.register;return n[e]=t||n[e]||{},n[e]},swap:function(e,t,n){var r=this.get(e,t);return this.keep(e,t,n),r},drop:function(e,t){return this.swap(e,t)},reset:function(e,t){var n=this.register;return this.register=e||{},n}}),E=$n("eq,where,whereNot,map,results,filter,cycle,uncycle,flatten,gather,unique"),T={each:nn,duff:nn,forEach:nn,eachCall:vr,eachCallTry:gr,eachRight:un,duffRight:un,forEachRight:un,eachCallRight:wr},C=(ln(T),$n("add")),S=$n("insertAt,remove,removeAt"),O=$n("pop,shift,splice"),D=$n("reverse"),M=$n("push,unshift"),N=$n("join"),j=$n("count,countTo,countFrom,merge"),V=$n("foldr,foldl,reduce"),B=$n("find,findLast,findWhere,findLastWhere"),P=$n("indexOf"),U=V.concat(B),H=function(e){return function(t,n,r,i,o,u){var a,c=this;return++c.iterating,a=e(c,t,n,r,i,o,u),--c.iterating,a}},W=Bt({seeker:function(e,t){var n=this,r=en(e,t);return un(n.toArray(),function(e,t,i){r(e,t,i)&&n.removeAt(t)})},slice:function(e,t){return new z(this.toArray().slice(e,t))}},bn(N,function(e){return function(t){return this.toArray()[e](t)}}),bn(P.concat(C),function(e){return function(t,n,r,i,o){var u=this;return Hr[e](u.toArray(),t,n,r,i,o)}}),bn(M,function(e){return function(t){var n=Ot(t)?t:arguments,r=this.toArray();return r[e].apply(r,n)}}),bn(O,function(e){return function(t,n,i,o,u,a){var c=this;return c.iterating?Mr(r):c.toArray()[e](t,n,i,o,u,a)}}),bn(S,function(e){return function(t,n,i,o,u){var a=this;return a.iterating?Mr(r):Hr[e](a.toArray(),t,n,i,o,u)}}),bn(D,function(e){return function(){var t=this;return t.remark(mu,!t.is(mu)),t.toArray()[e](),t}}),bn(T,function(e){return H(function(t,n,r){var i=t.toArray(),o=n,u=arguments[K]>1?r:t;return e(i,o,u),t})}),bn(j,function(e){return H(function(t,n,r,i){return Hr[e](t.toArray(),n,t,r,i),t})}),bn(E,function(e){return H(function(t,n,r,i){return new z[L](Hr[e](t.toArray(),n,r,i))})}),bn(U,function(e){return H(function(t,n,r,i){return Hr[e](t.toArray(),n,r,i)})})),q=Hr.publicize({eachCall:vr,eachCallRight:wr,filter:Mn,matches:Dn,results:yr,add:d,removeAll:a,addAll:l,insertAt:h,removeAt:c,remove:o,cycle:Cn,uncycle:Sn,concat:En,where:Rn,findWhere:In,findLastWhere:Ln,range:v,count:g,countTo:y,countFrom:w,whereNot:jn,eachRight:an,duffRight:un,flatten:Jn,eq:p}),F=function(){return this.items},z=Ye[vu]=Ye.Directive.extend(vu,Bt({get:cu(gu,"get"),keep:cu(gu,"keep"),drop:cu(gu,"drop"),swap:cu(gu,"swap"),comparator:function(){},constructor:function(e){return this.reset(e),this},call:function(e){return this.each(function(t){t(e)}),this},obliteration:function(e,t){return un(this.toArray(),e,t===u?this:t),this},empty:function(){return this.reset(),this.directive(gu).reset(),this},reset:function(e){var t=this;t.toArray()||[];return t.iterating=t.iterating?Mr(r):0,t.items=e==We?[]:z.isInstance(e)?e.toArray().slice(0):$n(e),t.unmark(mu),t},toArray:F,unwrap:F,length:function(){return this.toArray()[K]},first:function(){return this.toArray()[0]},last:function(){var e=this.toArray();return e[e[K]-1]},item:function(e){return this.toArray()[e||0]},has:function(e){return this.indexOf(e)!==-1},sort:function(e){var t=this;return ct(t.toArray(),e||this.comparator,t.is(mu),t),t},sortBy:function(e,t){var n=this;return st(n.toArray(),e,t,n.is(mu),n),n},toString:function(){return at(this.toArray())},toJSON:function(){return yr(this.toArray(),R)},copy:function(){return this.items.slice(0)},range:x(v),concat:x(function(){var e=this.toArray();return e.concat.apply(e,qn(arguments,function(e){return z(e).toArray()}))})},W)),$=(e.defineDirective(vu,function(){return new z[L]}),e.defineDirective(vu,function(){return z()}),Ye.SortedCollection=z.extend(bu,{constructor:function(e,t){var n=this;return n[L+m+vu](),e&&!t&&n.load(zt(e)?e:[e]),n},reverse:function(){var e=this;return e.remark(mu,!e.is(mu)),e.sort(),e},closestIndex:function(e){return b(this.toArray(),e)},closest:function(e){var t,n=this.toArray();return(t=b(n,e))===-1?u:n[t]},validIDType:function(e){return bt(e)||wt(e)},indexOf:function(e,t,n){return ot(this.toArray(),e,Re)},load:function(e){var t=this;return Ot(e)?nn(e,t.add,t):t.add(e),t},add:function(e){var r,i=this,o=(e==We&&Mr(t),e&&e.valueOf()),u=(r=i[gu])&&i.get(A,o);return u?Ie:(q=!i.validIDType(o)&&Mr(n),i.insertAt(e,i.closestIndex(o)+1),(r||i.directive(gu)).keep(A,o,e),Re)},remove:function(e,n){var r=this,i=(e==We&&Mr(t),e&&e.valueOf());return e==We||r.get(A,i)==We?Ie:(r.removeAt(n===u?r.indexOf(e):n),r.drop(A,i),Re)},pop:function(){var e=this,t=e[K]();if(t)return e.remove(e.last(),t-1)},shift:function(){return this.remove(this.first(),0)}})),_=Ye.StringObject=Ye.Extendable.extend("StringObject",{constructor:function(e,t){var n=this;return n.value=e,n.parent=t,n.isValid(Re),n},toggle:function(e){this.isValid(Rr(this.isValid(),e))},isValid:function(e){var t=this;return arguments[K]?(t.valid!==e&&(t.parent.increment(),t.valid=e),t):t.valid},valueOf:function(){return this.value},toString:function(){var e=this,t=e.value,n=e.parent;return n.indexer===u?t:e.isValid()?(t=n.indexer?n.delimiter+t:t,++n.indexer,t):(e.parent.drop(A,t),e.parent.removeAt(n.indexer),s)}});Ye[wu]=$.extend(wu,{Child:_,add:function(e){var t=this,n=t.get(A,e);return e&&(n?n.isValid(Re):(n=new t.Child(e,t),t.toArray().push(n),t.keep(A,e,n))),n},emptyCollection:z[L][I].empty,empty:function(){var e=this;return e.emptyCollection(),e.current(s),e},increment:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter++,e},decrement:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter--,e},remove:function(e){var t=this,n=t.get(A,e);return e&&n&&n.isValid(Ie),t},toggle:function(e,t){var n=Re,r=this,i=r.get(A,e);i||(n=Ie,i=r.add(e)),t===u?n&&i.toggle():i.toggle(t)},join:function(e){var t,n,r,i=this,o=(e||s)+s,a=i.directive(gu);return i.changeCounter=i.changeCounter||0,i.changeCounter&&(i.changeCounter=0,a.group(yu,{})),(r=a.get(yu,o))!==u?r:(t=i.toArray().slice(0),i.indexer=0,i.delimiter=o,n=t.join(s),i.current(o,n),delete i.indexer,delete i.delimiter,n)},generate:function(e){var t,n=s,r=this,i=e;return r.changeCounter=r.changeCounter||0,!r.changeCounter&&(t=r.current(i))?t:(r.current(i,n=r.join(i)),n)},current:function(e,t){var n,r=this;return 1===arguments[K]?(n=r.get(yu,e))===u?r.join(e):n:(r.keep(yu,e,t),r)},ensure:function(e,t){var n=this,r=e,i=t===u?f:t,o=Ot(r),a=o?r.join(i):r;return n.current(i)===a?n:(n.load(o?r:wt(r)?r.split(i):Ie),n.current(i,a),n)},refill:function(e){var t=this,n=e;return t.empty(),n&&t.load(n),t.increment(),t}});e.defineDirective(gu,k[L])});var Au=Ye[vu],xu=Ye.Directive.extend("Messenger",{constructor:function(){var e=this,t={};return Ye.Directive[L].apply(this,arguments),e.request=function(e,n,r){return t&&t[e]&&t[e](n)},e.reply=function(n,r,i){return dr(n,r,function(e,n){return t&&(t[e]=Kt(mt(n)?n:Ir(n),We))}),e},e.destroy=function(){t=u},e}});e.defineDirective("Messenger",xu);var ku="Events",Ee="dispatchEvent",Eu="EventManager",Tu="stopListening",Cu="talkerId",Su="listeningTo",Ou="t",Du="state",Mu="handlers",Nu=e.block(function(e){var t=function(e,t){var n=wt(t)?e[t]:t;!mt(n)&&Mr("handler must be a function or a string with a method on the originating object");return n},n=function(e,t,n,r,i,o){return nn($n(n,f),function(n){o(e,t,t.make(n,r,e),i)})},r=function(e,t,r,i){return function(o,u){var a,c,s=Re,f=this;return o?t&&!u?f:(a=$n(arguments),dr(a[t],a[t+1],function(o,u,d){c=c||f.directive(Eu),s&&d&&a.splice(t,t+1,We),a[t]=o,a[t+1]=u,s=Ie,a[K]<r&&i(f,a),n(f,c,o,u,a,e)}),f):f}},i=function(e,t){return function(n){return gn(t,n[Q].get(e))}},o=function(e,t){t.fn=function(n){n&&t.comparator(n)&&(t.triggersOnce&&e.detach(t),t.runner(n))}},u=function(e,t){return function(){var n,r,u,c,d,l,h,p=this,v={},g=$n(arguments);return arguments[0]?(u=e,r=g.slice(e),c=r[0],n=r[At(c)?2:3]||p,e&&!g[0]?v:(d=p.directive(Eu),h=e?g[0].directive(Eu):d,dr(c,r[1],function(u,c,y){var w=u.split(f)[0],b=l||Kt(r[y?1:2],n||p),A=mt(c)?c:i(w,c),x=T+m+w,k=p,E=h.make(x,b,p);e+2<g[K]&&g.push(n),e&&a(p,d,E,g[0]),E.comparator=A,E.triggersOnce=!!t,E.runner=b,s(k,h,E,[r[0],r[2],r[3]],o),v[w]=b}),v)):v}},a=function(e,t,n,r){var i=v(e,r),o=r.directive(Eu);o[Mu]=o[Mu]||{};return i.count++,n.listening=i,o},c=function(e,t){var n=t.fn||t.handler;t.fn=vn(function(r){return e.detach(t),n.apply(this,arguments)})},s=function(e,n,r,i,o){r.context=r.context||i[2],r.handler=t(e,r.handler),n.attach(r.name,r,o)},d=function(e,t,n,r){s(e,t,n,r,c)},l=function(e){return function(t,n){n[K]===e&&n.push(t)}},h=l(2),p=l(3),v=function(t,n){var r,i=t.directive(Eu),o=n.directive(Eu),u=o[Cu],a=i[Su];return u&&(r=a[u])?r:(u=o[Cu]=o[Cu]||e.counter(Ou),r=a[u]={talker:n,talkerId:u,listeningTo:a,count:0})},g=function(e,n,r,i,o){var u=i[0],c=a(e,n,r,u);r.handler=t(e,r.handler),s(u,c,r,i.slice(1),o)},y=function(e,t,n,r){g(e,t,n,r,c)},w="c",b=Ye[ku]=Ye.Directive.extend(ku,{initialize:tt,bubble:cu(Eu,"bubble"),on:r(s,0,3,h),once:r(d,0,3,h),listenTo:r(g,1,4,p),listenToOnce:r(y,1,4,p),watch:u(0),watchOnce:u(0,1),watchOther:u(1),watchOtherOnce:u(1,1),request:cu("Messenger","request"),reply:cu("Messenger","reply"),when:cu("Linguistics","when"),linguisticsOrigin:function(){return this},constructor:function(t){var n=this;return Bt(n,t),n[w+A]=n[w+A]||e.counter(w),n.on(pr(n,"events")),n.initialize(t),n},off:function(e,t,r){var i,o,u=this,a=e,c=u[Eu];if(c)return i=At(a)?t:r,arguments[K]?a?dr(a,t,function(e,t){n(u,c,e,t,[],function(e,t,n){var r=c[Mu][n.name];return r&&c.seekAndDestroy(r,n.handler,i)})}):rn(c[Mu],function(e,n){c.seekAndDestroy(e,t,i)}):(o=c[se].last(),o&&c.detach(o)),u},stopListening:function(e,t,n){var r,i,o,u,a=0,c=this,s=c[Eu];return s?(r=s[Su],(i=e&&!(u=e[Eu]))?c:(o=e?[u[Cu]]:ln(r),nn(o,function(e){var i=r[e];i&&i.talker.off(t,n),a=a||i&&i[e]?1:0}),a||Yt(e?ln(r):o,function(e,t){return r[e]})||(s[Su]={}),c)):c},dispatchEvents:function(e){var t=this;return nn($n(e,f),t.dispatchStack,t)&&t},dispatchStack:function(e){return this[Ee](e)},dispatchEvent:function(e,t,n){var r,i,o,u=this,a=u[Eu];if(a&&a.has(e)&&!a.running[e]&&!a.queued[e]&&(i=a.validate(e,t,n)))return Ot(i)&&(e=i[0],t=i[1],n=i[2]),r=a.create(u,t,e,n),o=a.dispatch(e,r)}});return b}),Ru=to(z+"ren"),Iu=z+"Options",Lu=z+ku,ju="DataManager";e.scope(function(e){var t=(Ye.Events,Ye.Collection,"sort"),n="added",r="unwrap",i="removed",o="stopListening",a="_delegatedParentEvents",c="_parentDelgatedChildEvents",s=function(e,t){return N(e,t)},f=function(e,t){var n,r=pr(e,Lu);t&&r&&(n=t.directive(Eu),n[c]=r,e.listenTo(t,r))},d=function(e,t){var n;t&&e[o]&&(n=t[Eu])&&n[c]&&(e[o](t,t[c]),n[c]=u)},l=function(e,t){var n,r=t[Z],i=pr(t,Z+"Events");r&&i&&(n=t.directive(Eu),n[a]=i,t.listenTo(r,i))},h=function(e,t){var n;t[o]&&(n=t[Eu])&&n[a]&&(t[o](e,t[a]),n[a]=u)},p="Syncer",v=function(e,t,n){var r=e.toJSON();return Hr.HTTP({url:t,type:n,data:e.stringifyPosts?e.stringify(r):r})},g=Ye.Directive.extend(p,Hr.extend({createType:"POST",updateType:"PUT",fetchType:"GET",deleteType:"DELETE",parse:Bn,stringify:at,constructor:function(e){return this[J]=e,this}},bn(["destroy","fetch","update","create"],v,Re))),y=(e.defineDirective(p,g[L]),Ye[Ru]=Au.extend(Ru,{constructor:function(e){return this[J]=e,this[L+m+vu](),this},attach:function(e){var t=this,r=t[J],i=e[Ee]&&e[Ee](S+n);return t.detach(e),t.addToHash(e),l(r,e),f(r,e),i=e[Ee]&&e[Ee](n),e},detach:function(e){var t,n=this;return(t=e[Z])?(e[Ee](S+i),h(t,e),d(t,e),n.removeFromHash(e),delete e[Z],e[Ee](i),Re):Ie},addToHash:function(e){var t=this,n=t[J];e[Z]=n,t.add(e),t.keep(A,e.id,e),t.keep("cid",e.cid,e)},removeFromHash:function(e){var t=this;e&&(t.remove(e),t.drop(A,e.id),t.drop("cid",e.cid))},save:function(){},fetch:function(){}})),w=function(){return{add:[],remove:[],update:[]}},b=Ye.Parent=Ye.Events.extend("Parent",{Child:Re,childOptions:tt,parentEvents:tt,childEvents:tt,childConstructor:function(){return this.Child===Re?this.__constructor__:this.Child||b},isChildType:function(e){return lt(e,this.childConstructor())},diff:function(e,t){var r=this,o=e,u=t||{},a=r.directive(Ru),c=w(),s=Au(o.add).foldl(function(e,t){var n=r.isChildType(t),i=r.childConstructor(),o=n?t:new i(t,u.shared),c=a.get(A,o.id);c?(c.set(n?t[R]():t),e.update.push(c)):(a.attach(o),e.add.push(o))},o.remove?Au(o.remove).foldl(function(e,t){var n,r=t&&t[Z];r&&(n=r[Ru],n&&n.detach(t)&&e.remove.push(t))},c):c);return u.silent?s:(s.remove.length&&r[Ee](z+m+i,s),s.add.length&&r[Ee](z+m+n,s),(s.add.length||s.remove.length)&&r[Ee](O+z+m+"count",s),s)},add:function(e,t){var n=this,i=(n.directive(Ru),Bt(pr(n,Iu),t||{})),o=Au(e);return o[K]()?Au(n.diff({add:o},{shared:i}).add):o[r]()},remove:function(e){var t,n=this,r=e;return r==We?(n=n[Z],n.remove(this)):(!At(r)&&(t=n.directive(Ru))&&(r=t.get(A,r)),r&&At(r)?Au(n.diff({remove:(r&&Au.isInstance(r)?r.toArray():$n(r)).slice(0)}).remove):w())},sort:function(e){var n,r,i,o,u=this;return(n=u[Ru])?(r=e||u.comparator,wt(r)&&(o="!"===r[0],i=r,o&&(i=r.slice(1)),r=function(e,t){var n,r=e.get(i),u=t.get(i);return n=o?u-r:r-u}),n[t](r),u[Ee](t),u):u},destroy:function(){var e,t=this;return t.is(M)||t[Ee](D),e=t[Z]&&t[Z].remove(t),t[Ee](k),t.stopListening(),t}}),x=0,E=function(e,t){return e.id=t===u?++x:t,x},N=Ye.Model=Ye.Parent.extend("Model",{unset:function(e){var t=this[ju];if(!t)return Ie;var n=t.unset(e);return this.modified([e]),n},get:fu(ju,"get"),escape:function(e){return Go(this.get(e))},keys:fu(ju,"keys",Vr),values:fu(ju,"values",Vr),has:fu(ju,"has",Ie),idAttribute:Ir("id"),constructor:function(e,t){var n=this;return n.reset(e),this[L+m+ku](t),n},defaults:function(){return{}},reset:function(e){var t,n,r=this,i=Bn(e)||{},o=r.defaults(i),u=Bt(o,i),a=r.idAttribute(u),c=(E(r,u[a]),ln(u));return(n=r.is(X))&&r[Ee](S+X),(n||c[K])&&(t=r.directive(ju),t[X](u)),r.mark(X),n&&r[Ee](X,u),r},destroy:function(){return b.fn.destroy.call(this),delete this.id,this},set:function(e,t,n){var r=[],i=this,o=t,u=i.directive(ju),a=n;return dr(e,o,function(e,n,i){!a&&i&&(a=t),u.set(e,n)&&!u.changing[name]&&r.push(e)}),a?r:(i.modified(r),i)},modified:function(e){var t,n=this;return e&&e[K]?(t=n.directive(ju),n.digest(e,function(e){t.changing[e]=Re,n[Ee](O+e),t.changing[e]=Ie}),n):n},digest:function(e,t){var n=this,r=n.directive(ju);r.increment(),mt(e)?e():nn(e,t,n),r.decrement(),r["static"]()&&(r.increment(),n[Ee](T,r[C]),r.decrement(),r.finish())},toJSON:function(){return this.clone()},clone:fu(ju,"clone",function(){return{}}),valueOf:function(){return this.id},toString:function(){return at(this)}});e.defineDirective(Ru,y[L]),s[L]=N[L]});var Vu=(Ye.Model,"actions"),Bu="propagation",Pu="Stopped",Uu="defaultPrevented",Hu=Bu+"Halted",Wu=Bu+Pu,qu="immediate"+to(Bu)+Pu;e.scope(function(e){var t=1,n=0,r=Ir.id=function(){return this.id},i="passedData",o=Ye.ObjectEvent=Ye.Directive.extend("ObjectEvent",{constructor:function(e,t,n,r,o){var u=this;return u.unmark(Hu),u.unmark(Wu),u.unmark(qu),u[Q]=t,u[U]=n,u[H]=n.split(m)[0],u.timestamp=Rt(),u.timeStamp=o||u.timestamp,u[i]={},u.data(e),r&&Bt(u,r),u},toJSON:function(){return this.data()},isStopped:function(){return this.is(Wu)||this.is(qu)},data:function(e){return arguments[K]?this.set(e):this[i]},get:function(e){return this[i][e]},set:function(e){var t=this;return t[i]=At(e)?e:{},t},stopImmediatePropagation:function(){this.stopPropagation(),this.mark(qu),this.mark(Hu)},stopPropagation:function(){this.mark(Wu)},preventDefault:function(){this[Uu]=Re},defaultIsPrevented:function(){return this[Uu]},action:function(e){var t=this;return t.directive(Vu).push(e),t},finished:function(){var e,t=this;t.mark(W),t.defaultIsPrevented()||(e=t[Vu])&&e.call(t)}});Ye.EventsDirective=Ye.Directive.extend("EventsDirective",{cancelled:Hr.noop,validate:Ir(Re),constructor:function(e){var t=this;return t.target=e,t.listenId="l"+ ++n,t.handlers={},t.listeningTo={},t.running={},t.queued={},t.stack=Au(),t.removeQueue=Au(),t.proxyStack=Au(),t.proxyStack.unmark("dirty"),t},attach:function(e,n,i){var o,u=this,a=u[Mu];n.id=++t,n.valueOf=r,n.context=n.context||n.origin,i&&mt(i)&&i(u,n),n.fn=Kt(n.fn||n.handler,n.context),o=a[e]=a[e]||Au(),o[U]=e,n.list=o,u.add(o,n)},create:function(e,t,n,r){return o(t,e,n,r)},make:function(e,t,n){return{disabled:Ie,namespace:e&&e.split&&e.split(m)[0],name:e,handler:t,origin:n}},seekAndDestroy:function(e,t,n){for(var r,i=this,o=e.toArray(),u=o[K]-1;u>=0;u--)r=o[u],r.disabled||t&&r.handler!==t||n&&r.context!==n||i.detach(r,u)},nextBubble:function(e){return e.parent},bubble:function(e,t,n){for(var r,i=this,o=i.target,u=[o],a=o;a;)r=a,a=i.nextBubble(r,u),a&&u.push(a),r===a&&Mr("bubbling discerners must return a different object each time it is run");return nn(u,function(r){r[Ee](e,t,n)}),o},add:function(e,t){e.push([t])},remove:function(e,t,n){e.removeAt(t,n)},detachCurrent:function(){return this.detach(this[se].last())},detach:function(e,t){var n,r=this,i=e.listening,o=e.list;e.disabled=Re;return e.removed?Re:(e.removed=Re,r.remove(o,e,t),e.list=u,r.wipe(o),i&&(i.count--,i.count||(n=i.listeningTo,delete n[i[Cu]])),Re)},wipe:function(e){return e[K]()?Ie:(this.scrub(e),Re)},scrub:function(e){e.scrubbed=Re,delete this[Mu][e[U]]},reset:function(){return rn(this.handlers,this.scrub,this)},queue:function(e,t,n){return e.toArray().push(t)},unQueue:function(e,t,n){return e.pop()},has:function(e){return!!(this.handlers[e]&&this.handlers[e][K]()||this.proxyStack[K]())},handlerQueue:function(e){return this.handlers[key]||Au()},dispatch:function(e,t){var n,r,i=this,o=i[se],u=i[Mu],a=u[e],c=i.running,s=c[e],f=t.is(Wu),d=i.proxyStack;if(s)return void Dr.error("cannot stack events coming from the same object");if(!f&&a&&a[K]())return c[e]=Re,n=i.subset(a.toArray(),t),r=o[K],f=Nr(function(){for(var e,r,u=0,a=n[K];u<a&&!e;u++)r=n[u],!r.disabled&&i.queue(o,r,t)&&(r.fn(t),i.unQueue(o,r,t)),e=!!t.is(Hu)},function(){return Re}),r<o[K]&&i.unQueue(o,handler,t),f?i.cancelled(o,t):d.eachCall("run",t),t.finished(),c[e]=!!s,t.returnValue},subset:function(e){return e.slice(0)},addBus:function(e,t,n,r){var i,o=this,u=o.proxyStack;return(i=u.get(e))||(o.target===t&&Mr("bus target cannot be the same as delegated target"),i={prefix:n||s,target:t,filter:r||Lr,run:function(e){this.filter(e)&&this.target[Ee](this.prefix?this.prefix+e.name:e.name,e)}},u.push(i),u.keep(A,e,i)),this},removeBus:function(e){var t=this,n=t.proxyStack;return(bus=n.get(e))&&(n.remove(bus),n.drop(A,e),bus.filter=jr),!!bus}});e.defineDirective(Eu,Ye.EventsDirective[L])}),e.scope(function(e){var t="counter",n=Ye[ju]=Ye.Directive.extend(ju,{constructor:function(){var e=this;return e[j]={},e.previous={},e[C]={},e[t]=0,e},set:function(e,t){var n=this,r=n[j];return gn(r[e],t)?Ie:(n.previous[e]=r[e],n[j][e]=t,Re)},get:function(e){return this[j][e]},clone:function(){return yn(this[j])},unset:function(e){var t=this[j],n=t[e];return delete t[e]&&n!==u},reset:function(e){return this[j]=e||{},this},increment:function(){return this[t]+=1,this},decrement:function(){return this[t]-=1,this},"static":function(){return!this[t]},finish:function(){return this[V]={},this[C]={},this},reach:function(e){var t,n=this,r=n[j];return nn($n(e,l),function(e,n,i){var o=n===i[K];t=e,o||(r=At(r[e])?r[e]:{})})&&(wt(t)?u:r[t])},has:function(e){return this[j][e]!==u},each:function(e){return rn(this[j],e,this)}});e.defineDirective(ju,n[L])});var Fu=(e.block(function(e){var t="state",n="every",r="origin",i="success",o="counter",u="Registry",a="failures",c="instances",s="registered",f="groupIndex",d="Linguistics",l="stopListening",h=function(){return Au()},p=function(e){return function(t){return gn(t,e)}},v=function(e){return function(t){return t>e}},m=function(e){return function(t){return t<e}},g=function(e){return function(t){return this.directive(u).get("collections",e,h).push(Kt(t,this)),this}},y=function(e,t){return function(){var n=this;return nn($n(arguments),function(r){n.add(r,e,t)}),n}},w=function(e,t,n,r){var i=Kt(n,e),o=r?Hr.negate(i):i;return{key:t,context:e,handler:n,fn:o}},b=function(){this[l](this[r]()),this.directive(u).drop(c,r)},A=function(e,t){return function(n){var i=this,o=i[s],u=this.eventName(n);o[u]!==t&&(o[u]=t,this[e](this[r](),u,i.increment))}},x=Ye[d]=Ye.Events.extend(d,{then:g(i),otherwise:g(a),always:g(n),is:y(),isNot:y(Re),isGreaterThan:y(Ie,v),isLessThan:y(Ie,m),isNotGreaterThan:y(Re,v),isNotLessThan:y(Re,m),constructor:function(e){var t=this;return this.directive(u).keep(c,r,e),t[o]=0,t[f]=0,t[s]={},t.logic=Au(),t.listenToOrigin(),this},origin:function(){return this.directive(u).get(c,r)},listenToOrigin:function(){return this.listenTo(this[r](),{change:"apply",destroy:b})},stopListeningToOrigin:function(){return this[l](this[r](),{change:"apply",destroy:b})},and:function(e){var t=this;return t.directive(u).keep(c,j,e),t.bind(e),t},current:function(e){return this.directive(u).get(c,j)},or:function(e){return this.group(),this.and(e),this},group:function(){var e=this,t=e.logic,n=e[f],r=t.item(n);return r&&r.list.length()&&++e[f],t.push({index:e[f],list:Au()}),e},increment:function(){return++this[o],this},eventName:function(e){return O+e},bind:A("listenTo",Re),unbind:A(l,Re),value:function(e,t){return mt(e)?e:(t||p)(e)},add:function(e,t,n){var r=this,i=r.current(),o=r.value(e,n),u=w(r,i,o,t);return r.logic.item(r[f]).list.push(u),r},check:function(){var e=this;return!!e.logic.find(function(t){return!t.list.find(function(t){return!t.fn(e.get(t.key))})})},get:function(e){return this.origin().get(e)},restart:function(){return this[o]=0,this},handle:function(e,t){var n=this;return this.directive(u).get("collections",e,h).call(t),n},run:function(e){var r,o=this;return r=o[t]?i:a,o.handle(r,e).handle(n,e)},apply:function(e){var n=this,r=e?n[o]&&n.check():n.check();return n.restart(),n[t]!==r&&(n[t]=r,n.run(e)),n}}),k=d+"Manager",E=Ye[k]=Ye.Model.extend(k,{when:function(e){return this.make().or(e)},make:function(){var e=new x[L](this.target.linguisticsOrigin());return this.add(e),e},constructor:function(e){return this.target=e,this},remove:function(e){return this.remove(e),e.stopListeningToOrigin(),this}});return e.defineDirective(d,E[L]),x}),"Promise"),zu="Deferred",$u="queue",_u="results",Gu="caught",Ju="catching",Qu="instances",Xu="failure",Yu="success",Zu="pending",Ku="then",Du="state",ea="catch",ta="always",na="reason",ra="settled",ia="rejected",oa="emptying",ua="fulfilled",aa=e.scope().block(function(e){var t=function(){return Au()},n=function(e,t,n){var i=r(e,t);i.push([n])},r=function(e,n){return e.directive(gu).get(Qu,n,t)},i=function(e){return e&&At(e)&&mt(e.then)&&mt(e["catch"])},o=function(e,t){return e?e(t):t},a=function(e,t,n){var s,f,d,l=e.directive(gu),h=l.get(Qu,$u);return e.unmark(Zu)?(e.mark(t?ua:ia),e[gu].keep(Qu,_u,n),h&&h.length()?(d=h.slice(0),e[gu].drop(Qu,$u),d.each(function(d){var h=l.get(Qu,Gu),p=n;if(h||(f=Nr(function(){var e,n;return n=t?d[0]:d[1],e=o(n,p),d[2].directive(gu).keep(Qu,_u,e),e},function(t){e.mark(Gu),l.keep(Qu,Gu,t),h=t},function(e,t){return e?u:t})),h)return(s=r(d[2],Ju)).length()?s.each(function(e){e[0](h)}):void 0;var v=d[2];i(f)?f.then(c(v,Re),c(v)):a(v,t,f)}),n):n):n},c=function(e,t){return function(n){return a(e,t,n)}},s=function(e,t){return vn(c(e,t))},f=function(e){var t,n,r=function(i){return t&&n?e(i,t,n):setTimeout(function(){r(i)}),i};return r(l(function(e,r){t=e,n=r},Re))},d=function(e){return e.directive(gu).get(Qu,_u)},l=Hr[Fu]=Ye.Events.extend(Fu,{constructor:function(e,t){var n=this,r=function(){e(s(n,Re),s(n))};return n.mark(Zu),t?r():setTimeout(r),n},then:function(e,t){var r=this;return f(function(i){n(r,$u,[e,t,i]),r.is(Zu)||a(r,r.is(ua),d(r))})},"catch":function(e){var t=this;return f(function(r,i,o){t.is(Gu)?i(e(d(t))):n(t,Ju,[e,t])})}}),h=function(e){return function(t,n){return zt(t)||Mr("promise list is not iteratable."),l(function(n,r){var o=t[K],u=[],a=function(t,r){o--,e?(u[t]=r,o||n(u)):n(r)};nn(t,function(e,t){i(e)?e.then(function(e){a(t,e)},r):a(t,e)})},Re)}};return l.all=h(Re),l.race=h(),Hr.publicize({Promise:l,isPromise:i}),l}),ca=e.block(function(e){var t=e._,n=t.factories,r=(to(ea),"allStates"),i="stashedArgument",o="stashedHandlers",a="listening",c=function(e){return ft(e,na)?e[na]:ft(e,i)?e[i]:We},s={failure:Re,always:Re},f=function(){return Au()},d=function(e){return e.directive(gu).get(Qu,o,f)},l=function(e,t){var n,r=e[na],i=c(e),o=d(e).toArray(),u=(o[K],function(){var e=n.key;(r?t[e]||s[e]:t[e])&&n.fn(i)}),a=function(t){r=e[na]=t};if(o&&o[K]){for(e.mark(oa);o[0];)n=o.shift(),Nr(u,a);e.unmark(oa)}},h=function(e,t,n,r,o,u){var a=r;wt(a)||Mr(p);do o[a]?a=Ie:(a===Yu&&(E(e,Re),e[i]=n),a===Xu&&(E(e,Ie),e[na]=n),t[a]?o[a]?a=Ie:(o[a]=Re,u.push(a),a=t[a]):Mr(1+p));while(wt(a));return u},p='deferred cannot resolve to an unknown or invalid ("", false, null, 0, etc.) state. Please check your resolution tree as well as your resolveAs method input',v=function(e,t,n){var i=pr(e,r),o={},u=n===We?c(e):n,a=a||h(e,i,u,t,o,[]);return a[K]||Mr(p),l(e,o,u),e},g=function(e){return this[e]||(this[e]=function(){return this.handle(e,$n(arguments))}),this},y=function(){var e,t=Re,n=this,r=n.directive(vu),o=[],u=r.find(function(n){return e=e||n.is(ia),t=t&&n.is(ra),o.push(n[i]),e});return e?n.resolveAs(Xu,u[na]):t&&n.resolveAs(Yu,o),n},w=function(){var e,t=this,n=t.directive(vu);return(e=n.find(function(e){return e.is(ra)}))&&t.resolveAs(e[Du],e[i]),t},b={success:ta,failure:ta,always:Re},A=function(e,t){
var n=e.directive(vu);Jn(t,function(t){e.isChildType(t)&&(n.add(t),n.keep("cid",t.cid,t))},Re)},x=function(e,t){var n=Kt(t,e),r=e.directive(vu);r.each(function(e){r.get(a,e.cid)||(r.keep(a,e.cid,Re),e.always(function(){n()}))})},k=function(e){return function(){var t=this;return t[Du]!==Zu?t:(A(t,$n(arguments)),x(t,e),t.Collection.length()||t.resolve(),t)}},E=function(e,t){e.remark(ua,t),e.remark(ia,!t)},T=function(e){return e&&e[Ku]&&e[ea]},C=function(e,t,n){return n&&mt(n)&&function(r){return T(r)?r.then(e,t):n&&n.call(this,r)}},O=n[zu]=t[zu]=Nu.extend(zu,{addMethod:g,fulfillKey:"success",rejectKey:"reject",auxiliaryStates:Ir(Ie),constructor:function(e,t){var n=this;return n.state=Zu,n[L+m+"Events"](),dr(Bt({},b,pr(n,"associativeStates")),We,g,n),n},isChildType:T,allStates:function(){return Bt({},b,pr(this,"auxiliaryStates"))},resolveAs:function(e,t){var n,r=t,i=e,o=this;return o.is(ra)?o:(o.mark(ra),o.state=i||Xu,i=o.state,o[Ee](S+"resolve"),n=v(o,i,r===u?We:r),o)},fulfill:function(e){return this.resolveAs(Yu,e)},resolve:function(e){return this.fulfill(e)},reject:function(e){return this.resolveAs(Xu,e)},then:function(e,t){var n=this;return n.success(C(e,t,e)).failure(C(e,t,t))},"catch":function(e){return this.then(We,e)},toJSON:function(){return wn(c(this))},toString:function(){return at(this)},all:k(y),race:k(w),stash:sr(function(e,t){var n=this,r=d(n);Jn(mt(t)?[t]:t,function(t){mt(t)&&r.push({key:e,fn:Kt(t,n),handler:t})},Re)}),handle:sr(function(e,t){var n=this,r=(n[i],t);n.stash(e,r),n.is(ra)&&v(n,n[Du],We)})});return O.fn.addMethod(Yu).addMethod(Xu).addMethod(ta),nn($n("all,race"),function(e){O[e]=function(){var t=O();return t[e].apply(t,arguments)}}),e.extend({dependency:O.all}),t.publicize({isDeferred:T}),O});e.scope(function(e){var t=e._,n=t.factories,r="items",i="data",o=t.extend,a=t.isObject,c=t.removeAt,s={}.toString;n.Associator=n.Directive.extend("Associator",{get:function(t,n){var o,c,s=this,f={},d=a(t),l=s.sameType(t,d),h=(l[r]=l[r]||[],l[we]=l[we]||{}),p=l[i]=l[i]||[];return d?t&&l.readData?(c=t[we]=t[we]||e.counter(),c&&(f=h[c]=h[c]||{})):(o=l[r][ue](t),o!==u&&o!==-1||(o=l[r][K],l[r].push(t),p[o]=f),f=p[o]):(l[we][t]=l[we][t]||{},f=l[we][t]),f.target=t,f},set:function(e,t,n){var r=this.get(e,n);return o(r,t||{}),r},remove:function(e){var n,o=this.sameType(e);o.readData?(n=e[we],delete o[we][n]):(n=t[ue](o[r],e),n!==-1&&(c(o[i],n),c(o[r],n)))},sameType:function(e,t){var n=this,r=t===u?a(e):t,i=s.call(e),o=e&&e.window===e,c=o?"[object global]":i.toLowerCase(),f=n[c]=n[c]||{},d=c[ue]("global"),l=c[ue](ae)===-1;return d===-1&&l&&r&&(f.readData=Re),f}})}),e.block(function(e){var t="catch",n="error",r="status",i="failure",o="success",c="readyState",f=a.XDomainRequest,d=Hr.stringifyQuery,l="GET",h="progress",p=$n(l+",POST,PUT,DELETE,HEAD,TRACE,OPTIONS,CONNECT"),v=$n(h+",timeout,abort,"+n),g=function(){},y={progress:g,timeout:g,abort:g,error:g},w=function(e){var t=0,n=e.options.requestObject;nn(v,function(r){r===h?n["on"+r]=function(n){if(n){var r=n.loaded/n.total;t++,e[Ee](h,{percent:r||t/(t+1),counter:t},{originalEvent:n})}}:n["on"+r]=function(t){y[r](e,r,t)}})},b=function(e,n,r){return function(){return Nr(function(){return n?e.send(n):e.send()},function(e){r.resolveAs(t,e,e.message)})}},A="status:2xx",x="status:3xx",k="status:4xx",E="status:5xx",T={},C=function(){return{"status:0":i,"status:2xx":o,"status:200":A,"status:202":A,"status:204":A,"status:205":A,"status:3xx":o,"status:302":x,"status:304":x,"status:4xx":i,"status:400":k,"status:401":k,"status:403":k,"status:404":k,"status:405":k,"status:406":k,timeout:k,"status:408":"timeout","status:5xx":i,"status:500":E,"status:502":E,"status:505":E,"status:511":E,abort:i}},S=Hr.HTTP=Ye.Deferred.extend("HTTP",{parse:Bn,constructor:function(e){var t,n,i,a=this,h="onreadystatechange",v=new XMLHttpRequest;kt(f)||(v=new f,h="onload"),At(e)||(e=e||s,i=l,n=e.toUpperCase(),rt(p,n)!==-1?i=n:t=e,e={url:t||s,type:i}),a.options=Hr.extend({async:Re,method:h,type:i,requestObject:v,withCredentials:Re},e);var g,y,A,x=a.options.data;if(i=a.options.type,t=a.options.url,At(t)&&!Ot(t)&&(t=d(t)),!t||!i)return Mr("http object must have a url and a type");if(x&&(x=At(x)?kr(x,function(e,t,n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(At(t)?JSON.stringify(t):mt(t)?We:t))},[]).join("&"):encodeURIComponent(x)),wt(x)&&(x=x.replace(/%20/g,"+")),g=Ht({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},a.options.headers),a.options.cacheable){if(A=[a.options.type,a.options.url,at(g),x].join(","),y=T[A])return y;T[A]=this}return a.promise=aa(function(e,n,s){var f=b(v,x,a,e,n),d=a.options.requestObject,l=Ie,h=a.options.method,p=function(t){var i,s,f,d,p,v,g=this;if(g&&!l&&(d=g[r],v=g.responseText,"onload"===h||"onreadystatechange"===h&&4===g[c])){for(p=pr(a,"allStates"),v=a.options.preventParse?v:a.parse(v),l=Re,i=r+m+(g[r]===u?200:g[r]),f=C();wt(i);)s=i,i=f[i];s===o?e(v):n(v)}};d[h]||(d[h]=p),Nr(function(){v.open(i.toUpperCase(),t,a.options.async)}),a.headers(g),w(a),Hr.isIE?setTimeout(f):f()},Re),a},status:function(e,t){return this.handle(r+m+e,t)},headers:function(e){var t=this,n=t.options.requestObject;return rn(e,function(e,t){n.setRequestHeader(t,e)}),t},then:function(e,t){return this.promise.then(e,t)},"catch":function(e){return this.promise["catch"](e)}});Hr.foldl(p,function(e,t){var n=t;n=n.toLowerCase(),e[n]=function(e,n){return S(Hr.extend({type:t,url:e},n))}},S)}),e.scope(function(e){var t=e._,n=t.factories,r=(n.Model,n.Collection,"module"),i=to(r),o=fe+"ed",a="initialized",c=a+m+"sub"+r,s="defined",d="that module has not been "+s+" yet",h={start:function(e){var t=this;return t.is(o)||(t.mark(o),t[Ee](fe,e)),t},stop:function(e){var t=this;return t.is(o)&&(t.unmark(o),t[Ee](de,e)),t},toggle:function(e){var t=this;return t.is(o)?t[de](e):t[fe](e),t},restart:function(e){var t=this;return t.is(o)&&t[de](e),t[fe](e),t}},p=(n.Startable=n.Model.extend("Startable",h),function(e){pr(this,"startWithParent")&&this[fe](e)}),v=function(e){pr(this,"stopWithParent")&&this[de](e)},g=function(e,t){var n=[];return nn(t,function(t){var r=e.module(t);r.is(a)&&n.push(r[B])}),n[K]===t[K]?n:Ie},y=t.Promise,w={module:function(n,r,i){var o,u,f,d,h,p=this,v=n,m=v.split(l),g=p.directive(Ru).get(n),y=function(){g.mark(s),g[Z].bubble(c)};if(g){if(p=g[Z],!i)return g;m=[g.id]}else for(;m.length>1;)p=p.module(m[0]),m.shift();return h=p.directive(Ru),v=m.join(l),g=h.get(A,v),g||(u=p.globalname?p.globalname.split(l):[],u.push(v),f=u.join(l),d=Bt({},pr(p,Iu)||{},{application:e,parent:p,id:v,globalname:f}),p===e?(g=b({},d),h.add(g),h.keep(A,v,g)):g=p.add({},d).item(0),e[Ru].keep(A,f,g)),(St(r)||mt(r)||mt(i))&&(g[B]=g[B]||{},g.mark(a),o=g.run(r,i),o&&t.isPromise(o)?o.then(y):y()),g},createArguments:function(e){var t=this;return[t].concat(t[P].createArguments(e))},run:function(e,t){var n,r=this,i=St(e)?t:e,o=i===e?window:e;return mt(i)&&(n=i.apply(r,r.createArguments(o))),n===u?r:n},publicize:sr(function(e,t){this[B][e]=t}),startWithParent:Ir(Re),stopWithParent:Ir(Re),constructor:function(e,t){var n=this;return n[B]={},n[L+m+"Model"](e,t),n.listenTo(n[Z],{start:p,stop:v}),n},topLevel:function(){return!this[P]||this[P]===this[Z]},require:function(e,t){return this.application.require(this.globalname+l+e,t)}},b=n.Module=n.Model.extend(i,Bt({},h,w));e.extend(Bt({},n.Directive[L][I],n.Events[L][I],n.Parent[L][I],h,w,{createArguments:function(e){var t=this,n=t._,r=e[ce][we],i=t.directive(ys).documents,o=i.get(A,r);return o||(t.global.definition(t.VERSION,e),o=i.get(A,r)),[t,n,n&&n.factories,o,o.factories,o.$]},require:function(e,t){var n,r,i,o,u=this;return mt(t)?y(function(r,a){i=$n(e,f).slice(0),n.success(Kt(t,u)),(o=g(u,i))?r(o):u.on(c,function(){(o=g(u,i))&&(u.off(),r(o))})}):(r=u.module(e),r.is(s)?r[B]:Mr(d))}}));delete e.fn});var sa="attached",fa="iframe",da="localName",la="childNodes",ha="fragment",pa="nodeType",va="parentNode",Y="Attributes",ma="DomManager",ga=k+"ed",ya="custom",wa="removing",ba="accessable",Aa=ya+"Listener",xa="Child",ka="append"+xa,Ea="remove",Ta="html",Ca="innerHTML",Sa="text",Oa="innerText",Da="outerHTML",Ma="registeredAs",Na="attributeChange",Ra="attributesChanging",Ia="delegateCount",La="captureCount",ja="is",Va=le+d+U,Ba="fontSize",Pa="defaultView",Ua="div",Ha=function(e,t){return"["+(t==We?e:e+'="'+t+'"')+"]"},Wa=Ha(ja),qa=a.devicePixelRatio||1,Fa=$n("type,href,className,height,width,id,tabIndex,title,alt,innerHTML,outerHTML,textContent"),za=bn(Fa,Re),Nu=$n("abort,afterprint,beforeprint,blocked,cached,canplay,canplaythrough,change,chargingchange,chargingtimechange,checking,close,complete,dischargingtimechange,DOMContentLoaded,downloading,durationchange,emptied,ended,error,fullscreenchange,fullscreenerror,input,invalid,languagechange,levelchange,loadeddata,loadedmetadata,message,noupdate,obsolete,offline,online,open,pagehide,pageshow,paste,pause,pointerlockchange,pointerlockerror,play,playing,ratechange,reset,seeked,seeking,stalled,storage,submit,success,suspend,timeupdate,updateready,upgradeneeded,versionchange,visibilitychange"),$a=$n("SVGAbort,SVGError,SVGLoad,SVGResize,SVGScroll,SVGUnload,SVGZoom,volumechange,waiting"),_a=$n("keydown,keypress,keyup"),Ga=$n("gamepadconnected,gamepadisconnected"),Ja=$n("compositionend,compositionstart,compositionupdate,drag,dragend,dragenter,dragleave,dragover,dragstart,drop"),Qa=$n("click,contextmenu,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,show,wheel"),Xa=$n("touchcancel,touchend,touchenter,touchleave,touchmove,touchstart"),Ya=$n("devicemotion,deviceorientation,deviceproximity,devicelight"),Za=$n("blur,focus"),Ka=$n("beginEvent,endEvent,repeatEvent"),ec=$n("animationend,animationiteration,animationstart,transitionend"),tc=$n("audioprocess,complete"),nc=$n("abort,error,hashchange,load,orientationchange,readystatechange,resize,scroll,select,unload,beforeunload"),rc=$n("abort,error,load,loadend,loadstart,popstate,progress,timeout"),ic=Tn(Nu,$a,_a,Ja,Ga,Qa,Xa,Ya,Za,Ka,ec,tc,nc,rc),oc=$n("-o-,-ms-,-moz-,-webkit-,mso-,-xv-,-atsc-,-wap-,-khtml-,-apple-,prince-,-ah-,-hp-,-ro-,-rim-,-tc-"),uc=$n("a,abbr,address,area,article,aside,audio,b,base,bdi,bdo,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,data,datalist,dd,del,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hr,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,main,map,mark,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rb,rp,rt,rtc,ruby,s,samp,script,section,select,small,source,span,strong,style,sub,sup,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,track,u,ul,var,video,wbr"),ac=bn(uc,Re),cc=bn(ic,Re),sc=(bn(oc,Re),function(e){var t=e||a;return St(t)?t:t&&t[Pa]?t[Pa]:t.ownerGlobal?t.ownerGlobal:DOMA(t).parent(ae)[Ae](0)||a}),fc=function(e,t){var n=sc(t).getComputedStyle(e);return n?n:sc(e).getComputedStyle(e)||yn(e[Me])||{}},dc=fc(c[Ne],a),lc=function(e){return"["+ja+'="'+e+'"]'},hc=function(e,t){var n;return e&&as(e)?(n=e[da].toLowerCase(),t?n===t.toLowerCase():n):Ie},pc={columnCount:Re,columns:Re,fontWeight:Re,lineHeight:Re,opacity:Re,zIndex:Re,zoom:Re,animationIterationCount:Re,boxFlex:Re,boxFlexGroup:Re,boxOrdinalGroup:Re,flex:Re,flexGrow:Re,flexPositive:Re,flexShrink:Re,flexNegative:Re,flexOrder:Re,lineClamp:Re,order:Re,orphans:Re,tabSize:Re,widows:Re,fillOpacity:Re,stopOpacity:Re,strokeDashoffset:Re,strokeOpacity:Re,strokeWidth:Re},vc={transitionDuration:Re,animationDuration:Re,transitionDelay:Re,animationDelay:Re},mc=(Wr(function(e){var t=no(e);return e[0]>="A"&&e[0]<="Z"&&(t="-"+t),t}),function(){var e,t,n,r,i,o,u,a,c,f,l=[],h={},p=0,v=function(e,t){rt(e,o)===-1&&e.push(o)};for(e=0;e<oc[K];e++)f=oc[e][K],p<f&&(p=f);for(n in dc){for(r=0,a=s,o=s,u=bt(+n)?dc[n]:no(n),no(u),ro(u),c=u,t=0;t<p&&u[t]&&!r;t++)a+=u[t],i=rt(oc,a),i!==-1&&(o=oc[i],c=u.split(o).join(s),r=1),i=rt(oc,d+a),i!==-1&&(o=oc[i],c=u.split(a).join(s),r=1);c=ro(c),l.push(c),h[c]||(h[c]=[]),v(h[c],o)}return h}()),gc=function(e,t){return+t!==+t?t:vc[e]?t+"ms":pc[e]?t:t+w},yc=function(e,t,n){var r,i,o=no(t);return(r=kr(e.split(";"),function(e,t,r,u){var a=t.trim(),c=a.split(m),s=c[0].trim(),f=(c.shift(),c.join(m).trim());return s===o&&(i=Re,f=n+" !important"),o===s?e.push(s+": "+f):(!t&&!r||r===u[K]-1&&!i)&&e.push(o+": "+n+" !important"),e},[]).join("; "))?r+";":r},wc=function(e,t,n){var r,i=t,o=""!==n?gc(i,n):n;return nn(mc[ro(i)],function(t){var n=t+no(i),u=e[Me][n];u!==o&&(e[Me][n]=o,r=Re)}),r},bc=function(e,t,n,r){var i,o,u,a=t,c=n,s=r;return as(e)?(i=Vc.read(e,Me),At(t)&&(s=n,c=We),s?(dr(a,c,function(t,n){u=yc(e,t,n)}),wc!==i):(dr(a,c,function(t,n){o=wc(e,t,n)?Re:o}),o)):Ie},Ac=function(e,t,n){var r=n;if(r===Ie||r==We)jc(e,t);else{if(At(n)){if(t===Me){if(!e[Me])return;return void bc(e,r)}r=kr(n,function(e,t,n){t&&e.push(n)}).join(f)}r!==Ie&&r!=We&&e.setAttribute(t,(r===Re?s:r)+s)}},xc=function(e,t){return to(F)+d+t[we]+d+e},kc=function(e,t){return'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">'+e+"</head><body>"+t+"</body></html>"},Ec=function(e){return function(t){return t[va]===e}},Tc=function(e,t){var n=t.registeredElements;return n[e]===Re?e:lc(e)},Cc=function(e,t){return qn($n(e,f),function(e){return e.replace(/^(\S*?)([\.|\#|\[])/i,function(e){var n=e,r=n[K]-1;return r?Tc(n.slice(0,r),t)+n.slice(r):n})}).join(f)},Sc=function(e,t){return as(e[t])?[e[t]]:[]},Oc={body:Re,head:Re,document:Re},Dc=function(e,t){return kr(e,function(e,n,r,i){return t(n,r,i)&&e.push(n),e},[])},Mc=function(e,t,n){var r,i,o=e,u=t,a=(Ir.first,n.owner);return n&&n===a&&Oc[o]?Sc(u,o):(n&&">"===o[0]&&(r=Re,o=n.queryString()+o),o=Cc(o,a),i=u.querySelectorAll(o),r?Dc(i,Ec(u)):$n(i))},Nc=function(e,t,n){var r,i;return t&&e&&1===e[pa]?(i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?i.call(e,t):(r=e[va],r||(r=createElement(Ua,ensure(e.ownerDocument,Re)),r[ka](e)),rt(Mc(t,r,n),e)!==-1):Ie},Rc=function(e,t){var n=e.getAttribute(t);return Lc(n)},Ic=function(e){var t=+e;return e[K]&&t===t&&t+s===e?t:e},Lc=function(e){var t=e;return t===s?Re:t==We?Ie:Ic(t)},jc=function(e,t){e.removeAttribute(t)},Vc={preventUnCamel:Ie,read:Rc,write:Ac,remove:jc},Bc=function(e,t){return t&&e.appendChild&&e.appendChild(t)},Pc=function(e,t){e&&(t?Bc(t,e):e.parentNode&&e.parentNode.removeChild(e))},Uc=function(e,t){return e[t]},Hc=function(e,t,n){return n==We?Wc(e,t):void(e[t]=n)},Wc=function(e,t){e[t]=We},qc={preventUnCamel:Re,read:Uc,write:Hc,remove:Wc},Fc=function(e){var t={tagName:hc(e),comment:Ie,text:Ie};return nn(e.attributes,function(e){var n=t.attributes=t.attributes||{};n[ro(e[da])]=e.nodeValue}),t},zc=function(e){return{tag:Ie,comment:Re,text:Ie,content:e}},$c=function(e){return{tag:Ie,comment:Ie,text:Re,content:e}},_c=function(e,t,n){return t&&e.insertBefore&&e.insertBefore(t,n)},Gc=function(e,t,n){var r;At(n)?_c(e,t,n):bt(n)?(r=e[la],n=r[K]>n?r[n]:Ie,n?_c(e,t,n):Bc(e,t)):n||Bc(e,t)},Jc=function(e,t,n){var r=t[da];n?(e.attrsA[r]=Re,e.accessB[r]=t.nodeValue):(e.attrsA[r]=Re,e.accessA[r]=t.nodeValue),e.hash[r]||(e.hash[r]=Re,e.list.push(r))},Qc=function(e){return"text"===e?3:1},Xc=function(e){return e[we]&&Vc.read(e,"is")!==Ie},Yc=function(e,t,n,r){var i,o,a=e.attributes,c=a.length,s=(i=ln(t[1])).length,f=kr({length:Math.max(c,s)},function(e,n,r){var o;e.aLength>r&&Jc(e,a[r]),e.bLength>r&&(o=i[r],Jc(e,{localName:no(o),nodeValue:t[1][o]},Re))},{list:[],hash:{},attrsA:{},accessA:{},attrsB:{},accessB:{},aLength:c,bLength:s});e[we];nn(f.list,function(e){f.accessA[e]!==f.accessB[e]&&(o=o||{},o[e]=f.accessB[e]===u?We:f.accessB[e])}),o&&n.updating.push(function(){var t,n;rn(o,function(e,t){za[t]&&(delete o[t],n=n||{},n[t]=e)}),Xc(e)?(t=r.returnsManager(e),ln(o)[K]&&t.attr(o),n&&t.prop(n)):(rn(o,function(t,n){Vc.write(e,no(n),t)}),rn(n,function(t,n){qc.write(e,no(n),t)}))})},Zc=function(e,t,n,r,i){var o,u=e[2],a=e[3],c=r||0,s=i||0;a&&(o=$n(a.group),a.key&&(t.ids[a.key]={virtual:e,level:c,index:s,group:o[K]?o:We,el:n[a.key]})),nn(u,function(e,r){Zc(e,t,n,c+1,r)})},Kc=function(e,t,n,r){if(wt(t[2]))return e.innerHTML!==t[2]&&r.updating.push(function(){Xc(e)?n.returnsManager(e).html(t[2]):e.innerHTML=t[2]}),Re},es=function(e,t,n,r,i){var o=c.createDocumentFragment();return nn(e,function(e){n.deltas.create(e,o,i)}),{parent:t,el:o,index:r}},ts=function(e,t){return Hr.filter(e,function(e){var n=e[3];return n&&n.key?!t[n.key]:Re})},ns=function(e,t,n,r,i,o,u){var a=e.childNodes,c=t[2];o.mutations,o.keys;if(Kc(e,t,u,o))return o;var s,f,d,l=a&&a[K],h=c&&c[K],p=Math.max(l,h),v=0,m=0;if(!c||bt(c))return o;for(;m<p&&!s;m++){if(l<=m)return o.inserting.push(es(ts($n(c).slice(m),n),e,u,m,o.keys)),o;if(t[2]&&r(t)){if(h<=m)return d=Re,o.removing.push.apply(o.removing,$n(a).slice(m)),o;f=is(a[m],c[m],n,r,i,m,o,u,e),f===Ie&&(o.removing.push(e),o.inserting.push(es([t],e,u,m+v,o.keys)))}}return o},rs=function(e){var t={removing:[],updating:[],inserting:[],mutations:{remove:function(){if(t.removing[K])return e.$(t.removing).remove(),Re},update:function(){nn(t.updating,function(e){e()})},insert:function(){if(t.inserting[K]){t.inserting.sort(function(e,t){return e.index>t.index?1:-1});for(var n,r,i,o=[],a=t.inserting.slice(0);a[K];)n=a.shift(),r===u?(r=n.index,i={index:n.index,el:e.createDocumentFragment(),parent:n.parent},o.push(i),Bc(i.el,n.el)):n.parent===i.parent&&r+1===n.index?(Bc(i.el,n.el),r=n.index):(a.unshift(n),r=u);return nn(o,function(t,n,r){e.returnsManager(t.parent).insertAt(t.el,t.index)}),Re}}},keys:{},ids:{},group:{},futureTree:{},futureHash:{}};return t},is=function(e,t,n,r,i,o,u,a,c){var s,f,d,l=!u,h=e,p=t,v=o||0,m=c,g=u||rs(a),y=r||Lr,w=(g.keys,g.mutations,i||0),b=n||{},A=(p[K],p[3]),x=hc(h);if(l&&Zc(p,g,b),x===p[0]&&h.nodeType===Qc(p[0])){if(A&&(f=A.key)){if(s=b[f],d=g.ids[f],!s)return g.inserting.push(es([p],m,a,v,g.keys)),g;if(s===h)g.keys[f]=s;else{if(d.virtual[0]!==x)return g.removing.push(h),g.inserting.push(es([p],m,a,v,g.keys)),g.keys[f]=h,g;g.removing.push(h),d.parent=m,g.inserting.push(d),h=g.keys[f]=s}}return Yc(h,p,g,a),ns(h,p,b,y,w+1,g,a)}return l&&Mr("at least the first node must match tagName and nodeType"),Ie},os=function(e,t,n){var r,i,o,u=t||tt;return r=Fc(e),r.attributes&&r.attributes.is&&r.attributes.dataRenderer?{selfSufficient:Re}:u(e,r)?(i=e.childNodes,(o=i[K])?(r.children=kr(i,function(e,t){as(t)?e.push(os(t,u,n)):3===t.nodeType?e.push($c(t.textContent)):n&&(8===t.nodeType?e.push(zc(t.textContent)):e.push({err:Re}))},[]),r):r):r},us=function(e,t){return t.is(ce)&&t.element().createDocumentFragment()},as=function(e){return!(!e||!bt(e[pa])||e[pa]!==e.ELEMENT_NODE)},cs=function(e){return e&&bt(e[pa])&&e[pa]===e.DOCUMENT_NODE},ss=function(e){return e&&e[pa]===c.DOCUMENT_FRAGMENT_NODE},fs=function(e){return St(e)||as(e)||cs(e)||ss(e)},ds=function(e){return $n(e.children||e.childNodes)},ls=Ye.Associator(),hs=function(e,t){return vn(function(){t.push(e.join("")+" {")})},ps=function(e){return vn(function(){e.push(" }\n")})},vs=function(e,t,n,r){var i,o=t||[],u=n||[],a=tt,c=tt;return n&&(a=hs(o,u)),r&&r(),i=kr(e,function(e,t,n){var r,i=n.trim();At(t)?nn($n(i,h),function(n){i=n.trim(),o[K]&&(i="&"!==i[0]?" "+i:i.slice(1)),a=hs(o,e),o.push(i),vs(t,o,e,c),o.pop()}):(a(),c=ps(e),r=ro(i),nn(mc[r]||[""],function(n){e.push("\n\t"+n+no(r)+": "+gc(i,t)+";")}))},u),c(u),i.join("")};e.scope(function(e){var n=function(e,t){var n;return n=t===Re?ls.get(e):t.data.get(e),n[ma]||(n[ma]=Vn(e,n,t)),n[ma]},r=function(e,t){var n,r,i=(Bt({},t),e),o=mt(i);return o?n=i:(r=i.trim(),";"!==r[r[K]-1]&&(r+=";"),r=i,n=Nr(function(){return new Ge("helpers","_",Un(r))})),function(e,t){return n.call(e,t,Hr)}},i=function(e,t,n){var i,o,u=n.templates=n.templates||Au();return mt(e)?r(e,n.templateSettings):(i=u.get(A,e))?i:(o=t||n.$("#"+e).html(),i=r(o,n.templateSettings),i.id=e,u.push(i),u.keep(A,e,i),i)},o=/^key/,c=/^(?:mouse|pointer|contextmenu)|click/,d=/^device/,l=/^webkitmouseforce/,h=a.Image,p=(function(){var e=4,t=Re,n=[],r=function(r){return function(){e--,r(),e||(nn(n,function(e){e(t)}),n=[])}};return nn(["UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==","UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==","UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"],function(e){var n=new h;n.onload=r(tt),n.onerror=r(function(){t=Ie}),n.src="data:image/webp;base64,"+e}),function(r){e&&t?n.push(r):r(t)}}(),function(e,t){var n=new h;return e=ur(e),t&&(n.onload=t),n.src=e,n}),v=Ie,g=function(e,t,n){var r=t||e;return function(e){var t=e.element(),i=v;v=Re,cc[r]&&mt(t[r])?t[r]():Ke(e,r,n),v=i}},y=function(e,t){var n=e||t;g(n,t);return function(e,r,i){var o=this;return mt(e)||mt(r)?o.on(n,e,r,i):g(n,t,e)(o),o}},w=Ye.StringManager,E=function(e,t,n){var r=Nn(e,t);return r.ensure(n===Re?s:n,f)},C=function(e,t){var n=e.getBoundingClientRect(),r=fc(e,t.element()),i=D(r.marginTop),o=D(r.marginLeft),u=D(r.marginRight),a=D(r.marginBottom);return{height:n[be]+i+a,width:n[ye]+o+u,top:n[pe]-i,left:n[ve]-o,right:n[ve]+n[ye]+u,bottom:n[pe]+n[be]+a}},S=function(e,t){var n,r,i={};return as(e)?(r=fc(e,t),n=O(e,t),{borderBottom:+r.borderBottomWidth||0,borderRight:+r.borderRightWidth||0,borderLeft:+r.borderLeftWidth||0,borderTop:+r.borderTopWidth||0,paddingBottom:+r.paddingBottom||0,paddingRight:+r.paddingRight||0,paddingLeft:+r.paddingLeft||0,paddingTop:+r.paddingTop||0,marginBottom:+r.marginBottom||0,marginRight:+r.marginRight||0,marginLeft:+r.marginLeft||0,marginTop:+r.marginTop||0,computedBottom:+r[ge]||0,computedRight:+r[me]||0,computedLeft:+r[ve]||0,computedTop:+r[pe]||0,top:n[pe]||0,left:n[ve]||0,right:n[me]||0,bottom:n[ge]||0,width:n[ye]||0,height:n[be]||0}):i},O=function(e){var t=as(e)?e.getBoundingClientRect():{};return{top:t[pe]||0,left:t[ve]||0,right:t[me]||0,bottom:t[ge]||0,width:t[ye]||e.clientWidth||0,height:t[be]||e.clientHeight||0}},D=function(e,t){return+e.split(t||"px").join(s).trim()||0},M=function(e,t,n){var r,i;return At(e)?(i=as(e)?fc(e,n):e,r=i[t]):r=e,wt(r)&&(r=D(r)),r},N={":even":function(e,t){return t%2},":odd":function(e,t){return(t+1)%2}},j={"in":function(e,t,n,r){return e/96},vh:function(e,t,n,r){return e/n[xe]*100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return e/37.79527559055118},vw:function(e,t,n,r){return e/n[ke]*100},em:function(e,t,n,r){return e/M(t,Ba,n)},mm:function(e,t,n,r){return e/3.779527559055118},vmin:function(e,t,n,r){var i=Math.min(n[xe],n[ke]);return e/i*100},rem:function(e,t,n,r){return e/M(n[ce][Ne][va],Ba,n)},pt:function(e,t,n,r){return e/1.333333333333333},vmax:function(e,t,n,r){var i=Math.max(n[xe],n[ke]);return e/i*100},"%":function(e,t,n,r){var i=as(t)?t[va]:t,o=M(i,r,n);return e/o*100},pc:function(e,t,n,r){return e/16}},V={"in":function(e,t,n,r){return 96*e},vh:function(e,t,n,r){return n[xe]*e/100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return 37.79527559055118*e},vw:function(e,t,n,r){return n[ke]*e/100},em:function(e,t,n,r){return M(t,Ba)*e},mm:function(e,t,n,r){return 3.779527559055118*e},vmin:function(e,t,n,r){return(Math.min(n[xe],n[ke])||1)*e/100},rem:function(e,t,n,r){return M(n[ce][Ne][va],Ba)*e},pt:function(e,t,n,r){return 1.333333333333333*e},vmax:function(e,t,n,r){return(Math.max(n[xe],n[ke])||1)*e/100},"%":function(e,t,n,r){var i=as(t)?t[va]:t,o=M(i,r);return e*o/100},pc:function(e,t,n,r){return 16*e}},B=function(e,t,n){var r,i=this,o=(i.view,n||[]),u=e.length>elements.length?(r=e)&&t:(r=t)&&e;return Hr.foldl(u,function(e,t,n){var i=r[n],o=t.tagName,u=i.tagName;if(o===u){Vc.read(t,"is"),Vc.read(i,"is")}}),o},P=(bn([1,3,8],Re),function(e,t,n,r){var i,o,u,a,c,s=t&&t.element(),f=t&&t.registeredElements,d=n,l=r,h=e;if(At(h)){if(l=h.children,d=h.attributes,i=Re,h=h.tagName,e.text)return U(e.content,t);if(e.comment)return H(e.content,t)}return o=f&&f[h],u=o===Re?h:o,u||Mr("custom tag names must be registered before they can be used"),a=s.createElement(u),o&&o!==Re&&Vc.write(a,ja,h),c=t.returnsManager(a),i||d||l?(d&&c.attr(d),l?(wt(l)?c.html(l):c.append(gn(l,t)),c):c):c}),U=function(e,t){return t.element().createTextNode(e)},H=function(e,t){return t.element().createComment(e)},W=function(e,t){var n=P(Ua,t);return n.html(e),n.children().remove().toArray()},q=function(e,t){return W(e,t)[0]},z=function(e,t,n){var r=[];return r.concat.apply(r,n?qn(n,t):e.map(t))},Q=function(e,t){return tr(kr($n(e,f),function(e,n){var r=P(n,t);return e.push(r),e},[]),We,We,We,t)},X=function(e,t){var n,r=e;return ss(r)?n=r:(tr.isInstance(r)&&(r=r.toArray()),zt(r)||(r=r&&$n(r)),n=t.createDocumentFragment(),nn(r,function(e){var r,i=t.returnsManager(e),o=i.element();i.is(F)&&!i.is(ha)&&(r=o[va],r&&!ss(r)&&st([o],t),n[ka](o))})),n},Z=function(e){return function(t){var n=this;return t!==u?n.eachCall(e,t)&&n:n.results(e).join(s)}},ee=function(e,t){return ne(function(n,r){var i=[],o=n.toArray(),u=t||r;return u?n.duff(function(t){(traversal=t[e](u))&&add(i,traversal)}):i=o,i})},te=function(e){var t="data-",n=no(e),r=n.slice(0,5);return t!==r&&(n=t+n),n},ne=function(e){return function(t,n,r,i,o){var u=this,a=e(u,t,n,r,i,o),c=new tr[L](a,We,Re,We,u.context.owner);return c._previous=u,c}},re=function(e,t){var n=O(e),r=n[ge],i=n[me],o=n[ve],u=n[pe],a=t.x,c=t.y,s=Ie;return a>o&&a<i&&c>u&&c<r&&(s=Re),s},ie=function(e){return{x:e[ve]+e[ye]/2,y:e[pe]+e[be]/2}},oe=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},ue=function(e,t,n){return oe(e,t)<oe(e,n)},se=function(e,t,n){var r,i,o,u,a=t.shift();return(wt(t[0])||t[0]==We)&&(i=t.shift()),wt(t[0])&&(t[0]=e[t[0]]),mt(t[0])?(r=t.shift(),o=t.shift(),wt(o)?(u=o,o=Ie):o=!!o,u=t.shift(),n(e,a,i,r,o,u),e):this},fe=function(e){return function(){var t,n=this,r=$n(arguments),i=r.shift();return At(i)?(wt(r[0])&&(t=r.shift()),rn(i,function(i,o){se(n,[o,t,i].concat(r),e)}),n):(r.unshift(i),se(n,r,e))}},de=function(e,t,n){return e&&At(e)&&!St(e)&&bt(e.AT_TARGET)?e:{data:at(e),type:n,bubbles:Ie,eventPhase:2,cancelable:Ie,defaultPrevented:Ie,isTrusted:Ie,timeStamp:Rt(),target:t}},Te=function(e){var t=Ie,n=e.eventPhase;return 1===n&&(t=Re),t},Ce=kr({resize:"resize,orientationchange",ready:"DOMContentLoaded",wheel:"wheel,mousewheel",deviceorientation:"deviceorientation,mozOrientation",fullscreenchange:"webkitfullscreenchange,mozfullscreenchange,fullscreenchange,MSFullscreenChange",hover:"mouseenter,mouseleave",forcewillbegin:"mouseforcewillbegin,webkitmouseforcewillbegin",forcechange:"mouseforcechange,webkitmouseforcechange",forcedown:"mouseforcedown,webkitmouseforcedown",forceup:"mouseforceup,webkitmouseforceup",force:"mouseforcewillbegin,webkitmouseforcewillbegin,mouseforcechange,webkitmouseforcechange,mouseforcedown,webkitmouseforcedown,mouseforceup,webkitmouseforceup"},function(e,t,n){e[n]=$n(t)},{}),Se=kr(Ce,function(e,t,n){return nn(t,function(t){e[t]=n}),e},{}),De=function(e,t,n){var r=n||[];return function(n){var i=n,o=rt(r,i)!==-1;return o||r.push(i),e[i]&&!o?(nn(e[i],De(e,t,r.slice(0))),r.pop(),Re):(t(i,r[0],r.slice(0)),void(o||r.pop()))}},Me=fe(function(e,t,n,r,i,o){return mt(r)?Be(e,t,o,n,r,i):e}),Le=fe(function(e,t,n,r,i,o){var u;return mt(r)&&Be(e,t,o,n,u=vn(function(){return Pn(e,t,o,n,u,i),r.apply(this,arguments)}),i)}),je=fe(function(e,t,n,r,i,o){return mt(r)?Pn(e,t,o,n,r,i):e}),Ve={window:function(e){return e.owner.window()},document:function(e){return e.owner}},Be=function(e,t,n,r,i,o){var u,a=r,c=Ve[a]?(a="")||Ve[r](e):e,s=c.is(ya),d=$n(t,f),l=function(e,t,r){u=u||c.directive(Eu),cc[e]||c.mark(Aa),u.attach(e,{capturing:!!o,origin:c,handler:i,group:n,selector:a,passedName:t,domName:e,domTarget:c,nameStack:r})},h=De(c.owner.events.expanders,l);return nn(d,function(e){h(e)&&l(e,e,[e])}),!s&&c.is(Aa)&&(Jt(c,Re),c.remark(sa,ut(c.element(),c.owner))),c},Pe=function(e){return this.insertAt(e,We)},Ue=function(e){return this.insertAt(e,0)},He=function(e,t,n){var r=this.parent();return Ur.number(t)?this.insertAt(e,t):r.insertAt(e,r.children().indexOf(this))},qe=function(e,t,n){var r=this.parent();return Ur.number(t)?this.insertAt(e,t+1):r.insertAt(e,r.children().indexOf(this)+1)},Fe=function(e){return function(t,n){return Vc[e](this.element(),t,n)}},ze=function(e,t){var n,r,i,o=s;return t.is(fa)?(Je(t),n=t.window(),n&&n.is(ba)&&(i=n.element(),r=i[ce],o=r.body?r.body[va].outerHTML:s)):t.is(F)&&(i=t.element(),o=i[e]),o},$e=function(e,t,n,r){var i,o,u,a,c,f,d=t.owner,l=n||s;t.is(fa)?(a=t.window(),Je(t),a.is(ba)&&(f=a.element(),u=f[ce],u.open(),rn(r,function(e,t){f[t]=e}),u.write(l),u.close(),c=Re)):t.is(F)&&(f=t.element(),e===Ca&&(i=t.$(Wa).toArray()),o=f[e],f[e]=l,i&&i[K]&&st(i,d),t.$(Wa,f),o!==l&&t.dispatchEvent("contentChanged"))},_e=function(e){return function(t,n){var r=this;return t===u?ze(e,r):($e(e,r,t,n),r)}},Je=function(e,t){var n,r,i,o,u;if(e.remark(fa,e.tagName===fa),e.is(fa)&&(o=t||e.element(),n=o.src,r=o.contentWindow,e.remark("windowReady",!!r),r)){if(i=e.owner.returnsManager(r),i.iframe=e,Xt(i,r,n),!(u=e.cachedContent)||!i.is(ba))return void(e.cachedContent=We);e.cachedContent=We,e.html(u?u.string:"",u?u.vars:{})}},Qe=Ye.Events[L][I][Ee],Xe="runningEvent",Ze=function(e,t,n,r,i){var o=!!r;e.owner.mark(Xe);var u=de(n,e.element(),t),a=Qe.call(e,t,u,{capturing:o});return e.owner.remark(Xe,i),a},Ke=function(e,t,n){var r,i=e.element();return i.dispatchEvent&&(r=e.owner.window().element())&&i.dispatchEvent(new r.Event(t,gt(n)?{}:n))},et={id:Ie,src:Ie,checked:Ie,disabled:Ie,classes:he},nt={play:"playing",pause:"paused"},it=$n("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu"),ot=it.concat(Hr.keys(nt),Hr.keys(et)),ut=function(e,t,n){var r,i,o,u=t.returnsManager(e),a=n||u.element();if(r=u.is(sa))return r;if(u.is(ae))return Re;for(;!i&&a&&a[va];){if(o=a[va],ss(o))return Ie;if(cs(o))return Re;if(o[we])return ut(o,t);a=o}return Ie},ct=function(e,t){return function(n,r){var i=[];nn(n,function(e){var n=r.returnsManager(e);n.remark(sa,t)&&n.is(F)&&n.is(Aa)&&i.push(n)}),vr(i,Ee,e)}},st=ct("detach",Ie),dt=ct("attach",Re),lt={set:function(e,t,n,r){e.refill(t===Re?[]:t),t===Ie&&e.mark(wa)},add:function(e,t){nn(t,e.add,e)},remove:function(e,t){nn(t,e.remove,e)},toggle:function(e,t,n){nn(t,function(t){e.toggle(t,n)})},change:function(e,t,n){this.remove(e,t),this.add(e,$n(n,f))}},ht=function(e){return function(t,n){var r=e(t,n);return t.is(Ra)&&(t.unmark(Ra),t[Ee](Na)),r}},pt=function(e,t,n,r,i,o,u){var a=e===le?he:e,c=i||no,d=r,l=d.preventUnCamel?a:c(a),h=l===he||l===Va,p=(h?(d=qc)&&(l=he)&&he:u)||l;return d=za[ro(p)]?qc:Vc,function(e,r){var i,u=e.element(),a=d.read(u,l),c=e,h=E(e,l,a);return"get"===o?(r||(c=a),c):(dr(t,n,function(e,t){var n=o||(t===Re?"add":t===Ie?Ea:"toggle");lt[n](h,wt(e)?e.split(f):e,t,a)}),h.changeCounter&&(h.is(wa)?(h.unmark(wa),d.remove(u,l),i=Ie):(i=h.generate(f),d.write(u,l,Ic(i)),i===s&&(i=Re))),void(i!==a&&e.is(Aa)&&(e.mark(Ra),e[Ee](Na+m+p,{previous:a,current:Lc(i)}))))}},vt=function(e,t,n){return function(r){return function(i,o,u,a,c,s){return r(e(i,o,u,a||n,c,t,s),this)}}},yt=function(e,t,n,r){var i=$n(t,f);return function(t){var n=t.element(),o=Nn(t,e),u=r.read(n,e);return o.ensure(u,f),Yt(i,function(e){var t=o.get(A,e);return t?!t.isValid():Re})}},xt=vt(pt,"set",Vc),kt=vt(pt,"add",Vc),Et=vt(pt,Ea,Vc),Tt=vt(pt,"toggle",Vc),Ct=vt(pt,"change",Vc),Ot=vt(pt,"get",Vc),Dt=vt(yt,"has",Vc),Mt=function(e,t,n){return function(r){return function(r,i,o){var a,c=this,s=wt(r),f=s?o:i,d=s?i:We,l=t||f;return s&&d===u?(c=c.item(0),l.read(c.element(),n(r))):(a={},c.each(ht(fr(r,d,function(t,r,i,o){var u=a[t]=a[t]||e(t,r,We,l,n,At(r)?We:"set");u(i,o)}))),c)}}},Nt=Mt(pt,Vc,no),It=Mt(pt,Vc,te),Lt=Mt(pt,qc,ro),jt=function(e,t){return t.each(e),t},Vt=function(e,t){return e(t.item(),0)},Pt=function(e,t){
return!t.find(e)},Ut=function(e,t,n){return function(r,i,o){return r.classList&&r.classList[e]&&!Ft?t(r,i,o):n(r,$n(r[he]?r[he]:[],f),i,o)}},Ht=function(e,t,n){var r,i=t;n&&(i==We&&(r=rt(e,n),i=r===-1),r=r===u?rt(e,n):r,i?r===-1&&e.push(n):r!==-1&&e.splice(r,1))},Wt=Hr.add,qt=Hr.remove,Ft=!!function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0}(),$t={add:Ut("add",function(e,t){e.classList.add.apply(e.classList,t)},function(e,t,n){nn(n,xn(Kt(Wt,We,t))),e[he]=t.join(f)}),remove:Ut("remove",function(e,t){e.classList.remove.apply(e.classList,t)},function(e,t,n){nn(n,xn(Kt(qt,We,t))),e[he]=t.join(f)}),toggle:Ut("toggler",tt,function(e,t,n,r){nn(n,xn(Kt(Ht,We,t,r))),e[he]=t.join(f)}),contains:Ut("contains",function(e,t){return!e.classList.contains.apply(e.classList,t)},function(e,t,n){return Yt(n,function(e){return!ft(t,e,Re)})}),change:Ut("add",function(e,t,n){e.classList.remove.apply(e.classList,t),e.classList.add.apply(e.classList,$n(n,f))},function(e,t,n,r){nn(n,xn(Kt(qt,We,t))),nn(r,xn(Kt(Wt,We,t))),e[he]=t.join(f)})},_t=function(e){return function(t,n){return function(r){return $t[e](r.element(),t,n)}}},Gt=kr(kr($n("add,remove,toggle,change"),function(e,t){e[t]=function(e){return function(t,n){return this.each(e($n(t,f),n?$n(n,f):u)),this}}},{has:function(e){return function(t){return!this.find(e($n(t,f)))}}}),function(e,t,n){e[n+"Class"]=t(_t("has"===n?"contains":n))},{}),Jt=function(e,t,n){var r,i=e.is(F)&&Vc.read(n||e.element(),ja);e.remark(ya,t||!!i),e.is(ya)&&!i&&(i=Re),r=e.is(F)&&Ac(n||e.element(),ja,i),i&&(e[Ma]=i)},Qt=function(e,t,n){e.unmark(F),e.unmark(fa),e.tagName=Ie,e.is(ae)||e.remark(F,as(n))&&(e.tagName=hc(n),e.owner=t,Je(e,n),Jt(e,Ie,n))},Xt=function(e,t,n){var r;e.remark(ae,St(t)),e.is(ae)&&e.owner&&(e.remark(ba,r=!!Nr(function(){return t[ce]})),e.remark("topWindow",t===t.top),e.setAddress(),r&&(e.is("topWindow")||e.remark(ba,e.sameOrigin())))},Zt=function(e,t,n){return Xt(e,n),Qt(e,t,n),e.unmark(ce),e.unmark(ha),e.unmark(sa),e.is(ae)?void e.mark(sa):(e.remark(ce,cs(n)),e.remark(ha,ss(n)),e.is(ce)?void e.mark(sa):e.is(ha)?void e.unmark(sa):void e.remark(sa,ut(e,t,n)))},tn=Ye.DOMA_SETUP=function(e){var t,n,r,o,u,a=e,c=a[ce],s=Gn(c,Re),d=Ye.Registry(),l=(wn(Ce),0),h={},p={},v={},m=function(){return u=We,{x:0,y:0,z:0,motionX:0,motionY:0,motionZ:0,interval:1,rotationRate:0,alpha:0,beta:0,gamma:0,absolute:0}},g={update:function(e,t,n,r){var i;return rn(t,function(t,n){za[n]?qc.write(e,no(n),t):Vc.write(e,no(n),t)}),i=wt(n)?e.innerHTML=n:nn(n,function(t){Bc(e,g.create(t,e,r))}),e},create:function(e,t,n){var r,i;return"text"===e[0]?void(t.innerHTML+=e[1]):(i=c.createElement(e[0]),r=e[3],r&&r.key&&(n[r.key]&&Mr("can't have a non unique key at "+r.key),n[r.key]=i),t.appendChild(g.update(i,e[1],e[2],n)),i)},resetHtml:function(e,t,n){return function(){n.owner.returnsManager(e).html(t)}},removeNodes:function(e,t){return function(){var n=Hr.filter(e,function(e){return!Hr.find(t.keys,function(t,n){return t===e})});return n[K]?nn(n,xn(Pc)):Ie}},addNodes:function(e,t,n,r){var i=c.createDocumentFragment();return nn(t,function(e){g.create(e,i,r)}),function(){return e.appendChild(i),Re}},updateAttribute:function(e,t,n){return function(){Vc.write(e,t,n)}},replaceNode:function(e,t,r,i,o,u){var a=u,s=e[va];return a||(a=c.createDocumentFragment(),g.create(t,a,i)),function(){Gc(s,a,e);e[we]?n(e).remove():Pc(e)}}};return s.is("setupComplete")?s.$:(s.remark("ie",Ft),t=yn(ac),r=function(e){s.DOMContentLoadedEvent=e,s.mark("ready")},n=function(e,t){var n=t||s;return tr(e,n,Ie,s===n,s)},o=Bt(bn({createElements:Q,createDocumentFragment:us,registeredElementName:xc,fragment:function(){return Gn(X(We,s),s)}},function(e){return function(t){return e(t,s)}}),bn({makeTree:W,makeBranch:q,createElement:P,diff:B,ready:Jn},function(e){return function(t,n,r){return e(t,s,n,r)}}),{$:n,buildCss:vs,nodeComparison:function(e,t,n,r){return is(e,t,n,r,We,We,We,s)},supports:{},deltas:g,registeredConstructors:p,registeredElementOptions:v,iframeContent:kc,ordersEventsByHierarchy:Ir(Re),data:Ye.Associator(),document:s,devicePixelRatio:qa,constructor:tr[L],registeredElements:t,templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},events:{custom:{},expanders:wn(Ce),lists:bn({base:Nu,svg:$a,keyboard:_a,gamepad:Ga,composition:Ja,mouse:Qa,touch:Xa,device:Ya,focus:Za,time:Ka,animation:ec,audioProcessing:tc,ui:nc,progress:rc,all:ic},wn)},returnsManager:function(e){return e===s||e===s.element()?s:Gn(e,s)},expandEvent:function(e,t){var n=s.events.expanders;return nn($n(t,f),function(t){nn($n(e,f),function(e){n[e]=n[e]||[],rt(n[e],t)===-1&&n[e].push(t)})}),s},customEvent:function(e,t){return nn($n(e,f),function(e){s.events.custom[e]=t}),s},customAttribute:function(e){return e?Ha(ja,e):Wa},stashMotionEvent:function(e){u=e},motion:function(){var e,t,n,r;return u?l>=u.timestamp?h:(l=Rt(),e=u.originalEvent,t=e.acceleration||(n=e.accelerationIncludingGravity)&&{x:n.x-9.81,y:n.y-9.81,z:n.z-9.81},t&&bt(t.x)&&(h.x=t.x,h.y=t.y,h.z=t.z,h.interval=e.interval,h.rotationRate=e.rotationRate,r=Re),e.alpha!=We&&(h.alpha=e.alpha,h.beta=e.beta,h.gamma=e.gamma,h.absolute=e.absolute,r=Re),r?h:m()):m()},plugin:function(e){return rr.push(e),nn(nr,function(t){e(t)}),this},compile:function(e,t){return i(e,t,s)},collectTemplates:function(){return n("script[id]").each(function(e){i(e.prop(A),e.html(),s)}).remove()},unregisteredElement:function(e){d.keep(e.registeredElementName(),e[we],e)},registerElement:function(e,n){var r=n||{},i=r["extends"],o=(r.events,r[I]);r.destruction,s.registeredElementName(e);return t[e]?Mr(t[e]===Re?"custom element names must not be used natively by browsers":"custom element names can only be registered once per document"):t[e]=i?t[i]:Ua,r.creation=(i?Hr.flows(v[i].creation,r.creation||tt):r.creation)||tt,v[e]=r,p[e]=(i?p[i]||Vn:Vn).extend(to(ro(e)),Bt({},o)),this.document.is("ready")&&s.$(s.customAttribute(e)).each(s.returnsManager),p[e]},script:function(e,t,n){var r=s.createElement("script",t);return aa(function(t,i){s.$("body").item(0).append(r),r.on({load:t,"error timeout cancel abort":i}),r.attr({src:e||Ie,innerHTML:n||Ie})},Re)}}),Bt(s,o),Bt(n,o),un(s.supports,s),Jn(r,s),s.mark("setupComplete"),n)},on=function(e,t,n,r){nn($n(t,f),function(t){e.addEventListener?(e.addEventListener(t,n),e.removeEventListener(t,n)):n(r)})},un=function(e,t){var n=t.window(),r=n.element();e.deviceMotion=!!r.DeviceMotionEvent,e.deviceOrientation=!!r.DeviceOrientationEvent,e.motion=e.deviceMotion||e.deviceOrientation,on(r,"deviceorientation devicemotion",function(t){t.alpha===We&&(e.motion=e.deviceMotion=e.deviceOrientation=Ie)},{alpha:We})},an=function(e,t,n){var r,i,o=this;return o[K]()?wt(e)&&t===u?(r=no(e),(o=o.item(0))&&(i=o.getStyle())&&((Gr=Yt(mc[ro(e)],function(e){return i[e+r]!==u}))?i[Gr+r]:i[Gr+r])):(o.each(ht(function(r){return bc(r.element(),e,t,n)})),o):o},cn=Ot(Vt),sn=xt(jt),fn=function(e){var t=this,n=t.element();return t.owner.$(zt(e)?e:Mc(e,n,t),n)},dn=function(e){return e.isValidDomManager?e.is("element")||e.is("fragment"):as(e)||ss(e)},ln=function(){var e;(e=this.window())&&(e.unmark(ba),Je(this))},hn=function(e,t,n,r,i,o){var u,a,c=r,s=ds(t),f=rt(s,n),d=i;if(o)for(c=c||1,u=n,d=Cc(d,e.owner);u&&!a;)u=s[f=f+=c],a=Nc(u,d,t.owner);else u=n,u=s[f],u=s[f+c];return u&&e.owner.returnsManager(u)},pn=function(e,t,n){return function(e){var r,i,o=n,u=e||n,a=this,c=a.element(),s=c[t];if(!(r=wt(u))&&t&&!s)return a.owner.returnsManager(s);if((i=c[va])||s)return hn(a,i,c,o,u,r)}},mn=function(e,t){var n=e.element();return(e.is(F)&&e.is(t?Aa:ya)?[n]:[]).concat(Mc(Wa,n,e))},gn=function(e,t){var n=t.createDocumentFragment();if(!e)return n;var r=Bn(e),i=t.element();return rn($n(r),function(e){var r=i.createElement(e.tagName),o=gn(e.children,t);r.appendChild(o),rn(e.attributes,function(e,t){Vc.write(r,no(t),e)}),n.appendChild(r)}),n},An="isTrusted",kn="fullscreen",En={props:$n("altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which,x,y,deltaX,deltaY"),fixedHooks:{},keyHooks:{props:$n("char,charCode,key,keyCode"),filter:function(e,t){var n;return e.which==We&&(n=t.charCode,e.which=n!=We?n:t.keyCode),e}},forceHooks:{props:[],filter:function(e,t){return e.value=(t.force||t.webkitForce)/3||0,e}},motionHooks:{props:[],reaction:function(e){e.origin.owner.stashMotionEvent(e)}},mouseHooks:{props:$n("button,buttons,clientX,clientY,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement"),filter:function(e,t){var n,r,i=t.button;return e.pageX==We&&t.clientX!=We&&(evntDoc=e.target.ownerDocument||n,n=evntDoc.documentElement,r=evntDoc[Ne],e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.movementX=t.movementX||0,e.movementY=t.movementY||0,e.layerX=t.layerX||0,e.layerY=t.layerY||0,e.x=t.x||0,e.y=t.y||0,e.which||i===u||(e.which=1&i?1:2&i?3:4&i?2:0),e}},make:function(e,t,n){var r,i,u,a,s=t.type,f=En.fixedHooks[s],h=n.origin;if(f||(En.fixedHooks[s]=f=c.test(s)?this.mouseHooks:o.test(s)?this.keyHooks:l.test(s)?this.forceHooks:d.test(s)?this.motionHooks:{}),a=f.props?this.props.concat(f.props):this.props,u=a[K],nn(a,function(n){var r=t[n];r!=We&&(e[n]=r)}),e.originalType=s,i=e.target||(e.view?e.view.event.currentTarget:event&&event.currentTarget)||e.delegateTarget.element(),i||(i=e.target=r),3===i[pa]&&(e.target=i[va]),(f.filter||tt)(e,t),s=Se[t.type]||t.type,Cn.call(e,Bn(t.data),n.origin,s,We,e.timeStamp),e.type===kn+T){if(r=e.target,St(r))r=r[ce];else for(;r&&!cs(r)&&r[va];)r=r[va];e.fullscreenDocument=r,cs(r)&&e.remark(kn,r.fullScreen||r.webkitFullscreenElement||r.mozFullScreenElement||r.fullscreenElement?Re:Ie)}e.target=h.owner.returnsManager(e.target),e.toElement&&(e.toElement=h.owner.returnsManager(e.toElement)),e.view&&(e.view=h.owner.returnsManager(e.view)),e.remark("trusted",Hr.has(t,An)?t[An]:!v),(f.reaction||tt)(e,t)}},Cn=Ye.ObjectEvent[L],Sn=Ye.DomEvent=Ye.ObjectEvent.extend("DomEvent",{AT_TARGET:1,constructor:function(e,t){var n=this;return Sn.isInstance(e)?e:(n.originalEvent=e,ft(e.target)&&ft(e.currentTarget)?n.delegateTarget=t.origin.owner.returnsManager(t.target):n.delegateTarget=t.origin,En.make(n,e,t),n.capturing=t.capturing===u?Te(n):t.capturing,n)},motion:function(){var e=this,t=e.origin.owner;return t.motion()},preventDefault:function(){var e=this.originalEvent;this[Uu]=Re,e&&e.preventDefault&&e.preventDefault()},trusted:function(){return this.isTrusted},stopPropagation:function(){var e=this.originalEvent;this[Wu]=Re,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this[qu]=Re,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}}),On=function(e,t,n,r){var i=e.origin.element();i.removeEventListener?i.removeEventListener(t,n[r],r):i.detachEvent(t,n[r]),delete n[r]},Dn=Ye.EventsDirective.extend("DomEventsDirective",{remove:function(e,t){var n=this,r=n.elementHandlers,i=e.name,o=r[i],u=o.capturing;e.remove(t),u?(--o[La],o[La]||On(t,i,o,u)):(t.selector&&o[Ia]--,e[K]()===o[La]&&On(t,i,o,u))},add:function(e,t){for(var n,r,i,o,u,a,c=this,s=t.element,f=0,d=c.elementHandlers=c.elementHandlers||{},l=e.name,h=d[l],p=t.capturing,v=e.toArray(),m=t.origin.owner.events.custom;f<v[K]&&!n;f++)i=v[f],n=t.capturing===t.capturing&&t.handler===i.handler&&i.group===t.group&&t.selector===i.selector&&t.passedName===i.passedName;if(!n&&(u=h,h||(h=d[l]={delegateCount:0,captureCount:0,events:c,currentEvent:We,capturing:p}),t.mainHandler=h,h[p]||(a=t.domTarget,o=h[p]=function(e){return Ze(a,e.type,e,p)}),t.capturing?(e.insertAt(t,h[La]),++h[La]):t.selector?(r=h[Ia],++h[Ia],r?e.insertAt(t,h[La]+r):e.insertAt(t,h[La])):e.toArray().push(t),nn(t.nameStack,function(e){t.fn=(m[e]||Ir.first)(t.fn,e,t)||t.fn}),o))if(s=t.origin.element(),s.addEventListener)s.addEventListener(t.domName,o,p);else{if(p)return;s.attachEvent(t.domName,o)}},create:function(e,t,n,r){return Sn(t,{target:e.target,origin:e,capturing:r.capturing})},queue:function(e,t,n){return n[Wu]&&n.currentTarget!==t.temporaryTarget?(n[Hu]=Re,Ie):(n.currentTarget=t.temporaryTarget,t.mainHandler.currentEvent=n,e.push(t),Re)},unQueue:function(e,t,n){return n.currentTarget=t.currentTarget=We,t.mainHandler.currentEvent=We,e.pop(),this},cancelled:function(e,t,n){var r,i,o,u=this;if(!e[K]())return u;if(o=e.first(),r=o.mainHandler,i=r[Ia],!i||i<n)return u;for(;n<=i;)o=e[n],o.temporaryTarget=We,++n;return u},nextBubble:function(e,t){var n,r=e.element();return!e.is(F)||r[va]?Ie:e.parent(function(t){return e.element()!==t&&t[we]&&(n=e.owner.returnsManager(t),n.is(Aa))?[n,Re]:[t[va],Ie]})},subset:function(e,t){var n,r,i,o,u,a,c,s,f,d,l,h,p,v=0,m=0,g=[],y=t.origin;if(!e[K])return[];if(d=e[0],l=d.mainHandler,p=l[La],h=l[Ia],t.capturing)return e.slice(0,p);if(y=t.origin,c=y.element(),o=t.target.element(),!h||o===c)return e.slice(p);for(u=p+h,v=p,s=e.slice(u),n=y.ordersEventsByHierarchy();v<u;){for(d=e[v],++v,f=d.selector,a=-1,r=o;!i&&r&&as(r)&&r!==c;){if(++a,Nc(r,f,y.owner))if(i=r,d.temporaryTarget=i,d.parentNodeNumber=a,n)if(m=g[K])for(;d&&m&&g[--m];)g[m].parentNodeNumber<=d.parentNodeNumber?(g.splice(m+1,0,d),d=We):m||g.unshift(d);else g.push(d);else g.push(d);r=r[va]}i=We}return g.concat(s)}}),Mn=function(e,t){for(var n=Ie,r=e;!r.is("topWindow")&&!n;)r=t.returnsManager(r.element().parent),r.iframe&&r.is(ba)&&(n=!r.iframe.visible());return!n},Nn=function(e,t){var n=e.directive(Y),r=n[t]=n[t]||w();return r},Rn=function(e,t,n,r){return function(i){var o,u,a,c=this[Ae](i);return c?(c.is(F)?o=O(c.element())[e]:c.is(ce)&&(a=c.element())&&(u=r?a&&(a.scrollingElement||a[Ne]):a[Ne])?o=u[t]:c.is(ae)&&c.is(ba)&&(o=c.element()[n]),o||0):0}},In=(e.extendDirective("Registry","History"),function(e,t,n){var r,i,o=e[Ma];return e.is(ya)?(r=e.owner.registeredElementName(o),i=e.owner.registeredConstructors[o],i||Mr("custom elements must be registered before they can be used"),e=new i[L](e,t,n)):e}),Ln=function(e,t){var n,r,i=this,o=i.is(wa)||Ie;return!o&&(n=i.element())&&(r=n[va])?(i.mark(wa),i.is(fa)&&t&&mt(t)&&i.owner.window().element().setTimeout(Kt(t,i,i)),Pc(n,e),st([n],i.owner),i.remark(wa,o),i):i},jn=function(){return[this]},Vn=Ye[ma]=Ye.Events.extend(ma,Bt({},Gt,{"directive:creation:EventManager":Dn,isValidDomManager:Re,$:fn,querySelectorAll:fn,ordersEventsByHierarchy:function(){return this.owner.ordersEventsByHierarchy()},queryString:function(){var e=Fc(this.element()),t=e.tagName;return kr(e.attributes,function(e,t,n){return n===A||n===le?e:e+Ha(n,t)},t)},registeredElementName:function(){return this.owner.registeredElementName(this[Ma])},attributes:function(e){var t,n,r=this,i=r.element(),o=i.attributes;return e?(n=en(e,r),nn(o,function(e){n(e.nodeValue,e.localName)}),r):(t={},nn(o,function(e){t[e.localName]=e.nodeValue}),t)},hasValue:Dt(Pt),addValue:kt(jt),removeValue:Et(jt),toggleValue:Tt(jt),changeValue:Ct(jt),on:Me,addEventListener:Me,once:Le,off:je,removeEventListener:je,append:Pe,appendChild:Pe,prepend:Ue,insertBefore:He,insertAfter:qe,getAttribute:cn,setAttribute:sn,removeAttribute:Fe(Ea),attr:Nt(jt),data:It(jt),prop:Lt(jt),html:_e(Ca),text:_e(Oa),css:an,next:pn("next","nextElementSibling",1),prev:pn("prev","previousElementSibling",-1),skip:pn("skip",We,0),height:Rn(be,"scrollHeight",xe),width:Rn(ye,"scrollWidth",ke),scrollLeft:Rn("scrollLeft","scrollLeft","pageXOffset",Re),scrollTop:Rn("scrollTop","scrollTop","pageYOffset",Re),siblings:function(e){var t=this,n=Fn(e,t.owner);return t.parent().children(function(e,r,i){return e!==t&&n(e,r,i)})},element:function(){return this[J]},elements:function(){return[this.element()]},constructor:function(t,r,i){var o,u,a,c=i,s=this;return t||Mr("element must be an element"),Vn.isInstance(t)?(r[ma]=s,Bt(s,t),u=c.registeredElementOptions[s[Ma]],u.creation.call(s,s),s.on(u.events),s.on(k,u.destruction),s):(Zt(s,c,t),s.is(F)||s.is(ha)?(r[ma]=s,c=n(t.ownerDocument,Re),s.is(F)&&(s[we]=t[we])):((a=s.is(ce))?(c=s,s[we]=o=t[we]):s[we]=e.counter("win"),r[ma]=s),s.owner=c||Ie,s[J]=t,s.is(fa)&&s.on(Na+":src detach attach",ln),s.is(ae)&&Xt(s,t),s.is(F)&&(Vc.read(t,"is")||Vc.write(t,"is",!0),s[Ma]&&s[Ma]!==Re&&(s=Nr(function(){return In(s,r,c)})||s),ft(s,Ma)&&delete s[Ma]),s)},clone:function(){var e=this;return e.is(F)?q(e.element()[Da],e.owner):{}},length:function(){return 1},wrap:function(e){return this.owner.$(e||this)},unwrap:jn,toArray:jn,parent:function(){var e=function(e,t,n){for(var r,i,o=e,u=e.owner,a=o.element(),c=n;a&&!i;)r=t(a,n,c,u),a=r[0],i=r[1],c=r[2];if(i&&a)return u.returnsManager(a)},t=function(e,t,n){return n-=1,(n<0||!isFinite(n)||isNaN(n))&&(n=0),[e[va],!n,n]},n=function(e,t,n,r){var i=e[va],o=Cc(t,r);return[i,Nc(i,o,r)]},r={document:function(e,t,n){var r=e[va];return cs(r)?[r,Re]:as(r)?[r,Ie]:ss(r)?[We,Ie]:void 0},window:function(e,t,n,r){var i,o=e[Pa];return o?[o,Re]:(i=e[va])?[i,Ie]:[Ie,Ie]},iframe:function(e,t,n){var r,i=e,o=St(e);return o?i===i.top?[We,Ie]:(r=Nr(function(){return i.frameElement}),[r,!!r]):[e[Pa]]||e[va]}};return function(i){var o,u=this,a=Ie;return bt(i)?o=t:wt(i)?o=r[i]||n:a=i?Re:a,a?e(u,i):(o||(o=t,i=1),e(u,o,i))}}(),contains:function(e){var t,n,r=e,i=this;return St(r)?Ie:wt(r)?!!Mc(r,i.element(),i)[K]:r.isValidDOMA?!!r.find(i.contains,i):(n=i.owner.returnsManager(r),n.is(ce)?n.window()===i:(t=i.element(),!!n.parent(function(e){var n=e[va];return[n,n===t]})))},insertAt:function(e,t){var n=this,r=n.owner,i=dn(e)?r.returnsManager(e):r.$(e).fragment(),o=i.element(),u=t==We?We:n.children(),a=u&&u.item(t)||We,c=a&&a.element()||We,s=n&&n.element(),f=i.children(),d=mn(i,Re);st(d,r),s&&Gc(s,o,c),ut(s,r)&&dt(d,r);return f},window:function(){var e=this;return e.is(ae)?e:e.is(ce)?e.returnsManager(e.element().defaultView):e.is(fa)?e.is(sa)&&(t=e.element().contentWindow)&&e.owner.returnsManager(t):e.owner.window()},setAddress:function(e){var t=this;return e=t.address=e||t.address||cr()},emit:function(e,t,n){var r,i,o,u=this.window();return u.is(ae)?(i=u.element(),o=at(e),u.is(ba)?(r=Bn(o),(n||Es)({srcElement:i,timeStamp:Hr.now(),data:function(){return r}}),this):(Nr(function(){t?i.postMessage(o,t):Mr("missing referrer: "+u.address)}),this)):this},sameOrigin:function(){var e,t=this,n=t.element(),r=t.owner.window(),i=r.element();return r===t?Re:t.is(ba)?(e=wo(Nr(function(){var e;return(e=n.frameElement)?e.src:Ie})||n[Oe].href),!e&&t.iframe&&(e=wo(t.iframe.src())),!e||e===wo(i[Oe].href)):Ie},children:function(e,t){var n,r,i=this,o=ds(i.element());return e==We?t?(o=qn(o,i.owner.returnsManager,i.owner))&&pr(t,"is",ha)?t.append(o):t.push.apply(t,o)?t:t:i.wrap(o):(n=Fn(e,i.owner),r=kr(o,function(e,t,r,o){return n(t,r,o)&&e.push(i.owner.returnsManager(t)),e},t||[]),t?r:i.wrap(r))},visible:function(){var e,t,n,r,i,o,u,a=this;return a.is(sa)?(n=a.getStyle(),0===+n.opacity||n.display===_||n[be]===b||n[ye]===b||n.visibility===G?Ie:(t=a.element(),e=t.getBoundingClientRect(),e[be]&&e[ye]?(i=(a.element().ownerDocument||{}).defaultView)?(o=i[xe],u=i[ke],o<e.top||u<e.left||e.right<0||e.bottom<0?Ie:(r=a.owner.returnsManager(i),r.is("topWindow")?Re:Mn(r,a.owner))):Re:Ie)):Ie},hide:function(){return this.applyStyle(x,_)},show:function(){return this.applyStyle(x,"block")},applyStyle:function(e,t,n){return bc(this.element(),e,t,n),this},getStyle:function(e){var t={},n=this,r=n.element();return r&&n.is(F)&&(t=fc(r,n.owner.element())),t},remove:Ln,removeChild:Ln,frame:function(e,t,n){var r=this,i=e||"";n||!t&&"<!doctype "===i.slice(0,10).toLowerCase()||(i=r.owner.iframeContent(i,t));var o=At(n)?n:At(t)?t:{};return r.is(fa)?(r.is(sa)?r.html(i,o):r.cachedContent={string:i,vars:o},r):r},destroy:function(e){var t,n=this,r=n[Ma],i=n.element();return n.is(ga)?n:(n.mark(ga),n.is(fa)&&n.owner.data.remove(i.contentWindow),n.remove(We,e),r&&(t=n.owner.registeredElementName(r),n.directiveDestruction(t)),n[Ee](k),n.directiveDestruction(Eu),n.owner.data.remove(i),n[Tu](),n)},item:function(){return this},each:function(e,t){var n=this,r=[n];t?e.call(t,n,0,r):e(n,0,r);return r},find:function(e,t){var n=this,r=[n];return e.call(t||r,n,0,r)?n:u},client:function(){return O(this.element())},box:function(e){return S(this.element(),e)},flow:function(e){return C(this.element(),e)},dispatchEvent:function(e,t,n){var r=v;return v=Re,Ke(this,e,n),v=r,this},toJSON:function(e){var t=this,n=(t.owner,t.element());return(t.is(ae)||t.is(ce))&&Mr("cannot serialize documents and windows"),os(n,e===u?Lr:mt(e)?e:Ir(e),Re)}},bn(et,function(e,t){return e||(e=t),function(t){var n=this;return t!==u?n.attr(e,t):n.element()[e]}}),bn(nt,y),bn(it,function(e){return y(e)}),bn($n("add,addBack,elements,push,fragment"),function(e){return function(t,n,r){return this.wrap()[e](t,n,r)}}))),Pn=function(e,t,n,r,i,o){var u=r,a=Ve[u]?(u="")||Ve[r](e):e,c=a.directive(Eu),s=function(e,t){return e.obliteration(function(e){t&&t!==e.passedName||i&&e.handler!==i||n&&e.group!==n||u&&e.selector!==u||c.detach(e)})};return t?nn($n(t,f),De(a.owner.events.expanders,function(e,t){s(c[Mu][e],t)})):rn(c[Mu],xn(s))},Hn=Hr.eq,Wn=Hr.matches,Fn=function(e,t){var n=e;return mt(n)?n:wt(n)?N[n]||(n=Cc(n,t))&&function(e){return Nc(e,n,t)}:bt(n)?function(e,t){return t===n}:At(n)?Wn(n):function(){return Re}},zn=function(e){return function(t,n,r){return e(t.element(),n,r)}},_n=function(e,t,n){var r=Fn(t,n);return Dc(e,zn(r))},Gn=function(e,t){return e&&!St(e)&&e.isValidDomManager?e:n(e,t)},Jn=(Hr.publicize({isIE:Ft,buildCss:vs,covers:re,center:ie,closer:ue,fetch:p,distance:oe,escape:Go,unescape:Jo,box:S,isElement:as,isWindow:St,isDocument:cs,isFragment:ss,unitToNumber:V,numberToUnit:j}),function(e,t){var n=Kt(e,t),r=t.window(),i=function(e){t.off("DOMContentLoaded",i),r.off("load",i),t.$(Wa).each(t.returnsManager),n(t.$,e)};return t.is("ready")?n(t.$,t.DOMContentLoadedEvent):(t.on("DOMContentLoaded",i),r.on("load",i)),t.mark("setup"),t}),Qn=function(e){return function(t,n,r,i,o,u){return this.each(function(a){a[e](t,n,r,i,o,u)})}},Xn=$n(k+",show,hide,style,remove,on,off,once,addEventListener,removeEventListener,dispatchEvent").concat(ot),Yn=$n("tag,element,client,box,flow"),Zn=function(e){var t="tag"!==e;return function(n,r){var i=this.item(n);return i&&i[e](t?this.context:r)}},Kn=$n("isWindow,isElement,isDocument,isFragment"),er=function(e){return function(t){var n=this.item(t);return n&&n[e]}},tr=Ye.DOMA=Ye.Collection.extend("DOMA",Bt({},Gt,{isValidDOMA:Re,constructor:function(e,t,n,r,i){var o=e,u=this,a=u.context=r?t.item(0):i,c=u.owner=i,s=a.element();if(e&&!St(e)&&e.isValidDOMA)return e;if(mt(e)){if(cs(s))return Jn(e,c).wrap()}else n||(wt(e)?o="<"===e[0]?W(e,c):qn(Mc(e,s,a),c.returnsManager,c):(o=e,Vn.isInstance(o)?o=[o]:(Au.isInstance(o)&&(o=o.toArray()),o=fs(o)?[c.returnsManager(o)]:o&&qn(o,c.returnsManager,c)))),u.reset(o);return u},setValue:xt(jt),hasValue:Dt(Pt),addValue:kt(jt),removeValue:Et(jt),toggleValue:Tt(jt),changeValue:Ct(jt),add:ne(function(e,t){var n=e.owner.$(t);return Tn(e.toArray(),n.toArray())}),addBack:ne(function(e,t){var n=e._previous;return n?(t&&(n=n.filter(t)),e.toArray().concat(n.toArray())):e.toArray().concat([])}),wrap:function(){return this},push:function(){var e=this.context.owner;return this.items.push.apply(this.items,kr(arguments,function(t,n){return n?(St(n)?t.push(n):t=t.concat(!St(n)&&mt(n.unwrap)?n.toArray():e.returnsManager(n)),t):t},[],e)),this},elements:function(){return this.results(F)},fragment:function(e){return this.context.returnsManager(X(e||this.toArray(),this.context))},filter:ne(function(e,t){return _n(e.toArray(),t,e.owner)}),empty:ne(function(e,t){var n=Fn(t,e.owner);return Dc(e.toArray(),zn(function(e,t,r,i){return!n(t,r,i)&&t.remove()}))}),$:ne(function(e,t){var n=[],r=function(t){n.push(e.owner.returnsManager(t))};return nn(e.toArray(),function(e){nn(Mc(t,e.element(),e),r)})&&n}),children:ne(function(e,t){return kr(e.toArray(),function(e,n){return n.children(t,e)},[])}),css:an,allElements:function(){return!(!this[K]()||Yt(this.toArray(),function(e){return!e.is(F)}))},height:Rn(be,"scrollHeight",xe),width:Rn(ye,"scrollWidth",ke),scrollLeft:Rn("scrollLeft","scrollLeft","pageXOffset",Re),scrollTop:Rn("scrollTop","scrollTop","pageYOffset",Re),attr:Nt(jt),data:It(jt),prop:Lt(jt),eq:ne(function(e,t){return Hn(e.toArray(),t)}),end:function(){for(var e=this;e._previous;)e=e._previous;return e},getAttribute:cn,setAttribute:sn,append:function(e,t){return this.insertAt(e,We,t)},prepend:function(e,t){return this.insertAt(e,0,t)},insertBefore:He,appendTo:function(e){return $(e).append(this),this},next:ee("next",1),prev:ee("prev",-1),skip:ee("skip",0),siblings:ne(function(e,t){return z(e,function(e){return e.siblings(t).toArray()})}),insertAt:function(e,t,n){var r=this,i=r.owner,o=dn(e)?this.context.returnsManager(e):i.$(e).fragment();return this.each(function(e){var r=o;n&&(r=r.clone()),e.insertAt(r,t)})},replaceWith:ne(function(e,t,n){var r,i,o=e.owner;return(r=wt(element))||(i=dn(t)?o.returnsManager(t):o.$(t).fragment()),z(e,function(n,o){var u=t;if(!n.is(F))return[];if(r)u=e.owner.$(t);else if(yn)u=i.clone();else if(o)return[];return parent=n.parent(),parent.insertAt(u,parent.children().indexOf(n)),n.remove(),u.toArray()})}),contains:function(e){return!!this.find(function(t){return t.contains(e)})},clone:ne(function(e){return e.foldl(function(e,t){return t.is(F)&&e.push(t.clone()),e})}),parent:ne(function(e,t){var n={};return e.foldl(function(e,r){var i;return(i=r.parent(t))&&!n[i.element()[we]]&&(n[i.element()[we]]=i,e.push(i)),e},[])}),has:function(e){var t=this,n=Au(e),r=n[K]();return!!r&&n.find(function(e){return t.indexOf(e)===-1})},html:Z(Ta),text:Z(Sa),map:function(e,t){return Au(qn(this.toArray(),e,t))},toJSON:function(){return this.results(R).toArray()},toString:function(){return at(this)}},bn(Xn,Qn),bn(Yn,Zn),bn(Kn,er))),nr=[],rr=[];e.undefine(function(e,t,n){var r=tn(t);return nr.push(r),nn(rr,function(e){e(r)}),r.collectTemplates(),n.$=r,r}),e.defineDirective(Y,function(){return{}})}),e.scope(function(e){var t=Ye.ElementWatcher=Ye.Registry.extend("ElementWatcher",{watch:function(e,t){var n,r=this,i=e.__elid__,o=r.get("watchers",i)||{};o.count&&++o.count;e.on("resize",t),e.is("window")||o.id||r.keep("watchers",i,n={count:1,id:Hr.AF.queue(function(){var t=e.client();if(t.height!==n.height||t.width!==n.width)return n.height=t.height,n.width=t.width,n.blinking?void(n.blinking=Ie):void e.dispatchEvent("resize")})})},blink:function(e){var t;(t=elementWatcher.get("watchers",e.__elid__))&&(t.blinking=Re)},stop:function(e,t){var n=this.get("watchers",e.__elid__),r=e.directive("EventManager")||{},i=r.handlers||{},o=i.click||Au(),u=o.length();e.off("resize",t),n.id&&(u!==o.length()&&--n.count,n.count||Hr.AF.dequeue(n.id))}});e.defineDirective("ElementWatcher",t)}),e.scope(function(e){var t,n,r,i=0,o=0,c=0,s=Hr.pI,f=Hr.now,d=$n("ms,moz,webkit,o"),l="running",h="halted",p="stopped",v="destroyed",g="Looper",y="Timeout",w="set"+y,b="clear"+y,x="AnimationFrame",k="request"+x,E=to(k),T="cancel"+x,C=[],S=[],O=(Hr.eachCall,Hr.time),D=(Hr.remove,Ie),M=Re,N=function(e){var i=Math.max(0,o-c);t=a[k](function(){M=Re,e()}),M||(n=a[w](e,i+1)),q.playWhileBlurred&&(r=a[w](function(){M=Ie,e()},i+50))},R=function(){c=Hr.now(),a[T](t),a[b](n),a[b](r);for(var i=e.DocumentManager,o=S.slice(0),u=i&&i.dependency&&i.dependency(),s=0;s<o[K];s++)o[s].run(c);return j(),u&&u()},I=function(){D=Re,N(R)},j=function(){nn(S.slice(0),function(e,t){(e.is(h)||e.is(p)||e.is(v)||!e[K]())&&(e.stop(),S.splice(t,1))}),D=Ie,S[K]&&I()},V=function(e){C.push(e)},B=function(e){ft(S,e,Re)||S.push(e),D||I()},P=(function(){for(;i<d[K]&&!a[k];++i)a[k]=a[d[i]+E],a[T]=a[d[i]+to(T)]||a[d[i]+"Cancel"+E];a[k]||(a[k]=function(e){var t=Rt(),n=Math.max(0,16-(t-o)),r=a.setTimeout(function(){e(t+n)},n);return o=t+n,r}),a[T]||(a[T]=function(e){a[b](e)})}(),function(e,t,n){e.current=t,t.filter(n)&&Nr(function(){t.fn(n)},function(){e.dequeue(t.id)})}),U=function(){return this.tween.lastRun},H=function(e,t){return e.drop(A,t.id),e.remove(t)},W=function(e,t){var n,r;return(n=e.sort())===(r=t.sort())?0:isNaN(n)?1:isNaN(r)?-1:n<r?-1:1},q=Ye[g]=Au.extend(g,{constructor:function(){var e=this;return e.mark(p),e.unmark(h),e.unmark(v),e.unmark(l),e[L+m+vu](),V(e),e},destroy:function(){return this.mark(v),this.halt()},run:function(e){var t,n,r,i=0,o=this;if(!o.is(h)&&!o.is(p)&&o[K]())for(o.lastRun=e,o.sort(W),t=o.toArray().slice(0),n=t[K];i<n&&!r;i++)r=!o.is(h)&&P(o,t[i],e);o.current=We,o.unmark(l)},dequeue:function(e){var t,n=this,r=e;return r!==u||arguments[K]?bt(r)&&(t=n.get(A,r))?(H(n,t),Re):Ie:(n.current&&(r=H(n,n.current)),!!r)},stop:function(){return this.mark(p),this},start:function(){var e=this;return e.unmark(p),e.unmark(h),B(e),e},halt:function(){return this.mark(h),this.stop()},queue:function(t){var n,r=e.counter(Ie),i=this,o=t;if(mt(o)&&(o={fn:i.bind(o)}),At(o))return n=i[K](),o.tween=i,o.sort=o.sort||U,o.filter=o.filter||Lr,o.id=r,i.push(o),i.keep(A,r,o),n=n?B(i):i.start(),r},bind:function(e){return en(e,this)},once:function(e){return this.frames(1,e)},frames:function(e,t){var n,r=0,i=s(e)||1;if(!t&&mt(i)&&(t=e,i=1),mt(t))return n=this.bind(t),(i<1||!bt(i))&&(i=1),this.queue(function(e){var t=Ie;r++,r>=i&&(this.dequeue(),t=Re),n(e,t,r)})},tween:function(e,t){var n,r=f(),i=O(e),o=this;if(mt(t))return n=o.bind(t),o.interval(0,function(e){var t=Ie,u=e-r;u>=i&&(t=Re,o.dequeue()),n(e,Math.min(1,u/i),t)})},frameRate:function(e,t,n){var r,i=this,o=Math.min(n||.8,.8),u=30*o,a=1,c=f(),s=e||125;return mt(t)?(r=i.bind(t),i.queue(function(e){var t=1e3/(e-a);t>40&&(u=60*o),t<u&&(c=e),e-c>s&&(i.dequeue(),r(e)),a=e})):i},timeout:function(e,t){var n,r=this;if(mt(t))return n=r.bind(t),r.interval(e,function(e){r.dequeue(),n(e)})},interval:function(e,t){var n,r=t,i=this,o=O(e),u=Rt();if(mt(r))return bt(o)||(o=0),n=i.bind(t),i.queue({filter:function(e){return e-o>=u},fn:function(e){u=e,n(e)},sort:function(){return u+o}})},defer:function(e,t){var n,r=this;return function(){var i=$n(arguments);return r.dequeue(n),n=r.timeout(e,Kt.apply(Hr,[t,this].concat(i)))}}});q.playWhileBlurred=Re,Hr.publicize({AF:q()})});var ms=(Hr.AF,"RegionManager"),gs="DocumentView",ys="DocumentManager",ws="renderLoop",bs=function(e){e.owner$||Mr("object needs an owner$ function to scope itself against a "+ce)};e.scope(function(e){var t=(Hr.protoProp,Hr.isFragment,Hr.isInstance),n=Hr.isFunction,r=(Hr.isArrayLike,Hr.intendedObject,"render"),i=r+"ing",o=r+"ed",a="modelId",c="established",d="constructor",l="bufferedViews",h="that region does not exist",p="invalid key passed for region name",v=function(e){return Mr("an element does not exist at "+e)},m=Ye.Parent,g=Ye.Model,y=function(e,t){var n,r,i,o,u=t,c=e.directive(Ru);return(o=L.isInstance(t))?(r=c.get(a,t.model.id))?r:t:(n=g.isInstance(u))?(r=c.get(a,u.id))?r:void 0:(i=e.childConstructor())({model:i[d][I].Model(t)})},w=function(e,t,n){var r,i=e[Ru];return t[Z]=We,i.remove(t),r=t.model,i.drop("viewCid",t.cid),i.drop("modelCid",r.cid),i.drop(a,r.id),n},b=Ye.Region=m.extend("Region",{attributes:Ir(Ie),childConstructor:function(){var e=this;return e.Child===Re?e[Z][Z].childConstructor():e.Child},constructor:function(e){var t=this;return t["super"].call(t,e),bs(t),t.directive(Ru),t.setElement(),t},add:function(e,t,n){var r=this,i=Au(e).foldl(function(e,t){var n;(n=r.adopt(t))&&e.push(n)},[]);return r.el&&r.render(n),i},adopt:function(e){var t,n,r,i=this;if(!e)return Ie;if(n=y(i,e),n[Z]){if(n[Z]===i)return Ie;w(n[Z],n,i)}return r=i.directive(Ru),n[Z]=i,r.attach(n),t=n.model,r.keep("viewCid",n.cid,n),r.keep("modelCid",t.cid,n),r.keep(a,t.id,n),n},buffer:function(e){var t,n,r=this,i=e.el&&e.el.element(),o=r.el.element(),u=e.parentElement(r);return i?(t=i.parentNode,t&&t===u||(u===o?(n=r.directive(l),n.els.append(i)):r.owner$(u).append(i)),r):r},setElement:function(){var t=this,n=t[q],r=t[Z][Z],i=r[Z]&&r[Z][Z]===e?r.$(n).item(0):r.owner$.returnsManager(r.directive(z).hashed[n]);
return i?(t.directive(z).set(i),t):v(n)},render:function(e){var t=this,n=t.directive(l),i=t.directive(z),u=e||tt;return t.unmark(o),n.ensure(),t[Ee](S+r),t.setElement(),u(t)?t[Ru].each(t.buffer,t):t[Ru].eachCall(r,u),i.el.append(n.els),t[Ee]("buffered"),t.mark(o),n.reset(),t[Ee](r),t},destroy:function(){var e,t=this;return(e=t[Ru])&&e.slice().eachCall(k),this}}),x=function(e,t){var n=e.directive(ms);if(t||!n.is(c)){var r=e.directive(z);return n.mark(c),r.renderEl(),r.diff(),r.renderTemplate(),e}},E=sr(function(e,t){var n,r=this,i=r.directive(ms);return x(r),(n=i.get(e))?n.add(t):Mr(h)}),C=sr(function(e,t){var n,r=this.directive(ms);return r.is(c)&&((n=r.get(e))?n.remove(t):Mr(h))}),O=cu(ms,"add"),N=cu(ms,"get"),R=cu(ms,"remove"),L=Ye.View=m.extend("View",{Model:g,modifiers:tt,getRegion:N,addRegion:O,removeRegion:R,addChildView:E,removeChildView:C,tagName:Ir("div"),template:Ir(Ie),canRenderAsync:Ir(Ie),linguisticsOrigin:function(){return this.model},getChildViews:function(e){return this.getRegion(e).directive(Ru)},getChildView:function(e,t,n){return this.getChildViews(e).directive("Registry").get(t,n)},parentElement:function(e){return e.el.element()},childrenOf:function(e){return this.directive(ms).get(e).directive(Ru)},parentView:function(){for(var e,t=this,n=t[Z];!e&&n;)n=n[Z],L.isInstance(n)&&(e=n);return e},bindModel:function(e){var t=this,n=pr(t,"modelEvents");t.model=g.isInstance(e)?e:t.Model(e),t.listenTo(t.model,n),t.autoRenders()&&t.listenTo(t.model,T,t.render)},autoRenders:Ir(Re),constructor:function(t){var n=this,r=t||{};return n.id=e.counter(Ie,Re),n.bindModel(r.model),delete r.model,m[d].call(n,r),n.directive(z).ensure(),n},valueOf:function(){return this.model.valueOf()},destroy:function(e){var t=this;return t.is(M)?t:(t[Ee](D),t.mark(M),t.directiveDestruction(ms),t.directiveDestruction(z),m[d][I].destroy.call(t),t)},render:function(e){var t,o=this;return o.mark(i),t=o.directive(z),o[Ee](S+r),o[ms]&&o[ms].list.eachCall(r,n(e)?e:Lr),x(o,Re),t=o[Z]&&o[Z].buffer(o),o}}),j=(Ye.View,function(){var e=this;e.els&&e.els.is(ha)?1:e.resetEls()}),V=function(){var e=this.views;return this.resetEls(),e},B=function(){this.els=this.region.owner$.fragment()},P=Ye[ms]=Ye.Directive.extend(ms,{constructor:function(e){var t=this;return t.parent=e,t.list=Au(),t},create:function(e,n){var r=this,i=r[Z],o=n,u=n;return t(u,b)?u:(u=b(Bt({selector:o||s,owner$:i.owner$},At(u)?u:{},{id:e,key:n,parent:r})),r.list.push(u),r.list.keep(A,e,u),u)},establish:sr(function(t,n){t||Mr(p);var r,i,o=this,u=o[Z],a=o.list.get(A,t),c=u[Z];a||(a=o.create(t,n)),c&&c[Z]===e?(r=u.el.$(n)[Ae](0),r||v(n)):(i=u.directive(z),i=i.hashed[a[q]],i||v(n),r=u.owner$.returnsManager(i)),a.el||(a.el=r)}),destroy:function(){},remove:function(e){},add:sr(function(e,t){var n=this,r=n.list.get(A,e);r||n.establish(e,t)}),get:function(e){return this.list.get(A,e)}}),U=Ye[l]=Ye.Directive.extend(l,{constructor:function(e){var t=this;return t.region=e,this.resetEls(),t},reset:V,ensure:j,resetEls:B}),H=Ye[gs]=Ye.Model.extend(gs,{regions:tt,addRegion:O,getRegion:N,removeRegion:R,removeChildView:C,addChildView:sr(function(e,t){var n=this.directive(ms),r=n.get(e);t.render(),r.add(t,We,Lr)}),render:function(e){var t=this;return t.directive(ms).list.eachCall(r,e),t},constructor:function(e){var t=this;return Bt(t,e),t},chunk:function(e,t){var n=this.parent,r=n.modifications,i=r.get(A,e),o=i||{id:e,fn:t,counter:0};i&&(i.counter+=1),r.keep(A,e,o),r.push(o),n.checkRenderLoop()}}),W=Ye[ys]=Ye.Model.extend(ys,{checkRenderLoop:function(){this.get(ws)||this.modify()},dependency:function(){var e=this;return e.set(ws,e.get(ws)+1),function(){e.set(ws,e.get(ws)-1),e.checkRenderLoop()}},modify:function(){var e,t=this,n=t.modifications;n.length()&&(n=n.slice(0),t.modifications=Au(),e=t.dependency(),t.mark("writing"),n.eachCallTry("fn"),t.unmark("writing"),e())},constructor:function(e){var t=this;return t.parent=e,t.documents=Au(),t.modifications=Au(),this["constructor:Model"](),t},getByDocument:function(e){return this.documents.find(function(t){return t.el.element()===e})},defaults:function(){return{renderLoop:0}}}),z=to(F),$=function(e,t){return this[Ee](e,t.data(),{instigator:t})},_=function(e,t,n){var r="delegateEvents"+e,i=rt(n,"@"),o=i!==-1;return{selector:o?G(n.slice(i),t):s,group:r,events:o?n.slice(0,i).trim():n}},G=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},J=Ye.Directive.extend(z,{constructor:function(e){return this.view=e,this},ensure:function(){var e,t=this,n=t.view,r=t[q]||pr(n,"el");r&&(t[q]=r),Ye.DOMA.isInstance(r)||(e=wt(r)?r:t.create(n.tagName()),t.set(e))},create:function(e){return this.view.owner$.createElement(e)},unset:function(){var e=this;delete e.view.el,delete e.el},set:function(e){var t=this;t.view.el=t.el=e},diff:function(){var e=this,t=e.el,r=e.view,i=t.element(),o=r.model&&r.model.toJSON()||{},u=e.virtual=[r.tagName(),e.attributes(),r.template(o,pr(r,"helpers")||{})],a=r.owner$.nodeComparison(i,u,e.hashed,en(e.comparisonFilter,e)),c=(e.hashed=a.keys,e.mutations=a.mutations,e.modifiers=Bt({remove:tt,update:tt,insert:tt},n(c=r.modifiers())?{insert:c}:c))},comparisonFilter:function(e){var t=this.view.directive(ms),n=e[3]||{},r=n.key;return!r||!t.get(A,r)},delta:function(){var e,t=this,n=(t.view,t.mutations),r=t.modifiers,i=Ie;return t.mutations?(delete t.mutations,delete t.modifiers,e=n.remove()||i,e=r.remove()||e,e=n.update()||e,e=r.update()||e,e=n.insert()||e,r.insert()||e):Ie},renderEl:function(){var e=this,t=e.view,n=t.el,r=n!==e.el;r&&e.unset(),!r&&t.is(o)||(e.degenerateUIBindings(),e.undelegateEvents(),e.undelegateTriggers(),e.set(n),e.generateUIBindings(),e.delegateEvents(),e.delegateTriggers())},setState:function(){var e,t,n,u=this,a=u.view;return a.unmark("asyncRendering"),a.owner$.documentView.chunk(a.cid,tt),(e=u.delta())&&u.bindUI(),a.unmark(i),a.mark(o),t=pr(a,"regions"),n=ln(t)[K]&&a.RegionManager.establish(t),a[Ee](r),u},renderTemplate:function(){var e=this,t=e.view;return t.el.is("attached")&&t.canRenderAsync()?(t.mark("asyncRendering"),t.owner$.documentView.chunk(t.cid,en(e.setState,e))):e.setState(),e},degenerateUIBindings:function(){var e=this;return e.ui?(e.ui=e.view.ui=e.uiBindings,void delete e.uiBindings):We},generateUIBindings:function(){var e=this,t=e.uiBindings||pr(e.view,"ui");e.ui=e.ui||{};return e.uiBindings?e:(e.uiBindings=t,e)},delegateEvents:function(){var e=this,t=e.view,n=e.el,r=e.elementBindings||pr(t,"elementEvents"),i=[];return e.elementBindings&&(e.elementBindings=r),n?(e.cachedElementBindings=qn(r,function(r,o){var u=n,a=_(t.cid,e.uiBindings,o),c=a.fn=en(wt(r)?t[r]:r,t);i.push(a),u.on(a.events,a[q]||We,c,a.capture,a.group)}),e.cachedElementBindings=i,e):e},undelegateEvents:function(){var e=this,t=(e.view,e.el),n=e.cachedElementBindings;return n&&t?(nn(n,function(e){t.off(e.events,e[q]||We,e.fn)}),e.cachedElementBindings=u,e):e},delegateTriggers:function(){var e=this,t=e.view,n=e.el,r=e.elementTriggers||pr(t,"elementTriggers"),i=[];return e.elementTriggers||(e.elementTriggers=r),n?(rn(r,function(r,i){var o=_(t.cid,e.uiBindings,i),u=o.fn=tn($,[t,r]);n.on(o.events,o[q],u,o.capture,o.group)}),e.cachedElementTriggers=i,e):e},undelegateTriggers:function(){var e=this,t=(e.view,e.el),n=e.cachedElementTriggers;return e.cachedElementTriggers&&t?(nn(n,function(e){t.off(e.events.join(f),e[q],e.fn)}),e.cachedElementTriggers=u,e):e},attributes:function(){return pr(this.view,"attributes")},bindUI:function(){var e=this,t=e.uiBindings;return e.ui=e.view.ui=t?qn(t,e.el.$,e.el):{},e}});e.defineDirective(ys,W[d]),e.defineDirective(ms,P[d],function(e,t,n){e.is(M)||(e.mark(M),e.list.slice().eachCall(k),delete e.parent)}),e.defineDirective(l,U[d]),e.defineDirective(z,J,function(e,t){e.el.destroy(),e.unset();var n=e.ui;e.degenerateUIBindings(),vr(n,"destroy")}),e.undefine(function(e,t,n){var r=t[ce],i=e.directive(ys),o=i.documents,u=o.get(A,r[we]);u&&Mr("document has already been setup");var a=n.$,c=(a.document,b.extend({owner$:a})),s=L.extend({owner$:a}),f=n.scopedFactories={Region:c,View:s};u=H({$:a,owner$:a,id:r[we],el:a.returnsManager(r),parent:i,factories:f}),a.documentView=u,o.push(u),o.keep(A,u.id,u)})});var As={},xs="version",ks=xs.toUpperCase(),Es=function(t){var n,r=t.data(),i=r.postTo;if(!t.busted&&!e.isDestroyed&&r&&i&&(e[ks]===r[xs]||"*"===r[xs])&&(n=(As[r.group]||{})[r.postTo])){t.busted=Re;var o,u=r.runCount,a=n.directive(Ru);if(u){if(o=a.get(A,r.messageId),!o)return;n.response(o,r)}else n.receive(r)}};Es.app=e,e.scope(function(e){var t="%7B",n="isLate",r="documentReady",i="deferred",o="resolved",a="is"+to(i),c="group",f="postTo",d="command",l="runCount",h="flushing",p="connect",v=p+"ed",g="dis"+v,y="initialize",w="response",b="message",x=to(w),k="latest"+x,E="last"+x,T="responded",C=T+"With",O="received",D=S+T,M=S+O,N="sentMessageIndex",R="receiveReferrer",I="emitReferrer",j="buster",V="packet",B=function(e,t){return e.emitWindow.emit(t,e.get(I))},P=cr(),U="respondHandlers",H=Ye.Model.extend(to(b),{idAttribute:Ir(b+"Id"),initialize:function(){var e=this;e[U]=[],e.once(w,e.saveReceived),e.on(i,e.saveDeferred)},saveReceived:function(e){this.responseEventObject=e},saveDeferred:function(e){this.deferredEventObject=e},packet:function(e){var t=this;return arguments[0]?t.set(V,e||{}):t=wn(t.get(V)),t},defaults:function(){return{command:We+s,packet:{}}},response:function(e){var t=this;return mt(e)?(t.get(C)?e.call(t,t.responseEventObject):t.once(w,e),t):t},deferred:function(e){var t=this,n=t.get(k);return t.on(i,e),n&&n.isDeferred&&e.call(t,t.deferredEventObject),t},send:function(){return this[Z].flush()}}),W={message:Es},q=function(e){return Yt(As,function(t){return Yt(t,function(t,n,r){return e===t&&delete r[n]})})},F=function(){var e=this;e.connectDeferred&&e.connectDeferred.reject(),e.unmark(v),e[Ee](g),e.connectDeferred=Hr.Deferred()},z=function(e){var t=this,r=t.directive(ju);r.get(n)&&r.set(N,1),t.respond((e.message||e.origin).id),t.mark(v),t[Ee](v)},$=to(j),_=function(t){return{from:t.get(A),postTo:t.get(f),group:t.get(c),version:e[ks],messageId:t.directive(Ru)[K](),timeStamp:Hr.now()}},G=Ye[$]=Ye.Model.extend($,{Child:H,bounce:function(e){return this.respond(e.message.id)},connected:function(){return this.connectDeferred.success($n(arguments)),this},response:function(e,t){var n=e[ju];n&&(n.set(k,t),e.is(o)?e[Ee](i,t.packet):(n.set(C,t),e.mark(o),e[Ee](w,t.packet)))},receive:function(e){var t,n=this,r=n.receiveHistory;return e.originMessageId=e.messageId,e.messageId=r.length(),e.isDeferred=Ie,t=H(e),r.push(t),r.keep(A,e.messageId,t),n[Ee](M),n[Ee](O+m+e.command,e.packet,{message:t}),n[Ee](O),n},setGroup:function(){var e=this,t=e.get(c),n=e.get(A),r=(q(e),As[t]=As[t]||{});return r[n]=e,e},defineWindows:function(e,t){var n=this,i=n.directive(ju);e&&e.is(ae)&&(n.receiveWindow=e.on(W),n.mark(r),n.flush()),t&&t.is(ae)&&(n.emitWindow=t,i.set(f,i.get(f)||n.emitWindow.address))},defineIframe:function(e){var t,n=this;e&&e.is(fa)&&(n[fa]=e,e.is(sa)&&(t=e.window())&&n.defineWindows(We,t),e&&n.setupIframe())},setupIframe:function(){var e,n=this,r=n[fa],i=n.directive(ju),o=n.receiveWindow.element().location.href.split(t),u=(o.shift(),o.unshift(s),o.join(t)),a=xo(i.get(R)||u).origin,d=i.get(fa+"Src"),l=i.get(fa+"Content"),h={postTo:n.id,useTop:!1,useParent:!0,emitReferrer:a,id:i.get(f),group:i.get(c)};i.set(R,a),d&&(e=i.set(I,Hr.reference(d)),h[R]=e),d&&r.src(ur({url:d,hash:h})),l&&(r.data(j,encodeURI(at(h))),r.html(l),n.begin(y))},stripData:function(){var e,n,r,i=this,o=i.receiveWindow;o&&o.is(ae)&&(r=o.element().location.hash.slice(1),e=r.split(t),n=e.shift(),e.unshift(s),r=e.join(t),i.set(Bn(decodeURI(r||Nr(function(){return o.parent(fa).data(j)})))))},constructor:function(e,t,r,i){var o=this;bs(o);var a=r||{},c=o.owner$(e).item(0),s=o.owner$(t).item(0);return a.id=a.id===u?cr():a.id,o.receiveHistory=Ye.Collection(),F.call(o),a.group=P,o[L+m+"Model"](a),o.on(v,function(e){var t=o.directive(Ru).first();o.connectDeferred.fulfill(t),o.flush()}),o.on({"received:update":"bounce","received:unload":"destroy",destroy:F,"received:initialize received:connect":z,"change:group change:id":"setGroup"}),o.on(i),o.setGroup(),c&&c.is(ae)&&o.defineWindows(c),s.is(ae)?o.defineWindows(We,s):o.defineIframe(s),o.get("strip")&&o.stripData(),o.set(N,0),o[fa]?o.get(n)&&o.begin(y):o.begin(p),o},flush:function(){var e,t,n,i,o=this,a=o.directive(ju),c=a.get(N),s=o.is(v),f=a.get("initedFromPartner"),m=a.get(h);if(!o.is(r))return o;if(!f||s&&(s||!c)&&!m){for(a.set(h,Re),t=o.directive(Ru),n=t[K](),i=t.item(c);i&&c<n;)i.directive(ju).set(l,0),c||s?(i=t.item(c),c=a.get(N)+1||0,a.set(N,c),B(o,i)):(n=u,e=i.get(d),e!==p&&e!==y||B(o,i));o.set(h,Ie),o.is(v)&&t[K]()>o.get(N)&&o.flush()}return o},create:function(e,t,n){var r=this,i=r.add(Bt({command:e,packet:t},_(r),n));return i.item(0)},sync:function(e){return this.create("update").response(e).send()},respond:function(e,t){var n,r,i,o=this,u=o.receiveHistory.get(A,e);return u?(o[Ee](D),n=u.directive(ju),n.set(l,(n.get(l)||0)+1),r=Bt(Re,pr(o,"package")||{},t),i=Bt(_(o),{from:u.get(f),postTo:u.get("from"),messageId:u.get("originMessageId"),isResponse:Re,isDeferred:u.get(a),runCount:u.get(l),command:u.get(d),timeStamp:Hr.now(),packet:r,version:u.get(xs)}),n.set(E,i.timeStamp),n.set(a,Re),o.set(E,i.timeStamp),B(o,i),o[Ee](T,r),o):o},begin:function(e){var t=this,n=t.directive(Ru);return n.item(0)||t.create(e).response(function(e){z.call(t,e)}).send()}});G.receivePostMessage=Es,e.undefine(function(e,t,n){var r=e.directive(ys),i=r.documents.get(A,t[ce][we]),o=i.$,u=i.factories,a=(t.top,t.parent);u[$]=G.extend({owner$:o}),Nr(function(){for(var t,n=a;n!==t&&e.global.touch(n);)i.$(n).on(b,Es),t=n,n=n.parent})})}),e.scope(function(e){var t,n,r,i,o,a,c,s,d,l,h,p,v,m,g,y,w,b,A,x=0,k="expected",E=" not",T=" to equal ",C=" to evaluate to ",S=" an error",O=" to be thrown",D=" to be strictly equal to ",M=function(e,t,i){return function(o){var u,a={};return i&&(r=r()),u=e(r,o),u!==Re&&u!==Ie&&Mr("expectation results from the maker method must be of type boolean."),u?(g.push(a),a.success=Re):(++x,a=new Error(t.call(this,r,o)),a.message=a.toString(),a.success=Ie,y.push(a)),p.push(a),a.tiedTo=A,n=Ie,u}},N={not:{}},R=function(e){return n?Mr("expectations cannot be nested or be running at the same time"):(n=Re,r=e,N)},I=R.maker=function(e,t,n,r,i){N[e]=M(t,n,i),N.not[e]=M(Et(t),r,i)},L=(I("toThrow",function(e){var t=Ie;return Nr(e,function(){t=Re},function(){return t})},function(){return k+S+O},function(){return k+S+E+O}),I("toBe",function(e,t){return e===t},function(e,t){return k+f+at(e)+D+at(t)},function(e,t){return k+f+at(e)+E+D+at(t)}),I("toEqual",function(e,t){return gn(e,t)},function(e,t){return k+f+at(e)+T+at(t)},function(e,t){return k+f+at(e)+E+T+at(t)}),I("toEvaluateTo",function(e,t){return gn(e,t)},function(e,t){return k+f+"function"+C+at(t)},function(e,t){return k+f+"function not"+C+at(t)},Re),function(e){return function(t){e.erred=t,Dr.error(t)}}),j=function(e){var n;e.endTime=Hr.performance.now(),l.pop(),x||e.erred?(d.push(e),e.deferred.reject(e.err)):(s.push(e),e.deferred.fulfill()),x=0,U(e.afterStack),t=Ie,h[0]&&(n=h.shift(),clearTimeout(n.runId),B(n)),$()},V=function(e,t){var n=ca();return c.push(n),l.push(e),w.push([]),b.push([]),Nr(t,function(e){n.reject(e)},function(){b.pop(),w.pop(),l.pop(),n.resolve()}),n},B=function(e){t=Re,e.runId=setTimeout(function(){var n,r,i,o,u,a=e.current.slice(0);A=e,t=Re,U(e.beforeStack),i=L(e),1===e.handler[K]?(o=new Error,e.timeoutId=setTimeout(function(){Dr.error("timeout:\n"+a.join("\n")),n(o),j(e)},5e3),r=function(){e.handler(function(){clearTimeout(e.timeoutId),j(e)})},n=i,i=function(t){n(t),j(e)},u=tt):(r=e.handler,u=function(){j(e)}),e.startTime=Hr.performance.now(),Nr(r,i,u)})},P=function(e,n){var r,i;return l.push(e),r=l.slice(0),l.pop(),i={string:e,handler:n,current:r,afterStack:b.slice(0),beforeStack:w.slice(0),deferred:ca()},a.push(i),t?h.push(i):B(i),i.deferred},U=function(e){var t,n,r;for(t=0;t<e[K];t++)for(r=e[t],n=0;n<r[K];n++)r[n]()},H=function(e){w[w[K]-1].push(e)},W=function(e){b[b[K]-1].push(e)},q=function(){o=u,Hr.each(c,function(e){e.resolve()}),i=0,c=[],a=[],s=[],d=[],l=[],h=[],p=[],v=[],m=[],g=[],y=[],w=[],b=[],t=Ie,n=Ie},F=function(e,t){for(var n,r,i=t||"\n",o=e.slice(0);o.length;)n=o.shift(),r=r?r+i+n:n,i+="    ";return r},z=function(e){return{passed:g[K],failed:y[K],total:p[K],duration:e,tests:qn(p,function(e){var t=e.tiedTo,n=F(t.current);return{name:e.success?n:n+"\n",duration:0,result:e.success,message:e.message}})}},$=function(){o=void 0===o?setTimeout(function e(){var n,r,i=0,u=0;if(t)o=setTimeout(e,500);else{for(;i<a[K];i++)n=a[i],u+=n.endTime-n.startTime;y[K]&&(Dr.log("failed"),nn(y,function(e){Dr.log(e)})),r=g[K]+" successful expectations\n"+y[K]+" failed expectations\n"+p[K]+" expectations ran\n"+s[K]+" out of "+a[K]+" tests passed\nin "+u+"ms",yr=z(u),q(),mr(_,yr),Dr.log(r,yr)}},100):o},_=[],G=function(e){_.push(e)};q(),Hr.publicize({test:{afterEach:W,beforeEach:H,expect:R,describe:V,it:P,finished:G}})})}),this[Odette.where[Odette.where.length-1]].definition(this);