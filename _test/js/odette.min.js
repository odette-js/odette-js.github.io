this.Odette=function(e,t,n,r){"use strict";function i(e,t){return this.version=e,this.scoped=v,this.missedDefinitions=[],this.createdAt=b(),this}var o,u="0.0.0",a="length",c="global",s="prototype",f="touchTop",l="topAccess",d=".",h=this||window||e,p=h.document,v=!0,m=!1,g=null,w=function(){},y=function(e){return function(t){return typeof t===e}},b=function(){return+new Date},A=function(e,t){for(var n=0,r=e[a],i=[];r>n;)i[n]=t(e[n],n,e),n++;return i},x=y("string"),k=y("number"),E=y("function"),T=b(),C=function(e,t){return function(){return t.apply(e,arguments)}},S=function(e,t,n){var r,i=g;try{r=e()}catch(o){i=o,r=t?t(o):r}finally{r=n?n(i,r):r}return r},D=function(e,t){var n,r,i,u=O(e),c=O(t);return u===v?u:c===v?c:u===m&&c===m?(n=e.split(d),r=t.split(d),A(n,function(e,t){+e<+(r[t]||0)&&(i=v)}),i===o&&r[a]>n[a]&&(i=v),i?t:e):e>t?e:t},O=function(e){var t,n=e;return k(n)?n:(n+="",t=+n,t===t?t:1===n.split(d)[a])};i[s].destroy=w,i[s].wraptry=S,i[s].now=b,i[s].extend=function(e){var t,n=this;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},i[s].undefine=function(e){return this.missedDefinitions.push(e),this},i[s].parody=function(e){for(var t=this,n=0,r={},i=t[c];n<e[a];n++)r[e[n]]=C(i,i[e[n]]);return t.extend(r),t},i[s].scope=function(e,t){var n=e&&x(e)?e:this.version,r=e&&(E(e)?e:E(t)?t:g);return this[c].scope(n,r)},i[s][f]=function(){return this[c][f](h)},i[s][l]=function(){return this[f](),this[c][l]};var M,I=h[t]=h[t]||{versions:{},executionTime:T,versionOrder:[],VERSION:u,shared:v,scoped:m,wraptry:S,maxVersion:D,registerVersion:function(e,t){var r,u=this,a=u.versions[e],s=u.versions[e]=a||t||new i(e,u);return s[c]=u,u.currentVersion=e,u.defaultVersion=(r=u.defaultVersion)===o?n:D(r,n),a||u.versionOrder.push(e),s},definition:function(e,t,n){var r=this,i=r.registerVersion(e);return i.defined?r.map(i.missedDefinitions,function(e){e.call(i,t)}):(i.defined=v,n.call(i,i)),i},unRegisterVersion:function(e){var t=this,n=t.versions[e],r=t.versionOrder.indexOf(e);return-1===r?t:(n.destroy(),t.versionOrder.splice(r,1),n[c]=o,t.versions[e]=o,n)},scope:function(e,t){var n,r,i,o=this,u=o.versions;return x(e)||k(e)?(n=e,r=t):(r=e,n=o.defaultVersion),u[n]?o.currentVersion=n:o.registerVersion(n),i=u[n],E(r)?(this.wraptry(function(){r.call(o,i)}),i):i},map:A,registerScopedMethod:function(e,t){var n=this,r=t||3;n[e]=n[e]||function(){var t=0,i=arguments,o=i,u=i[a],c=i[0];if(r>u)c=n.currentVersion;else{for(o=[];t<i[a];t++)o.push(i[t]);c=o.shift()}n.applyTo(c,e,o)};return n},get:function(e){return this.versions[e]},applyTo:function(e,t,n){var r=this,i=r.get(e);return i&&i[t]&&i[t].apply(i,n)},getCurrentScript:function(e){var t=(e||p).scripts,n=e.currentScript,r=t[t[a]-1];return n||r},touchTop:function(e,n){var r,i=this,u=i;return u[l]===o&&(r=e!==e.top&&e.top?S(function(){e.top.document;return u=e.top[t]||u,v},function(){return m}):v,r&&(e.top[t]=u),u[l]=r),n||e[t]===u||A(i.versionOrder,function(e){u.registerVersion(e,i.versions[e])}),e[t]=u,u}};return(M=I.get(n))?M:(M=I.registerVersion(n),r.call(h,I,M),M)},Odette(this,"application","0.0.0",function(e,t){var n=this;e.touchTop(n)}),application.definition("0.0.0",this,function(e){"use strict";function t(e,t){return this}var n,r=window,i=r.document,o="",u=" ",a="-",c=".",s="/",f="px",l="id",d="destroy",h=N+d,p="destroying",v="toString",m="toJSON",g="prototype",w="constructor",y="current",b="name",A="type",x="finished",k="selector",E="element",y="current",T="child",C=":",S="none",D="hidden",O="before",M="change",I="target",_="origin",N=O+C,j=M+C,L="reset",R="data",P="parent",d="destroy",B="length",V="object",H="string",q="boolean",U="function",F="indexOf",W="window",G="document",z="stack",J="start",Q="stop",X="class",Y="className",K="top",Z="left",ee="right",te="bottom",ne="width",re="__elid__",ie="height",oe="item",ue="innerHeight",ae="innerWidth",ce="dispatchEvent",se="http",fe=se+"s",le="__"+w+"__",de="location",he="extend",pe="style",ve="body",me=!0,ge=!1,we=1/0,ye=2147483647,be=null,Ae={},xe=Function,ke=xe[w],Ee=Array,Te=String,Ce=Number,Se="[object ",De=(Te[g],Ee[g],xe[g],Object.keys),Oe=!{toString:be}.propertyIsEnumerable(v),Me=Ce.MAX_VALUE,Ie=Ce.MIN_VALUE,_e=(Ce.MAX_SAFE_INTEGER,Ce.MIN_SAFE_INTEGER,function(){}),Ne=function(e,t,n,r){if(!e)return-1;for(var i,o=n||e[B],u=t+(r?0:-1),a=r?-1:1;(u+=a)<o;)if(i=e[u],i!==i)return u;return-1},je=function(e,t,n,r,i){var o,u,a;if(!e)return-1;if(t!==t)return Ne(e,n,r,i);for(o=(n||0)-1,u=r||e[B],a=i?-1:1;(o+=a)<u;)if(e[o]===t)return o;return-1},Le=function(e,t,n,r,i){var o,u=n||0,a=r||e[B]-1,c=ye>=a?me:ge;if(t!==t)return Ne(e,u,a,i);if(c)for(;a>=u;){if(o=u+a>>1,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}else for(;a>=u;){if(o=(u+a)/2|0,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}return-1},Re=function(e,t,n,r,i){return(n===me&&e&&e[B]>100?Le:je)(e,t,n,r,i)},Pe=function(e){return e==be?o:e+o},Be=function(e){return(ot(e)?JSON.stringify(e):Je(e)?e.toString():e)+o},Ve=function(e,t,n,r){var i=t||function(e,t){return e>t};return i=_t(i,r),e.sort(function(e,t){var r=i(e,t);return et(r)&&(r=we),r===me&&(r=1),r===ge&&(r=0),n?-1*r:r})},He=function(e,t,n){var r=ge;return n?-1!==je(e,t):(e&&Je(e.hasOwnProperty)&&(r=e.hasOwnProperty(t)),r)},qe=function(e){return e&&e[le]&&e[le][w]||e[w]},Ue=function(e,t){var n=t;return He(n,w)&&(n=n[w]),e instanceof n},Fe=function(e){return function(t){return Xe(t)?t.split(e):t}},We=function(e){return function(t){return t.join(e)}},Ge=We(u),$e=Fe(u),ze=function(e,t){return t||(t=function(){return me}),function(n){var r=0;return typeof n===e&&t(n)&&(r=me),!!r}},Je=ze(U),Qe=ze(q),Xe=ze(H),Ye=function(e){return e===be},Ke=function(e){return e===n},Ze=function(e){return Ke(e)||Ye(e)},et=function(e){return e!==e},tt=function(e){return function(){return!e.apply(this,arguments)}},nt=ze("number",function(e){return e===e}),rt=r.isFinite,it=function(e){return nt(e)&&rt(e)},ot=ze(V,function(e){return!!e}),ut=Array.isArray,at=function(e){return!Ft(e)[B]},ct=$e("valueOf isPrototypeOf "+v+" propertyIsEnumerable hasOwnProperty toLocaleString"),st=function(e){for(var t=0,n={},r=Ft(e),i=r[B];i>t;t++)n[e[r[t]]]=r[t];return n},ft=function(e,t){var n=ct[B],r=e[w],i=Je(r)&&r[g]||ObjProto,o=w;for(He(e,o)&&!contains(t,o)&&t.push(o);n--;)o=ct[n],o in e&&e[o]!==i[o]&&!contains(t,o)&&t.push(o)},lt=function(){return+new Date},dt=(lt(),function(){return lt()-this.offset}),ht=window.performance,pt=ht?(ht.now=ht.now||ht.webkitNow||ht.msNow||ht.oNow||ht.mozNow||dt)&&ht:{now:dt},vt=function(){var e=ge,t=arguments,n=t[B],r=1,i=t[0];for(i===me&&(e=me,i=t[1],r=2),i=i||{};n>r;r++)mt(i,t[r],e);return i},mt=function(e,t,r){for(var i,o,u=0,a=Ft(t),c=a[B];c>u;u++)i=a[u],t[i]!==n&&(o=t[i],r&&ot(t[i])?(ot(e[i])||(e[i]=wn(t[i])),mt(e[i],t[i],r)):e[i]=o);return e},gt=function(e){var t=[];return Lt(e,function(e){t.push(e)}),t},wt=function(e){var t=[];return jt(e,function(e,n){jt(e,function(e,r){var i=t[r];t[r]||(i=t[r]=[]),i[n]=e})}),t},yt=function(e,t){var n={};return t?jt(e,function(e,r){n[e]=t[r]}):jt(e,function(e,t){n[e[0]]=e[1]}),n},bt=Math.pow(2,53)-1,At=function(e){var t=!!e&&e[B];return ut(e)||nt(t)&&!Xe(e)&&t>=0&&bt>=t&&!Je(e)},xt=function(e,t,n){var r=Ft(e),i=_t(t,n);return{keys:r,handler:function(t,n,r){return i(e[t],t,e)}}},kt=function(e){return function(t,n,r,i){var o,u=t,a=u,c=n,s=c,f=r,l=i;return u?(At(u)||(o=xt(a,c,f),s=o.handler,a=o.keys,f=be),e(a,s,f,l)):u}},Et=function(e){return kt(function(t,n,r,i){for(var o=t[B],u=_t(n,r),a=i||(e>0?0:o-1);a>=0&&o>a;a+=e)if(u(t[a],a,t))return a;return-1})},Tt=Et(1),Ct=Et(-1),St=function(e){return-1!==e&&e===e&&e!==n&&e!==be&&e!==ge&&e!==me},Dt=function(e){return function(t,n,r,i){var o=e(t,n,r,i);return St(o)?t[o]:void 0}},Ot=Dt(Tt),Mt=Dt(Ct),It=function(e,t){return arguments[B]<3?_t(e,t):Nt(e,xn(arguments).slice(1))},_t=function(e,t){return t?e.bind(t):e},Nt=function(e,t){return e.bind.apply(e,t)},jt=function(e,t,n,r){var i,o,u,a,c,s;if(e){if(c=0,a=e[B],s=a%8,u=parseInt(a/8,10),0>r&&(c=a-1),i=r||1,o=_t(t,n),s>0)do o(e[c],c,e),c+=i;while(--s>0);if(u)do o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i;while(--u>0);return e}},Lt=kt(jt),Rt=function(e){return function(t,n,r){return e(t,n,arguments[B]<3?be:r,-1)}},Pt=Rt(jt),Bt=Rt(Lt),Vt=function(e){var t,r=e+o;return r=r.trim(),r===ge+o&&(t=ge),r===me+o&&(t=me),t===n&&(t=e),t},Ht=function(e){return parseFloat(e)||0},qt=function(e){return parseInt(e,10)||0},Ut=function(e){var t,n=[];for(t in e)n.push(t);return Oe&&ft(e,n),n},Ft=function(e){var t,n=[];if(!e||!ot(e)&&!Je(e))return n;if(De)return De(e);for(t in e)He(e,t)&&n.push(t);return Oe&&ft(e,n),n},Wt=function(e,t,n){var r,i,o,u,a=this,c=Xe(e);if(e===ge)return vt(a[g],t),a;c||(t=e),o=He(t,w),t&&o&&(r=t[w]),c?(i=a,r&&(i=r),r=new ke("parent","return function "+e+"(){return parent.apply(this,arguments);}")(i)):r=r||new ke("parent","return "+a.toString())(a),r[he]=Wt;var s=function(){this[w]=r};return s[g]=a[g],r[g]=new s,t&&vt(r[g],t),u=r,r=Gt(u),r.__super__=a,u[g][le]=r,r},Gt=function(e){var t=function(t,n,r,i,o,u){return t instanceof e?t:new e(t,n,r,i,o,u)};return t.isInstance=e.isInstance=function(t){return Ue(t,e)},t[w]=e,t[he]=e[he]=function(){return Wt.apply(e,arguments)},t},$t=function(e){var t;return function(){return t?void 0:(t=1,e.apply(this,arguments))}},zt=function(e,t,r,i){if(e===t)return 0!==e||1/e===1/t;if(e===be||e===n||t===n||t===be)return e===t;var u=Pe.call(e);if(u!==Pe.call(t))return ge;switch(u){case Se+"RegExp]":case Se+"String]":return o+e===o+t;case Se+"Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case Se+"Date]":case Se+"Boolean]":return+e===+t}var a=u===Se+"Array]";if(!a){if(!ot(e)||!ot(t))return ge;var c=e[w],s=t[w];if(c!==s&&!(Je(c)&&c instanceof c&&Je(s)&&s instanceof s)&&w in e&&w in t)return ge}for(var f=r[B];f--;)if(r[f]===e)return i[f]===t;if(r.push(e),i.push(t),a){if(f=e[B],f!==t[B])return ge;for(;f--;)if(!zt(e[f],t[f],r,i))return ge}else{var l,d=Ft(e);if(f=d[B],Ft(t)[B]!==f)return ge;for(;f--;)if(l=d[f],!He(t,l)||!zt(e[l],t[l],r,i))return ge}return r.pop(),i.pop(),me},Jt=function(e,t){return zt(e,t,[],[])},Qt=function(e){return yn(e,function(e){return e})},Xt=function(e){return mn(Be(e))},Yt=function(e,t,n){var r={},i=ut(e),o=Je(t);return Lt(e,function(u,a){i?!o||n?r[u]=t:r[u]=t(u):r[a]=t(e[a],a)}),r},Kt=function(e){return vt(ir,e)},Zt=r.Image,en=function(e,t){var n=new Zt;return e=Ln(e),t&&(n.onload=function(){ir.unshift(arguments,e),t.apply(this,arguments)}),n.src=e,n},tn=function(e){return function(t){return e(t)}},nn={first:tn},rn=function(){var e=[];return e.concat.apply(e,yn(arguments,tn(xn)))},on=function(){return $n(arguments,function(e,t){return jt(t,function(t){-1===Re(e,t)&&e.push(t)}),e},[])},un=function(e,t){var n=e[B],r=t%n,i=e.splice(r);return e.unshift.apply(e,i),e},an=function(e,t){var n=e[B],r=t%n,i=e.splice(0,n-r);return e.push.apply(e,i),e},cn=function(e,t){var n=Ft(t),r=Object(e);return!Ot(n,function(e){return t[e]===r[e]&&e in r?void 0:me})},sn=function(e){return function(t){return cn(t,e)}},fn=function(e,t){return yn(e,function(e){return Un(e,t)})},ln=function(e,t,n){var r=At(e),i=_t(t,n),o=0;return $n(e,function(e,t,n,u){return o++,i(t,n,u)&&(r?e.push(t):e[n]=t),e},r?[]:{})},dn=function(e,t){return ln(e,sn(t))},hn=function(e,t){return Ot(e,sn(t))},pn=function(e,t){return Mt(e,sn(t))},vn=function(e,t){return ln(e,tt(sn(t)))},mn=function(e){var t,r=e;return Xe(r)&&(r=r.trim(),"{"===r[0]&&"}"===r[r[B]-1]||"["===r[0]&&"]"===r[r[B]-1]?Zn(function(){r=JSON.parse(r)},Yn.error):"true"===r?r=me:(t=+r,t===t?r=t:"false"===r?r=ge:"null"===r?r=be:"undefined"===r?r=n:"function"===r.slice(0,8)&&(r=new ke("return "+r)()))),r},gn=function(e,t){var n,r,i,o=t.toString();return Je(t)&&(n=o.split("{"),o=n.shift(),o=(o=n.join("{")).slice(0,o[B]-1)),r=ke.bind(e),i=new r("return "+o),(r=_t(i,e))()},wn=function(e){return At(e)?[]:{}},yn=function(e,t,n){var r=wn(e),i=_t(t,n);return e?Lt(e,function(t,n){r[n]=i(t,n,e)})&&r:r},bn=function(e){return 1===e[B]?[e[0]]:Array.apply(be,e)},An=function(e){return e?$n(e,function(e,t){return e.push(t),e},[]):[]},xn=function(e,t){return At(e)?ut(e)?e:bn(e):Xe(e)?e.split(Xe(t)?t:o):t===me?An(e):[e]},kn=function(e,t,n){var r=!!t;return $n(e,function(e,t){var i;return At(t)?(i=r?kn(t,r,n):t,e.concat(i)):(n&&n(t),e.push(t),e)},[])},En=function(e,t,n){return kn(At(e)?e:An(e),t,n)},Tn=function(e,t){var n=[];return n.concat.apply(n,yn(e,t))},Cn=function(e,t,r){return e===e&&(r!==n&&(e=r>=e?e:r),t!==n&&(e=e>=t?e:t)),e},Sn=function(e){return Cn(e,MIN_SAFE_VALUE,MAX_SAFE_VALUE)},Dn=function(e){return Me>e&&e>Ie},On=function(e){var t=e%1;return e===e?t?e-t:e:0},Mn=function(e,t){var n;return On((n=+e)==e?t?n:Sn(n):0)},In=function(e){return nt(e)&&Dn(e)},_n=function(e,t,n){var r;return function(){var i=this,o=arguments,u=n&&!r,a=function(){r=be,n||e.apply(i,o)};return clearTimeout(r),r=setTimeout(a,t),u&&e.apply(i,o),r}},Nn=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,u=lt(),a=arguments;r&&r+t>u?(clearTimeout(i),i=setTimeout(function(){r=u,e.apply(o,a)},t)):(r=u,e.apply(o,a))}},jn=function(e,t,n){var r;return function(){var t=n||this,i=xn(arguments);return clearTimeout(r),r=setTimeout(function(){e.apply(t,i)})}},Ln=function(e){var t=e.url,r=[];return ot(e)?(Lt(e.query,function(e,t){e!==n&&(e=encodeURIComponent(Be(e)),r.push(t+"="+e))}),r[B]&&(t+="?"),t+=r.join("&"),e.hash&&(e.hash=ot(e.hash)?encodeURI(Be(e.hash)):hash,t+="#"+e.hash)):t=e,t},Rn=function(e,t,n){var r,i,o=qe(e);n=n||1;do i=o[g],r=i[t],o=qe(i);while(--n>0&&o&&it(n));return r},Pn=function(){var e="crypto"in r&&"getRandomValues"in crypto,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i,o,u;return e&&(i=r.crypto.getRandomValues(new Uint32Array(1)),i===n&&(e=ge)),e||(i=[Math.floor(1e10*Math.random())]),i=i[0],o=i%16,u="x"===t?o:3&o|8,u.toString(16)});return e?t:"SF"+t},Bn=function(e,t,n,r){var i,o=ot(e),u=It(n,r);return o&&(i=Ft(e)),function(n,r,a,c,s,f){o?jt(i,function(t){u(t,e[t],n,r,a,c,s,f)}):u(e,t,n,r,a,c,s,f)}},Vn=function(e,t,n,r){var i=r?It(n,r):n,o=ot(e)?e:ge;o?Lt(o,Hn(i)):i(e,t)},Hn=function(e){return function(t,n,r){e(n,t,r)}},qn=function(e,t,n){var r;return nt(t)||(t=1),r=Math.pow(n||10,t),parseInt(r*e,10)/r},Un=function(e,t,n,r){return e==be?e:Je(e[t])?e[t](n):ot(e)?e[t]:e},Fn=Math,Wn=function(e){return function(t){return Fn[e].apply(Fn,t)}},Gn=function(e){var t=function(t,n,r,i,o,u){for(var a;o>=0&&u>o;o+=e)a=i?i[o]:o,r=n(r,t[a],a,t);return r};return function(n,r,i,o){var u=!At(n)&&Ft(n),a=(u||n)[B],c=e>0?0:a-1;return arguments[B]<3&&(i=n[u?u[c]:c],c+=e),t(n,r,i,u,c,a)}},$n=Gn(1),zn=Gn(-1),Jn=function(e,t){return $n(e,function(n,r,i){return t(r,i,e)&&n.push(r),n},[])},Qn=r.console||{},Xn=Qn.log||_e,Yn=vt(Yt($e("trace log dir error clear"),function(e){var t=Qn[e]||Xn;return function(){return t.apply(Qn,arguments)}}),{exception:function(e){throw new Error(e&&e.message||e)},assert:function(e,t){e||Kn(t)}}),Kn=Yn.exception,Zn=function(e,t,n){var r,i=be;try{r=e()}catch(o){i=o,r=t?t(o):r}finally{r=n?n(i,r):r}return r},er=function(e,t){return t===n?!e:!!t},tr=function(e){return function(){return e}},nr=(tr.first=function(e){return e},function(e,t){return function(){return t.call(this,e.apply(this,arguments))}}),rr={number:nt,string:Xe,object:ot,nan:et,array:ut,"function":Je,"boolean":Qe,"null":Ye,length:In,validInteger:Dn,arrayLike:At,instance:Ue},ir=e._={is:rr,passes:nn,performance:pt,constructorWrapper:Gt,stringifyQuery:Ln,intendedObject:Vn,intendedIteration:Bn,parseDecimal:Ht,flatten:En,gather:Tn,isArrayLike:At,isInstance:Ue,hasEnumBug:Oe,roundFloat:qn,factories:Ae,fullClone:Xt,toBoolean:Vt,stringify:Be,splitGen:Fe,gapSplit:$e,values:gt,zip:wt,object:yt,wraptry:Zn,toString:Pe,throttle:Nn,debounce:_n,defer:jn,protoProperty:Rn,protoProp:Rn,sortedIndexOf:Le,indexOfNaN:Ne,toInteger:Mn,indexOf:je,joinGen:We,toArray:xn,isEqual:Jt,gapJoin:Ge,isArray:ut,isEmpty:at,returns:tr,isBoolean:Qe,invert:st,extend:vt,noop:_e,toggle:er,reduce:$n,foldl:$n,foldr:zn,now:lt,some:Jn,map:yn,result:Un,isUndefined:Ke,isFunction:Je,isObject:ot,isNumber:nt,isFinite:it,isString:Xe,isBlank:Ze,isNull:Ye,isNaN:et,eachProxy:kt,exports:Kt,allKeys:Ut,evaluate:gn,parse:mn,merge:mt,fetch:en,clone:Qt,bind:It,bindTo:_t,bindWith:Nt,duff:jt,duffRight:Pt,eachRight:Bt,iterates:xt,sort:Ve,wrap:Yt,uuid:Pn,keys:Ft,once:$t,each:Lt,flows:nr,baseClamp:Cn,has:He,negate:tt,pI:qt,createPredicateIndexFinder:Et,findIndex:Tt,findLastIndex:Ct,validKey:St,finder:Dt,find:Ot,findLast:Mt,console:Yn,min:Wn("min"),max:Wn("max"),arrayLikeToArray:bn,objectToArray:An,math:Yt($e("E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos acosh asin asinh atan atan2 atanh cbrt ceil clz32 cos cosh exp expm1 floor fround hypot imul log log1p log2 log10 pow random round sign sin sinh sqrt tan tanh trunc"),function(e){return Math[e]})};Ae.Extendable=Gt(t),e.scope(function(e){e.shims=function(e){var t=function(){function e(e){return 10>e?"0"+e:e}function t(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,r){var c,s,f,l,d,h=o,p=r[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof a&&(p=a.call(r,e,p)),typeof p){case"string":return t(p);case"number":return it(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(o+=u,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p[i],c=0;l>c;c+=1)d[c]=n(c,p)||"null";return f=0===d[i]?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+h+"]":"["+d.join(",")+"]",o=h,f}if(a&&"object"==typeof a)for(l=a[i],c=0;l>c;c+=1)"string"==typeof a[c]&&(s=a[c],f=n(s,p),f&&d.push(t(s)+(o?": ":":")+f));else for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(f=n(s,p),f&&d.push(t(s)+(o?": ":":")+f));return f=0===d[i]?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+h+"}":"{"+d.join(",")+"}",o=h,f}}var r=this,i="length";if(r.performance=r.performance||{},r.performance.now=function(){var e=r.performance;return e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow||function(){return(new Date).getTime()}}(),!JSON){"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return it(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var o,u,a,c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var c;if(o="",u="","number"==typeof r)for(c=0;r>c;c+=1)u+=" ";else"string"==typeof r&&(u=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t[i]))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(e,t){function n(e,r){var i,o,u=e[r];if(u&&"object"==typeof u)for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o=n(u,i),void 0!==o?u[i]=o:delete u[i]);return t.call(e,r,u)}var r;if(e=String(e),c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=Function.prototype.constructor("("+e+")"),"function"==typeof t?n({"":r},""):r;throw new SyntaxError("JSON.parse")})}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),r.matchMedia=r.matchMedia||function(){var e=r.styleMedia||r.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in r&&r.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return t=t||"all",{matches:e.matchMedium(t),media:t}}}()};t.call(e)},e.shims(r)});var or=function(e){var t={};return function(n){return He(t,n)||(t[n]=e(n)),t[n]}},ur=function(e,t){var n={};return function(r,i){var o;return i=i||t,(o=n[i]=n[i]||or(e(i)))(r)}},Te=ir.extend(Yt($e("toLowerCase toUpperCase trim"),function(e){return or(function(t){return t[e]()})}),Yt($e("match search"),function(e){return ur(function(t){return function(n){return n[e](t)}})})),ar=function(e){return function(){var t=xn(arguments),n=this;return yn(t[0],function(r){return t[0]=r,e.apply(n,t)})}},cr=function(e,t,n){var r=e.slice(t[B]),i=r[0];return n&&(i=r[0].toLowerCase()),r=i+r.slice(1)},sr=ar(cr),fr=function(e,t,r,i){var o=t+e;return r!==n&&(o=t+(i||a)+e,o=r?pr(o,i):mr(o,i)),o},lr=ar(fr),dr=function(){var e={};return function(t){var n=e[t];return n||(e[t]=n=new Function[w]("return "+t)),n()}}(),hr=function(){var e={},t=0;return function(n){var r;return n?(e[n]=e[n]||0,++e[n],r=e[n]):(++t,r=t),n?n+r:r}}(),pr=ur(function(e){return function(t){var n,r,i;if(Xe(t)){for(t[0]===e&&(t=t.slice(1)),r=t.split(e),n=r[B]-1;n>=1;n--)r[n]&&(r[n]=vr(r[n]));i=r.join(o)}return i}},a),vr=or(function(e){return e[0].toUpperCase()+e.slice(1)}),mr=ur(function(e){return function(t){return t.replace(/([a-z])([A-Z])/g,"$1"+e+"$2").replace(/[A-Z]/g,function(e){return e.toLowerCase()})}},a),gr=function(e){return mr(e,"_")},wr=ur(function(e){var t={},n={},r=[],i=$e(e);i.sort(function(e,i){var o=e[B],u=i[B],a=ir.max([-1,ir.min([1,o-u])]);return n[e]=n[i]=me,t[o]||(t[o]=me,r.push(o)),t[u]||(t[u]=me,r.push(u)),-1*(0===a?e>i?-1:1:a)});return r.sort(function(e,t){return-1*ir.max([-1,ir.min([1,e-t])])}),function(e){for(var t,i=0,u=(e+o).trim(),a=u[B];r[i];){if(r[i]<a&&(t=u.substr(a-r[i],a),n[t]))return t;i++}return ge}}),yr=$e("px em rem ex in cm % vh vw pc pt mm vmax vmin"),br=function(e){return wr(e,yr)},Ar=or(function(e){var t=!1;return(0===e.indexOf(se)&&e.split("//")[B]>=2||0===e.indexOf("//"))&&(t=!0),t}),xr=or(function(e){var t=o,n=Re(e,"#")+1;return n&&(t=e.slice(n-1)),t}),kr=function(e,t,n){return e[n||0]===t},Er=kr,Tr=function(e){var t,n,i,u,a,c=0,s=r.decodeURIComponent;for(e||(e=r[de].search),i=e.slice(1).split("&"),t={};c<i[B];c++)n=i[c].split("="),n[0]&&(n[B]<2&&n[PUSH](o),u=n[1],u=s(u),"'"!==u[0]&&'"'!==u[0]||(u=u.slice(1,u[B]-1)),u===me+o&&(u=me),u===ge+o&&(u=ge),Xe(u)&&(a=+u,a==u&&a+o===u&&(u=a)),t[s(n[0])]=u);return t},Cr=function(e){return e.toString=function(){return e.href},e.replace=function(t){var n=Mr(t);return n.previous=e,n},e},Sr=or(function(e){var t;return e&&(Xe(e)||(e=e.referrer),Xe(e)&&(e+=s,t=e.match(/^http?:\/\/.*?\//),t&&(t=t[0].slice(0,t[0][B]-1)))),t||o}),Dr=[se,fe,"file","about","javascript"],Or={"http:":me,"https:":me},Mr=function(e,t,n){var r,i,u,a,f,l,d,h=n||window,p=e||o,v=o,m=o,g=o,w=o,y=o,b=o,A=je(p,"?")+1,x={},k=Dr[B],E=p.split(C),T=h.location.protocol,S=E[B]-1&&(f=E.shift()),D=(S&&Ot(Dr,function(e){return e===f})||T.slice(0,T[B]-1))+C;if(A?(v=p.slice(A-1),m=xr(v)):m=xr(p),A&&(v=v.split(m).join(o),x=Tr(v),p=p.slice(0,A-1)),p[0]===s&&p[1]===s)D=h.location.protocol;else{for(;k--&&!D;)p.slice(0,Dr[k][B])===Dr[k]&&(D=Dr[k]);D||(D=se)}if(E=p.split(C),E[B]-1){for(f=E.shift(),d=E.join(C).split(s);!g;)g=d.shift();a=g.split(C),b=a.shift(),y=a[B]?a[0]:o,r=E.shift(),p=E.join(C).slice(g[B])}else g=h.location.host,y=h.location.port,b=h.location.hostname;return l=h.location.pathname.slice(1),p[0]===s&&p[1]!==s&&(p=p.slice(1),l=o),p[0]===c&&(p=p.slice(2)),w=s+l+p,u=D+(Or[D]?s+s:o)+b+(y?C+y:o),i=u+w+(v||o)+(m||o),Cr({passed:e,port:y,hostname:b,pathname:w,search:v.slice(1),host:g,hash:m.slice(1),href:i,protocol:D.slice(0,D[B]-1),friendlyProtocol:!Or[D],origin:u,searchObject:x})},Ir=60,_r=7,Nr=30,jr=24,Lr=1e3,Rr=365,Pr=Lr*Ir,Br=Pr*Ir,Vr=Br*jr,Hr=Br*_r,qr=Br*Nr,Ur=Br*Rr,Fr={ms:1,secs:Lr,s:Lr,mins:Pr,hrs:Br,days:Vr,wks:Hr,mnths:qr,yrs:Ur},Wr=[],Gr=$n(Fr,function(e,t,n){return Wr.push(n),e[n]=function(e){return e*t},e},{}),$r=Fe(","),zr=$e("sunday monday tuesday wednesday thursday friday saturday"),Jr=$e("january feburary march april may june july august september october november december"),Qr=Yt(Jr,me),Xr=or(function(e){var t=0;return jt($r(e+o),function(e){var n=e,r=wr(n,Wr),i=+n.split(r||o).join(o),u=Gr[r];i===i&&(u&&(i=u(i)),t+=i)}),t});ir.exports({monthIndex:Qr,months:Jr,weekdays:zr,customUnits:wr,uniqueId:hr,cacheable:or,categoricallyCacheable:ur,deprefix:cr,deprefixAll:sr,prefix:fr,prefixAll:lr,upCase:vr,unCamelCase:mr,spinalCase:mr,camelCase:pr,snakeCase:gr,reference:Sr,string:Te,units:br,baseUnitList:yr,isHttp:Ar,parseHash:xr,parseUrl:Mr,parseSearch:Tr,parseObject:dr,time:Xr,startsWith:Er,itemIs:kr}),e.scope(function(e){var t=e._,r=t.factories,i="StatusMarker",o="statuses",u={creation:{},destruction:{}},a=tr(be),c=function(){return{}},s=function(e,t,n){return n},f=function(e,t){return function(n,r,i){return this.directive(e)[t](n,r,i)}},l=function(e,t){return function(n){var r=this,i=r.directive(e);return jt(n,i[t],i),r}},d=function(e,t,n){var r=Je(n);return function(i,o,u,a,c,s){var f=this;return f[e]?f[e][t](i,o,u,a,c,s):r?n(f):n}},h=function(e,t,n){var r;!Xe(e)&&Kn({message:"directives must be registered with a string for a name"})||!Je(t)&&Kn({message:"directives must be registered with at least a create function"});return u.creation[e]=(r=u.creation[e])||t,u.destruction[e]=u.destruction[e]||n,!r},p=function(t,n,r,i){var o=i||s,a=r||s;u.creation[t]||Kn({message:"directives must exist before they can be extended"});return e.defineDirective(n,function(e,n,r){var i=new u.creation[t](e,n,r);return new a(e,n,i)},function(e,n,r){var i=u.destruction[t](e,n,r);return o(e,n,i)})},v=(r.Directive=r.Extendable.extend("Directive",{mark:f(i,"mark"),unmark:f(i,"unmark"),remark:f(i,"remark"),is:d(i,"is"),directive:function(e){var t,n,r=this;return(n=r[e])?n:(t=r["directive:creation:"+e]||u.creation[e]||c,r[e]=new t(r,e),r[e])},directiveDestruction:function(e){var t=(u.destruction[e]||a)(this[e],this,e);return delete this[e],t}}),r.Extendable.extend(i,{constructor:function(){return this[o]={},this},has:function(e){return this[o][e]!==n},mark:function(e){var t=this[o][e];return this[o][e]=me,t!==me},unmark:function(e){var t=this[o][e];return this[o][e]=ge,t!==ge},remark:function(e,t){var r=this[o][e],i=this[o][e]=t===n?!this[o][e]:!!t;return r!==i},is:function(e){return!!this[o][e]},isNot:function(e){return!this[o][e]}}));h(i,v[w]),e.defineDirective=h,e.extendDirective=p,t.exports({directives:{parody:f,checkParody:d,iterate:l}})});var Yr=ir.directives,Kr="Collection",Zr="reversed",ei=function(e,t,n){return jt(e,function(e){Un(e,t,n)})},ti=function(e,t,n){return yn(e,function(e){return Un(e,t,n)})},ni=function(e,t,n){return jt(e,function(e){Un(e,t,n)},be,-1)};e.scope(function(e){var t={message:"object must not be null or undefined"},r={message:"objects in sorted collections must have either a number or string for their valueOf result"},i={message:"list cannot be modified while it is being iterated over"},a=function(e){return function(e,t,n,r,i){var o=0;return jt(t,function(t){o+=c(e,t,n,r,i)}),o===e[B]}},c=function(e,t,n,r,i){var o=je(e,t,n,r,i);return o+1&&f(e,o),o+=1,!!o},s=a(c),f=function(e,t){return e.splice(t,1)[0]},d=function(e,t,n,r,i){var o=0,u=je(e,t,n,r,i);return-1===u&&(o=e.push(t)),!!o},h=a(d),p=function(e,t,n){var r=e[B];return e.splice(n||0,0,t),r!==e[B]},v=function(e,t,n){var r=n||_e,i=[],o=t||0,u=nt(o),a=At(o);return 0>o&&(u=!1),e[B]?(u?(i=[e[o]],r(i[0])):a?jt(o,function(t){var n=e[t];i.push(n),r(n)}):(i=[e[0]],r(i[0])),i):i},y=function(e,t,n,r){var i,o,u;for(t==be&&(t=e||0,e=0),it(e)&&nt(e)||(e=0),n=+n||1,i=Math.max(Math.ceil((t-e)/n),0)+(+r||0),o=[],u=0;i>u;)o[u]=e,u++,e+=n;return o},b=function(e,t,n,r,i){var o,u,a,c;if(r>=i||!nt(r)||!nt(i)||!it(r)||!it(i))return e;for(c=n||this,o=_t(t,c),i=Math.abs(i),a=r;i>a;)u=be,e[B]>a&&(u=e[a]),o(u,a,e),a++;return e},A=function(e,t,n,r){return b(e,t,n,0,r)},x=function(e,t,n,r){return b(e,t,n,r,e[B])},k=function(e,t,n,r){for(var i,o,u,a=n||0,c=r||e[B]-1;c>=a;)if(i=(a+c)/2|0,o=e[i],t>o)a=i+1;else{if(!(o>t))return i;c=i-1}return u=~~c},E=function(e,t){return function(){return new this.__constructor__(e.apply(t||this,arguments))}},T="Registry",C=Ae[T]=Ae.Directive.extend(T,{constructor:function(){return this.reset(),this},get:function(e,t){var n=this.register[e];return n&&n[t]},keep:function(e,t,r){var i=this.register,o=i[e]=i[e]||{};return r===n?delete o[t]:o[t]=r,this},ungroup:function(e){return this.group(e,{})},group:function(e,t){var n=this.register;return n[e]=t||n[e]||{},n[e]},swap:function(e,t,n){var r=this.get(e,t);return this.keep(e,t,n),r},drop:function(e,t){return this.swap(e,t)},reset:function(e,t){var n=this.register;return this.register=e||{},n}}),S=$e("eq pluck where whereNot map results filter cycle uncycle flatten gather"),D={each:jt,duff:jt,forEach:jt,eachCall:ei,eachRight:Pt,duffRight:Pt,forEachRight:Pt,eachCallRight:ni},O=(Ft(D),$e("add")),M=$e("insertAt remove removeAt"),I=$e("pop shift splice"),_=$e("reverse"),N=$e("push unshift"),j=$e("join"),L=$e("count countTo countFrom merge"),R=$e("foldr foldl reduce"),P=$e("find findLast findWhere findLastWhere"),V=$e("indexOf"),H=R.concat(P),q=function(e){return function(t,n,r,i,o,u){var a,c=this;return++c.iterating,a=e(c,t,n,r,i,o,u),--c.iterating,a}},U=vt({seeker:function(e,t){var n=this,r=_t(e,t);return ir.duffRight(n.unwrap(),function(e,t,i){r(e,t,i)&&n.removeAt(t)})},slice:function(e,t){return new G(this.unwrap().slice(e,t))}},Yt(j,function(e){return function(t){return this.unwrap()[e](t)}}),Yt(V.concat(O),function(e){return function(t,n,r,i,o){var u=this;return ir[e](u.unwrap(),t,n,r,i,o)}}),Yt(N,function(e){return function(t){var n=ut(t)?t:arguments,r=this.unwrap();return r[e].apply(r,n)}}),Yt(I,function(e){return function(t,n,r,o,u,a){var c=this;return c.iterating?Kn(i):c.unwrap()[e](t,n,r,o,u,a)}}),Yt(M,function(e){return function(t,n,r,o,u){var a=this;return a.iterating?Kn(i):ir[e](a.unwrap(),t,n,r,o,u)}}),Yt(_,function(e){return function(){var t=this;return t.remark(Zr,!t.is(Zr)),t.unwrap()[e](),t}}),Yt(D,function(e){return q(function(t,n,r){var i=t.unwrap(),o=n,u=arguments[B]>1?r:t;return e(i,o,u),t})}),Yt(L,function(e){return q(function(t,n,r,i){return ir[e](t.unwrap(),n,t,r,i),t})}),Yt(S,function(e){return q(function(t,n,r,i){return new G[w](ir[e](t.unwrap(),n,r,i))})}),Yt(H,function(e){return q(function(t,n,r,i){return ir[e](t.unwrap(),n,r,i)})})),F=ir.exports({eachCall:ei,eachCallRight:ni,filter:ln,matches:sn,results:ti,add:d,removeAll:s,addAll:h,insertAt:p,removeAt:f,remove:c,cycle:un,uncycle:an,concat:rn,pluck:fn,where:dn,findWhere:hn,findLastWhere:pn,range:y,count:b,countTo:A,countFrom:x,whereNot:vn,eachRight:Bt,duffRight:Pt,flatten:En,eq:v}),W="Collection",G=Ae.Collection=Ae.Directive.extend(vr(W),vt({get:Yr.parody(T,"get"),keep:Yr.parody(T,"keep"),drop:Yr.parody(T,"drop"),swap:Yr.parody(T,"swap"),constructor:function(e){return this.reset(e),this},call:function(e){return this.each(function(t){t(e)}),this},obliteration:function(e,t){return Pt(this.unwrap(),e,t===n?this:t),this},empty:function(){return this.reset(),this.directive(T).reset(),this},reset:function(e){var t=this;t.unwrap()||[];return t.iterating=t.iterating?Kn(i):0,t.items=e==be?[]:G.isInstance(e)?e.unwrap().slice(0):xn(e),
t.unmark(Zr),t},unwrap:function(){return this.items},length:function(){return this.unwrap()[B]},first:function(){return this.unwrap()[0]},last:function(){var e=this.unwrap();return e[e[B]-1]},item:function(e){return this.unwrap()[e||0]},has:function(e){return-1!==this.indexOf(e)},sort:function(e){var t=this;return Ve(t.unwrap(),e,t.is(Zr),t),t},toString:function(){return Be(this.unwrap())},toJSON:function(){return yn(this.unwrap(),function(e){return Un(e,m)})},copy:function(){return this.items.slice(0)},range:E(y),concat:E(function(){var e=this.unwrap();return e.concat.apply(e,yn(arguments,function(e){return G(e).unwrap()}))})},U)),$=(e.defineDirective(W,function(){return new G[w]}),e.defineDirective(W,function(){return G()}),Ae.SortedCollection=G.extend("Sorted"+W,{constructor:function(e,t){var n=this;return G[w].call(n),e&&!t&&n.load(At(e)?e:[e]),n},reverse:function(){var e=this;return e.remark(Zr,!e.is(Zr)),e.sort(),e},closestIndex:function(e){return k(this.unwrap(),e)},closest:function(e){var t,r=this.unwrap();return-1===(t=k(r,e))?n:r[t]},validIDType:function(e){return nt(e)||Xe(e)},indexOf:function(e,t,n){return Re(this.unwrap(),e,me)},load:function(e){var t=this;return ut(e)?jt(e,t.add,t):t.add(e),t},add:function(e){var n,i=this,o=(e==be&&Kn(t),e&&e.valueOf()),u=(n=i[T])&&i.get(l,o);return u?ge:(F=!i.validIDType(o)&&Kn(r),i.insertAt(e,i.closestIndex(o)+1),(n||i.directive(T)).keep(l,o,e),me)},remove:function(e,r){var i=this,o=(e==be&&Kn(t),e&&e.valueOf());return e==be||i.get(l,o)==be?ge:(i.removeAt(r===n?i.indexOf(e):r),i.drop(l,o),me)},pop:function(){var e=this.length();return e?this.remove(this.last(),e-1):void 0},shift:function(){return this.remove(this.first(),0)}})),z=Ae.StringObject=Ae.Extendable.extend("StringObject",{constructor:function(e,t){var n=this;return n.value=e,n.parent=t,n.isValid(me),n},toggle:function(e){this.isValid(er(this.isValid(),e))},isValid:function(e){var t=this;return arguments[B]?(t.valid!==e&&(t.parent.increment(),t.valid=e),t):t.valid},valueOf:function(){return this.value},toString:function(){var e=this,t=e.value,r=e.parent;return r.indexer===n?t:e.isValid()?(t=r.indexer?r.delimiter+t:t,++r.indexer,t):(e.parent.drop(l,t),e.parent.removeAt(r.indexer),o)}}),J="delimited";Ae.StringManager=$.extend("StringManager",{Child:z,add:function(e){var t=this,n=t.get(l,e);return e&&(n?n.isValid(me):(n=new t.Child(e,t),t.unwrap().push(n),t.keep(l,e,n))),n},emptyCollection:G[w][g].empty,empty:function(){var e=this;return e.emptyCollection(),e.current(o),e},increment:function(){return this.changeCounter=this.changeCounter||0,this.changeCounter++,this},decrement:function(){return this.changeCounter=this.changeCounter||0,this.changeCounter--,this},remove:function(e){var t=this,n=t.get(l,e);return e&&n&&n.isValid(ge),t},toggle:function(e,t){var r=me,i=this,o=i.get(l,e);o||(r=ge,o=i.add(e)),t===n?r&&o.toggle():o.toggle(t)},join:function(e){var t,r,i,u=this,a=(e||o)+o,c=u.directive(T);return u.changeCounter=u.changeCounter||0,u.changeCounter&&(u.changeCounter=0,c.group(J,{})),(i=c.get(J,a))!==n?i:(t=u.unwrap().slice(0),u.indexer=0,u.delimiter=a,r=t.join(o),u.current(a,r),delete u.indexer,delete u.delimiter,r)},generate:function(e){var t,n=o,r=this,i=e;return r.changeCounter=r.changeCounter||0,!r.changeCounter&&(t=r.current(i))?t:(r.current(i,n=r.join(i)),n)},current:function(e,t){var r,i=this;return 1===arguments[B]?(r=i.get(J,e))===n?i.join(e):r:(i.keep(J,e,t),i)},ensure:function(e,t){var r=this,i=e,o=t===n?u:t,a=ut(i),c=a?i.join(o):i;return r.current(o)===c?r:(r.load(a?i:Xe(i)?i.split(o):ge),r.current(o,c),r)},refill:function(e){var t=this,n=e;return t.empty(),n&&t.load(n),t.increment(),t}});e.defineDirective(T,C[w])}),e.scope(function(e){var t=function(e,t){return this.hash[e]&&this.hash[e](t)},n=function(e){return function(){return e}},r=function(e,t){var r=this.hash;return Vn(e,t,function(e,t){r[e]=It(Je(t)?t:n(t),be)}),this};e.defineDirective("Messenger",function(){return{hash:{},reply:r,request:t}})});var ce="dispatchEvent",ri="EventManager",ii="stopListening",oi="talkerId",ui="listeningTo",ai="l",ci="handlers";e.scope(function(e){var t=function(e,t){var n=Xe(t)?e[t]:t;!Je(n)&&Kn({message:"handler must be a function or a string with a method on the originating object"});return n},n=function(e,t,n,r,i,o){return jt($e(n),function(n){o(e,t,t.make(n,r,e),i)})},r=function(e,t,r,i){return function(o){var u,a,c=me,s=this;return o?(u=xn(arguments),Vn(u[t],u[t+1],function(o,f,l){a=a||s.directive(ri),c&&l&&u.splice(t,t+1,be),u[t]=o,u[t+1]=f,c=ge,u[B]<r&&i(s,u),n(s,a,o,f,u,e)}),s):s}},i=function(e,t){return function(n){return Jt(t,n[_].get(e))}},o=function(e,t){t.fn=function(n){n&&t.comparator(n)&&(t.triggersOnce&&e.detach(t),t.runner(n))}},a=function(e,t){return function(){var n,r,a,s,l,d,h,p,v=this,m={};return arguments[0]?(a=xn(arguments),s=e,r=a.slice(e),l=r[0],n=r[ot(l)?2:3]||v,e&&!a[0]?m:(d=v.directive(ri),p=e?a[0].directive(ri):d,Vn(l,r[1],function(s,l,g){var w=s.split(u)[0],y=h||It(r[g?1:2],n||v),b=Je(l)?l:i(w,l),A=M+C+w,x=v,k=p.make(A,y,v);e+2<a[B]&&a.push(n),e&&c(v,d,k,a[0]),k.comparator=b,k.triggersOnce=!!t,k.runner=y,f(x,p,k,[r[0],r[2],r[3]],o),m[w]=y}),m)):m}},c=function(e,t,n,r){var i=m(e,r),o=r.directive(ri);o[ci]=o[ci]||{};return i.count++,n.listening=i,o},s=function(e,t){var n=t.fn||t.handler;t.fn=$t(function(r){return e.detach(t),n.apply(this,arguments)})},f=function(e,n,r,i,o){r.context=r.context||i[2],r.handler=t(e,r.handler),n.attach(r.name,r,o)},d=function(e,t,n,r){f(e,t,n,r,s)},h=function(e){return function(t,n){n[B]===e&&n.push(t)}},p=h(2),v=h(3),m=function(e,t){var n=e.directive(ri),r=t.directive(ri),i=r[oi],o=n[ui],u=o[i];return u?u:(n[oi]=n[oi]||hr(ai),u=o[i]={talker:t,talkerId:i,id:n[oi],listeningTo:o,count:0})},g=function(e,n,r,i,o){var u=i[0],a=c(e,n,r,u);r.handler=t(e,r.handler),f(u,a,r,i.slice(1),o)},w=function(e,t,n,r){g(e,t,n,r,s)},y="c";Ae.Events=Ae.Directive.extend("Events",{initialize:_e,bubble:Yr.parody(ri,"bubble"),on:r(f,0,3,p),once:r(d,0,3,p),listenTo:r(g,1,4,v),listenToOnce:r(w,1,4,v),watch:a(0),watchOnce:a(0,1),watchOther:a(1),watchOtherOnce:a(1,1),request:Yr.parody("messenger","request"),reply:Yr.parody("messenger","reply"),when:Yr.parody("Linguistics","when"),constructor:function(e){var t=this;return vt(t,e),t[y+l]=t[y+l]||hr(y),t.on(Un(t,"events")),t.initialize(e),t},off:function(e,t,r){var i,o,u=this,a=e,c=u[ri];if(c)return i=ot(a)?t:r,arguments[B]?a?Vn(a,t,function(e,t){n(u,c,e,t,[],function(e,t,n){var r=c[ci][n.name];return r&&c.seekAndDestroy(r,n.handler,i)})}):Lt(c[ci],function(e,n){c.seekAndDestroy(e,t,i)}):(o=c[z].last(),o&&c.detach(o)),u},stopListening:function(e,t,n){var r,i,o,u,a=0,c=this,s=c[ri];return s?(r=s[ui],(i=e&&!(u=e[ri]))?c:(o=e?[u[oi]]:Ft(r),jt(o,function(e){var i=r[e];i&&i.talker.off(t,n),a=i[e]?1:0}),a||Ot(e?Ft(r):o,function(e,t){return r[e]})||(s[ui]={}),c)):c},dispatchEvents:function(e){var t=this;return jt($e(e),t.dispatchStack,t)&&t},dispatchStack:function(e){return this[ce](e)},dispatchEvent:function(e,t,n){var r,i,o,u=this,a=u[ri];if(a&&a.has(e)&&!a.running[e]&&!a.queued[e]&&(i=a.validate(e,t,n)))return ut(i)&&(e=i[0],t=i[1],n=i[2]),r=a.create(u,t,e,n),o=a.dispatch(e,r)}})});var si=vr(T+"ren");e.scope(function(e){var t=Ae.Collection,r=Ae.Events,i=(Ae.Collection,"sort"),o="added",u="unwrap",a="removed",c="stopListening",s="_delegatedParentEvents",f="_parentDelgatedChildEvents",v=function(e,t){return _(e,t)},y=function(e,t){var n,r=ir.result(e,T+"Events");t&&r&&(n=t.directive(ri),n[f]=r,e.listenTo(t,r))},b=function(e,t){var r;t&&e[c]&&(r=t[ri])&&r[f]&&(e[c](t,t[f]),r[f]=n)},A=function(e,t){var n,r=t[P],i=ir.result(t,P+"Events");r&&i&&(n=t.directive(ri),n[s]=i,t.listenTo(r,i))},x=function(e,t){var r;t[c]&&(r=t[ri])&&r[s]&&(t[c](e,t[s]),r[s]=n)},k="Syncer",E=Ae[k]=Ae.Events.extend(k,{sync:function(){},destroy:function(){},fetch:function(){},update:function(){},create:function(){}}),S=(e.defineDirective(k,E[w]),Ae[si]=Ae.Collection.extend(si,{constructor:function(e){return this[I]=e,Ae.Collection[w].call(this),this},attach:function(e){var t=this,n=t[I],r=e[ce]&&e[ce](N+o);return t.detach(e),t.addToHash(e),A(n,e),y(n,e),r=e[ce]&&e[ce](o),e},detach:function(e){var t,n=this;return(t=e[P])?(e[ce](N+a),x(t,e),b(t,e),n.removeFromHash(e),delete e[P],e[ce](a),e):e},addToHash:function(e){var t=this,n=t[I];e[P]=n,t.add(e),t.keep(l,e.id,e),t.keep("cid",e.cid,e)},removeFromHash:function(e){var t=this;e&&(t.remove(e),t.drop(l,e.id),t.drop("cid",e.cid))},save:function(){},fetch:function(){}})),D=Ae.Parent=Ae.Events.extend("Parent",{Child:me,isChildType:function(e){return Ue(e,this.Child===me?this.__constructor__[w]:this.Child)},add:function(e,n){var r,i=this,a=i.directive(si),c=vt(Un(i,T+"Options"),n||{}),s=t(e);return i.Child&&s[B]()?(s=s.foldl(function(e,t){var n=i.isChildType(t),o=i.Child===me?i.__constructor__[w]:i.Child,u=n?t:new o(t,c),s=a.get(l,u.id);return s?(s.set(n?t[m]():t),u=s):(r=me,a.attach(u)),e.push(u),e},[]),r&&i[ce](T+C+o),s):s[u]()},remove:function(e){var n,r,i,o=this,u=e;return u==be?(o=o[P],o.remove(this)):(n=t(),!ot(u)&&(r=o.directive(si))&&(u=r.get(l,u)),u&&ot(u)?(i=u&&u.unwrap?u.unwrap():u,t(i).each(function(e){var t,r,i=e[P];n.push(e),i&&(r=i[si],t=r&&r.detach(e))}),n[B]()&&o[ce](T+C+a),n):n)},sort:function(e){var t,n,r,o,u=this;return(t=u[si])?(n=e||Un(u,"comparator"),Xe(n)&&(o="!"===n[0],r=n,o&&(r=n.slice(1)),n=function(e,t){var n,i=e.get(r),u=t.get(r);return n=o?u-i:i-u}),t[i](n),u[ce](i),u):u},destroy:function(){var e,t=this;return t.is(p)||t[ce](h),e=t[P]&&t[P].remove(t),t[ce](d),t.stopListening(),t}}),O=0,M=function(e,t){return e.id=t===n?++O:t,O},_=Ae.Model=Ae.Parent.extend("Model",{idAttribute:l,unset:Yr.checkParody(R,"unset",ge),get:Yr.checkParody(R,"get"),has:Yr.checkParody(R,"has",ge),constructor:function(e,t){var n=this;return n.reset(e),r[w].call(this,t),n},reset:function(e){var t,n=this,r=mn(e)||{},i=Un(n,"defaults",r),o=vt(i,r),u=Un(n,"idAttribute",o),a=(M(n,o[u]),Ft(o),n.directive(R));return(t=n.is(L))&&n[ce](N+L),a[L](o),t&&n[ce](L,o),n.mark(L),n},destroy:function(){return D[w][g].destroy.call(this),delete this.id,this},set:function(e,t){var n,r=[],i=this,o=i.directive(R);return Vn(e,t,function(e,t){o.set(e,t)&&!o.changing[name]&&(n=n||i.directive(ri),n.queueStack(j+e),r.push(e))}),r[B]?(o.digest(i,function(){jt(r,function(e){var t=j+e;o.changing[e]=me,n.unQueueStack(t),i[ce](t),o.changing[e]=ge})}),i):i},toJSON:function(){return this.clone()},clone:Yr.checkParody(R,"clone",function(){return{}}),valueOf:function(){return this.id},toString:function(){return Be(this)}});e.defineDirective(si,S[w]),v[w]=_[w]});var fi="actions",li="isStopped",di=vr(li),hi="propagation",pi="defaultPrevented",vi=hi+"IsHalted",mi=hi+di,gi="immediate"+vr(hi)+di;e.scope(function(e){var t=e._,r=t.factories,i=1,o=r.Collection,u=0,a=function(){return this.id},c="passedData",s=r.ObjectEvent=r.Directive.extend("ObjectEvent",{constructor:function(e,t,n,r,i){var o=this;return o[vi]=o[mi]=o[gi]=ge,o[_]=e,o[b]=n,o[A]=n.split(C)[0],o.timestamp=lt(),o.timeStamp=i||o.timestamp,o[c]={},o.data(t),r&&vt(o,r),o},isStopped:function(){return this[mi]||this[gi]},data:function(e){return arguments[B]?this.set(e):this[c]},get:function(e){return this[c][e]},set:function(e){var t=this;return t[c]=ot(e)?e:{},t},stopImmediatePropagation:function(){this.stopPropagation(),this[gi]=me,this[vi]=me},stopPropagation:function(){this[mi]=me},preventDefault:function(){this[pi]=me},defaultIsPrevented:function(){return this[pi]},action:function(e){var t=this;return t.directive(fi).push(e),t},finished:function(){var e,t=this;t.mark(x),t.defaultIsPrevented()||(e=t[fi])&&e.call(t)}});r.EventsDirective=r.Directive.extend("EventsDirective",{cancelled:t.noop,validate:tr(me),constructor:function(e){var t=this;return t.target=e,t.listenId="l"+ ++u,t.handlers={},t.listeningTo={},t.running={},t.queued={},t.stack=o(),t.removeQueue=o(),t.proxyStack=o(),t.proxyStack.unmark("dirty"),t},attach:function(e,t,n){var r,u=this,c=u[ci];t.id=++i,t.valueOf=a,t.context=t.context||t.origin,n&&Je(n)&&n(u,t),t.fn=It(t.fn||t.handler,t.context),r=c[e]=c[e]||o(),r[b]=e,t.list=r,u.add(r,t)},create:function(e,t,n,r){return s(e,t,n,r)},make:function(e,t,n){return{disabled:ge,namespace:e&&e.split&&e.split(C)[0],name:e,handler:t,origin:n}},seekAndDestroy:function(e,t,n){for(var r,i=this,o=e.unwrap(),u=o[B]-1;u>=0;u--)r=o[u],r.disabled||t&&r.handler!==t||n&&r.context!==n||i.detach(r,u)},nextBubble:function(e){return e.parent},bubble:function(e,t,n){for(var r,i=this,o=i.target,u=[o],a=o;a;)r=a,a=i.nextBubble(r,u),a&&u.push(a),r===a&&Kn({message:"bubbling discerners must return a different object each time it is run"});return jt(u,function(r){r[ce](e,t,n)}),o},add:function(e,t){e.push([t])},remove:function(e,t,n){e.removeAt(t,n)},detachCurrent:function(){return this.detach(this[z].last())},detach:function(e,t){var r,i=this,o=e.listening,u=e.list;e.disabled=me;return e.removed?me:(e.removed=me,i.remove(u,e,t),e.list=n,i.wipe(u),o&&(o.count--,o.count||(r=o.listeningTo,r[o[oi]]=n)),me)},wipe:function(e){return e[B]()?ge:(this.scrub(e),me)},scrub:function(e){e.scrubbed=me,delete this[ci][e[b]]},reset:function(){return Lt(this.handlers,this.scrub,this)},queue:function(e,t,n){return e.unwrap().push(t)},unQueue:function(e,t,n){return e.pop()},has:function(e){return this.handlers[e]&&this.handlers[e][B]()},dispatch:function(e,t){var n,r,i,o=0,u=this,a=u[z],c=u[ci],s=c[e],f=u.running,l=f[e],d=t[mi];u.proxyStack;if(!l&&!d&&s&&s[B]()){for(f[e]=me,n=u.subset(s.unwrap(),t),r=n[B];r>o&&!d;o++)i=n[o],!i.disabled&&u.queue(a,i,t)&&(i.fn(t),u.unQueue(a,i,t)),d=!!t[vi];return d&&u.cancelled(a,t),t.finished(),f[e]=!!l,t.returnValue}},subset:function(e){return e.slice(0)},queueStack:function(e){var t=this.queued;return t[e]||(t[e]=0),++t[e]},unQueueStack:function(e){--this.queued[e]||delete this.queued[e]}});e.defineDirective(ri,r.EventsDirective[w])}),e.scope(function(e){var t=e._,r=Fe(c),i=t.factories,o="counter",u="changing",a=i.DataDirective=i.Directive.extend("DataDirective",{constructor:function(){var e=this;return e[y]={},e.previous={},e[u]={},e[o]=0,e},set:function(e,t){var n=this,r=n[y];return Jt(r[e],t)?ge:(n.previous[e]=r[e],n[y][e]=t,me)},get:function(e){return this[y][e]},clone:function(){return Qt(this[y])},unset:function(e){var t=this[y],r=t[e];return delete t[e]&&r!==n},reset:function(e){this[y]=e||{}},digest:function(e,t){var n=this;++n[o],t(),--n[o],n[o]||(e[ce](M,n[u]),n[u]={},n.previous={})},getDeep:function(e){var t,i=this,o=i[y];return jt(r(e),function(e,n,r){var i=n===r[B];t=e,i||(o=ot(o[e])?o[e]:{})})&&(Xe(t)?n:o[t])},has:function(e){return this[y][e]!==n},each:function(e){return Lt(this[y],e,this)}});e.defineDirective(R,a[w])}),e.scope(function(e){var t=e._,n=t.factories,r=n.Collection,i="success",o="registered",u="state",a="every",c="failures",s="counter",f="groupIndex",l="Linguistics",d=function(e){return function(t){return Jt(t,e)}},h=function(e){return function(t){return t>e}},p=function(e){return function(t){return e>t}},v=function(e){return function(t){var n=this;return n[e].push(It(t,n)),n}},m=function(e,t){return function(){var n=this;return jt(arguments,function(r){n.add(r,e,t)}),n}},g=m(me),b=function(e,n,r,i){var o=It(r,e),u=i?t.negate(o):o;return{key:n,context:e,handler:r,fn:u}},A=function(){this.stopListening()},x=n.Linguistics=n.Events.extend(l,{then:v(i),always:v(a),otherwise:v(c),is:m(),isnt:g,isNot:g,isGreaterThan:m(ge,h),isLessThan:m(ge,p),isNotGreaterThan:m(me,h),isNotLessThan:m(me,p),constructor:function(e){var t=this;return t.origin=e,t[s]=0,t[f]=-1,t[o]={},t.logic=new r[w],t[i]=new r[w],t[c]=new r[w],t[a]=new r[w],t.group(),t.listenTo(t.origin,{change:"apply",destroy:A}),this},when:function(e){return this[P]?this[P].when(e):Kn({message:"this sequencer has been destroyed"})},and:function(e){var t=this;return t[y]=e,t.bind(e),t},or:function(e){return this.group(),this.and(e),this},group:function(){var e=this;return++e[f],e.logic.push({index:e[f],list:new r[w]}),e},increment:function(){++this[s]},bind:function(e){var t=this,n=t[o];n[e]||(n[e]=me,this.listenTo(this.origin,j+e,t.increment))},unbind:function(e){var t=this,n=t[o];n[e]&&(n[e]=ge,this[ii](this.origin,j+e,t.increment))},value:function(e,t){return Je(e)?e:t(e)},add:function(e,t,n){var r=this,i=r[y],o=r.value(e,n||d),u=b(r,i,o,t);return r.logic.item(r[f]).list.push(u),r},check:function(){var e=this;return!(!e[s]||!e.logic.find(function(t){return!t.list.find(function(t){return!t.fn(e.origin.get(t.key))})}))},restart:function(){return this[s]=0,this},handle:function(e,t){var n=this;n[e]&&n[e].call(t);return n},run:function(){var e=this;e[u]?e.handle(i):e.handle(c),e.handle(a)},apply:function(){var e=this,t=e.check();return e.restart(),e[u]!==t&&(e[u]=t,e.run()),e}}),k=l+"Manager",E=n[k]=n.Model.extend(k,{when:function(e){var t=new x[w](this.target);return this.add(t),t.and(e)},constructor:function(e){return this.target=e,this}});e.defineDirective(l,E[w])}),e.scope(function(e){var t=e._,n=t.factories,r="failure",i="success",o="pending",u="state",a="error",c="always",s="fulfilled",f="settled",l="rejected",d="emptying",h="allStates",p="stashedArgument",v="stashedHandlers",m=t.flatten,y=t.bind,b=t.isString,A=t.intendedObject,x=t.duff,k=(t.each,t.extend),E=t.toArray,T=t.isFunction,C=(t.foldl,t.result),S=t.wraptry,D=(t.indexOf,function(e){var t,n,r=this,i=r[p],o=r[v][e];if(o&&o[B]){for(n=o[B],r.mark(d);o[0]&&--n>=0;)(t=o.shift())(i);r.unmark(d)}return r}),O=function(e,n){for(var o,u=n,a=C(e,h),c=[];!o;)-1!==t.indexOf(c,u)?u=ge:(u===i&&(e.mark(s),e.unmark(l)),u===r&&(e.unmark(s),e.mark(l)),u=a[u]&&t.add(c,u)?a[u]:ge),o=!b(u);return c[B]?x(c,D,e):Kn({message:"promise cannot resolve to an unknown state"})},M=function(e){return this[e]||(this[e]=function(){return this.handle(e,E(arguments))}),this},I=n.Model,_=function(){var e,t=me,n=this,o=n.directive(Kr),u=[],a=o.find(function(n){return e=e||n.is(l),t=t&&n.is(f),u.push(n[p]),e});return e?n.resolveAs(r,a[p]):t&&n.resolveAs(i,u),n},N=function(){var e,t=this,n=t.directive(Kr);return(e=n.find(function(e){return e.is(f)}))&&t.resolveAs(e[u],e[p]),t},j={success:c,failure:c,error:c,always:me},L=function(e,t){var n=e.directive(Kr);m(t,me,function(t){e.isChildType(t)&&(n.add(t),n.keep("cid",t.cid,t))})},R=function(e,t){var n=y(t,e),r=e.directive(Kr);r.each(function(e){r.get("listening",e.cid)||(r.keep("listening",e.cid,me),e.always(function(){n()}))})},P=n.Promise=t.Promise=I.extend("Promise",{addHandler:M,"constructor:Model":I[w],constructor:function(){var e=this;return e.state=o,e[p]=be,e[v]={},e.reason=ge,e[w+":Model"](),A(k({},j,C(e,"associativeStates")),be,M,e),e.success(arguments),e},isChildType:function(e){return e[i]&&e[r]&&e[c]&&e[a]},auxiliaryStates:function(){return ge},allStates:function(){return k({},j,C(this,"auxiliaryStates")||{})},resolveAs:function(e,t,n){var i=t,o=e,u=this;return u.is(f)?u:(u.mark(f),u.state=o||r,u[p]=i,u.reason=n?n:ge,o=u.state,u.dispatchEvent("before:resolve"),u.dispatchEvents(S(function(){return O(u,o)},function(e){return u.unmark(s),e.options=i,u[p]=e,O(u,a)},function(e,t){return t||[]})),u)},fulfill:function(e){return this.resolveAs(i,e)},resolve:function(e){return this.fulfill(e)},reject:function(e,t){return this.resolveAs(r,e,t)},stash:function(e,t){var n=this,r=n[v];return A(e,t,function(e,t){var i=r[e]=r[e]||[];m(T(t)?[t]:t,me,function(e){T(e)&&i.push(y(e,n))})}),n},handle:function(e,t){var n=this,r=(n[p],t);return n.stash(e,r),n.is(f)&&O(n,n[u]),n},when:function(){return this.all(arguments)},all:function(){var e=this;return e[u]!==o?e:(L(e,arguments),R(e,_),e)},race:function(){var e=this;return e[u]!==o?e:(L(e,arguments),R(e,N),e)},then:function(e){return this.handle(c,e)}}),V=P[w][g],H=(V.addHandler(i).addHandler(r).addHandler(c).addHandler(a),P());e.extend({dependency:y(H.all,H)})}),e.scope(function(e){var t=e._,r=t.factories,i="items",o=t.extend,u=t.isObject,a=t.removeAt,c={}.toString;r.Associator=r.Directive.extend("Associator",{get:function(e,t){var r,o,a=this,c={},s=u(e),f=a.sameType(e,s),l=(f[i]=f[i]||[],f[re]=f[re]||{}),d=f[R]=f[R]||[];return s?e&&f.readData?(o=e[re]=e[re]||hr("el"),o&&(c=l[o]=l[o]||{})):(r=f[i][F](e),r!==n&&-1!==r||(r=f[i][B],f[i].push(e),d[r]=c),c=d[r]):(f[re][e]=f[re][e]||{},c=f[re][e]),c.target=e,c},set:function(e,t,n){var r=this.get(e,n);return o(r,t||{}),r},remove:function(e){var n,r=this.sameType(e);r.readData?(n=e[re],delete r[re][n]):(n=t[F](r[i],e),-1!==n&&(a(r[R],n),a(r[i],n)))},sameType:function(e,t){var r=this,i=t===n?u(e):t,o=c.call(e),a=e&&e.window===e,s=a?"[object global]":o.toLowerCase(),f=r[s]=r[s]||{},l=s[F]("global"),d=-1===s[F](W);return-1===l&&d&&i&&(f.readData=me),f}})}),e.scope(function(e){var t=e._,n=t.factories,i="error",u="status",a="failure",c="success",s="readyState",f=r.XDomainRequest,l=t.stringifyQuery,d="GET",h=$e(d+" POST PUT DELETE HEAD TRACE OPTIONS CONNECT"),p=$e("progress timeout abort "+i),v=function(e){var t=0,n=e.requestObject;jt(p,function(r){"progress"===r?n["on"+r]=function(n){t++,e.dispatchEvent("progress",{percent:n.loaded/n.total||t/(t+1),counter:t},{originalEvent:n})}:n["on"+r]=function(t){e.resolveAs(r)}})},m=function(e,t,n){return function(){Zn(function(){e.send.apply(e,t)},function(e){n.resolveAs(i,e,e.message)})}},g=function(){var e=this,t=e.requestObject,n=e.get("type"),r=e.getUrl(),i=[],o=e.get("data");r&&(e.attachResponseHandler(),t.open(n,r,e.get("async")),o&&i.push(Be(o)),e.headers(e.get("headers")),v(e),setTimeout(m(t,i,e)))},y=n.HTTP=n.Promise.extend("HTTP",{parse:mn,constructor:function(e,r){var i,u,a,c,s=this,l="onreadystatechange";return c=new XMLHttpRequest,t.isUndefined(f)||(c=new f,l="onload"),t.isObject(e)||(e=e||o,a=d,u=e.toUpperCase(),-1!==je(h,u)?a=u:i=e,e={url:i||o,type:a}),e.async=me,e.type=(e.type||d).toUpperCase(),e.method=l,n.Promise[w].call(s),s.on("change:url",g),vt(s,r),s.requestObject=c,s.set(e),s},status:function(e,t){return this.handle(u+C+e,t)},headers:function(e){var t=this,n=t.requestObject;return Lt(e,function(e,t){n.setRequestHeader(t,e)}),t},getUrl:function(){var e=this.get("url");return ot(e)&&!ut(e)&&(e=l(e)),e},auxiliaryStates:function(){return{"status:0":a,"status:200":c,"status:202":c,"status:205":c,"status:302":c,"status:304":c,"status:400":a,"status:401":a,"status:403":a,"status:404":a,"status:405":a,"status:406":a,"status:500":i,"status:502":i,"status:505":i,"status:511":i,timeout:a,abort:a}},attachResponseHandler:function(){var e=this,t=e.requestObject,n=ge,r=e.get("method"),i=function(t){var i,o,a,c=this;c&&!n&&(i=c[u],a=c.responseText,("onload"===r||"onreadystatechange"===r&&4===c[s])&&(e.set(u,i),o=Un(e,"allStates"),a=Un(e,"parse",a),n=me,e.resolveAs(u+C+c[u],a)))};return t[r]||(t[r]=i),e}});t.foldl(h,function(e,n){var r=n;return r=r.toLowerCase(),e[r]=function(e,r){return y(t.extend({type:n,url:e},r))},e},y)}),e.scope(function(e){var t=e._,r=t.factories,i=r.Model,o=(r.Collection,J+"ed"),u="initialized",a="defined",s={start:function(e){var t=this;return t.is(o)||(t.mark(o),t[ce](J,e)),t},stop:function(e){var t=this;return t.is(o)&&(t.unmark(o),t[ce](Q,e)),t},toggle:function(e){var t=this;return t.is(o)?t[Q](e):t[J](e),t},restart:function(e){var t=this;return t.is(o)&&t[Q](e),t[J](e),t}},f=(r.Startable=r.Model.extend("Startable",s),function(e){this.startWithParent&&this[J](e)}),d=function(e){this.stopWithParent&&this[Q](e)},h=function(e,t){return[e].concat(e.application.createArguments(),t||[])},p=function(e,t){var n=[];return jt(t,function(t){var r=e.module(t);r.is(u)&&n.push(r.exports)}),n[B]===t[B]?n:ge},v=t.Promise,m={module:function(t,n,r){var i,o,s,f,d,h=this,p=t,m=p.split(c),g=h.directive(si).get(t),w=function(){g.mark(a),g.parent.bubble(u+":submodule")};if(g){if(h=g.parent,!r)return g;m=[g.id]}else for(;m.length>1;)h=h.module(m[0]),m.shift();return d=h.directive(si),p=m.join(c),g=d.get(l,p),g||(o=h.globalname?h.globalname.split("."):[],o.push(p),s=o.join("."),f=vt(Un(h,"childOptions")||{},{application:e,parent:h,id:p,globalname:s}),h===e?(g=b({},f),d.add(g)):g=h.add({},f)[0],d.keep(l,p,g),e[si].keep(l,s,g)),(bi(n)||Je(n)||Je(r))&&(g.exports=g.exports||{},g.mark(u),i=g.run(n,r),i&&Ue(i,v)?i.success(w):w()),g},run:function(e,t){var r,i=this,o=Je(e)?e:t,u=bi(e)?[e.DOMA]:[];return Je(o)&&(r=i.application?o.apply(i,h(i,u)):o.apply(i,i.createArguments(u))),r===n?i:r},"export":function(e,t){var n=this;return Vn(e,t,function(e,t){n.exports[e]=t}),n},constructor:function(e,t){var n=this;return n.startWithParent=me,n.stopWithParent=me,n.exports={},i[w].apply(n,arguments),n.listenTo(n.parent,{start:f,stop:d}),n},topLevel:function(){return!this.application||this.application===this[P]},require:function(e,n){var r,i,o,c,s=this;return Je(n)?(r=t.Promise(),o=$e(e),ut(o)&&o[B]?(o=o.slice(0),r.success(It(n,s)),(c=p(s,o))?r.fulfill(c):s.application.on(u+":submodule",function(){(c=p(s,o))&&(s.off(),r.fulfill(c))}),r):r):(i=s.module(e),i.is(a)?i.exports:Kn({message:"that module has not "+a+" initialization yet"}))}},y=[],b=r.Module=r.Model.extend("Module",m),A=function(e){var t=e._;return[e,t,t&&t.factories]};e.extend(vt({},r.Directive[w][g],r.Events[w][g],s,m,{addModuleArguments:function(e){return t.addAll(y,e),this},removeModuleArguments:function(e){return t.removeAll(y,e),this},createArguments:function(e){return A(this).concat(y,e||[])}}))});var wi="attached",yi="iframe",bi=function(e){return e&&e===e[W]};e.scope(function(e){var t=e._,s="Attributes",h=t.factories,p=h.Collection,v=h.Associator(),y="DomManager",A="nodeType",x="destroyed",k="custom",T="removing",O="accessable",_=k+"Listener",N="localName",j="Child",L="append"+j,P="remove",V="parentNode",H="innerHTML",q="innerText",U="outerHTML",F="registeredAs",$="attributeChange",z="attributesChanging",J="delegateCount",Q="captureCount",se=R+a+k,fe="["+se+"]",le=X+a+b,de="fontSize",he="defaultView",we="isElement",ye="div",Ae=r.devicePixelRatio||1,xe=function(e,t){var n;return n=t===me?v.get(e):t.data.get(e),n[y]||(n[y]=Li(e,n,t)),n[y]},ke=/(.)^/,Ee={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Te=/\\|'|\r|\n|\u2028|\u2029/g,Ce=function(e){return"\\"+Ee[e]},Se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},De=st(Se),Oe=function(e){var t=function(t){return e[t]},n="(?:"+Ft(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==be?o:o+e,r.test(e)?e.replace(i,t):e}},Me=Oe(Se),Ie=Oe(De),Ne=function(e,n){var r=vt({},n),i=RegExp([(r.escape||ke).source,(r.interpolate||ke).source,(r.evaluate||ke).source].join("|")+"|$","g"),o=0,u="__HTML__+='";e.replace(i,function(t,n,r,i,a){return u+=e.slice(o,a).replace(Te,Ce),o=a+t.length,n?u+="'+\n((__t=(this."+n+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=(this."+r+"))==null?'':__t)+\n'":i&&(u+="';\n"+i+"\n__HTML__+='"),t}),u+="';\n",u="var __t,__HTML__='',__j=Array.prototype.join,print=function(){__HTML__+=__j.call(arguments,'');};\n"+u+"return __HTML__;\n";var a=t.wraptry(function(){return new Function[w](r.variable||"_",u)},Yn.error),c=function(e){return a.call(e||{},t)},s=r.variable||"obj";return c.source="function("+s+"){\n"+u+"}",c},Le=function(e,t,n){var r,i=n.templates=n.templates||p(),o=i.get(l,e);return o?o:(r=t||n.$("#"+e).html(),o=Ne(r,n.templateSettings),o.id=e,i.push(o),i.keep(l,e,o),o)},Re=function(e){return!(!e||!nt(e[A])||e[A]!==e.ELEMENT_NODE)},Pe=function(e){return e&&nt(e[A])&&e[A]===e.DOCUMENT_NODE},Ve=function(e){return e&&e[A]===i.DOCUMENT_FRAGMENT_NODE},qe=function(e){var t=e||r;return bi(t)?t:t&&t[he]?t[he]:t.ownerGlobal?t.ownerGlobal:Zi(t).parent(W)[oe](0)||r},Ue=function(e,t){var n=qe(t).getComputedStyle(e);return n?n:qe(e).getComputedStyle(e)||Qt(e[pe])||{}},Fe=Ue(i[ve],r),We=/^key/,Ge=/^(?:mouse|pointer|contextmenu)|click/,ze=/^device/,Qe=/^webkitmouseforce/,Ye=(function(){var e=4,t=me,n=[],r=function(r){return function(){e--,r(),e||(jt(n,function(e){e(t)}),n=[])}};return jt(["UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==","UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==","UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"],function(e){var n=new Zt;n.onload=r(_e),n.onerror=r(function(){t=ge}),n.src="data:image/webp;base64,"+e}),function(r){e&&t?n.push(r):r(t)}}(),function(e,t,n){n===ge||n==be?Ze(e,t):e.setAttribute(t,(n===me?o:Be(n))+o)}),Ke=function(e,t){var n=e.getAttribute(t);return Er(n)},Ze=function(e,t){e.removeAttribute(t)},tt={preventUnCamel:ge,read:Ke,write:Ye,remove:Ze},rt=ge,ut=function(e,t){var n=t||e;return function(e){var t=e.element(),r=rt;rt=me,_t[n]&&Je(t[n])?t[n]():e[ce](n),rt=r}},at=function(e,t){var n=e||t,r=ut(n,t);return function(e,t,i){var o=this;return Je(e)||Je(t)?o.on(n,e,t,i):r(o),o}},ct=$e("abort afterprint beforeprint blocked cached canplay canplaythrough change chargingchange chargingtimechange checking close complete dischargingtimechange DOMContentLoaded downloading durationchange emptied ended error fullscreenchange fullscreenerror input invalid languagechange levelchange loadeddata loadedmetadata message noupdate obsolete offline online open pagehide pageshow paste pause pointerlockchange pointerlockerror play playing ratechange reset seeked seeking stalled storage submit success suspend timeupdate updateready upgradeneeded versionchange visibilitychange"),ft=$e("SVGAbort SVGError SVGLoad SVGResize SVGScroll SVGUnload SVGZoom volumechange waiting"),dt=$e("keydown keypress keyup"),ht=$e("gamepadconnected gamepadisconnected"),pt=$e("compositionend compositionstart compositionupdate drag dragend dragenter dragleave dragover dragstart drop"),mt=$e("click contextmenu dblclick mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup show wheel"),gt=$e("touchcancel touchend touchenter touchleave touchmove touchstart"),wt=$e("devicemotion deviceorientation deviceproximity devicelight"),yt=$e("blur focus"),bt=$e("beginEvent endEvent repeatEvent"),xt=$e("animationend animationiteration animationstart transitionend"),kt=$e("audioprocess complete"),Et=$e("abort error hashchange load orientationchange readystatechange resize scroll select unload beforeunload"),Tt=$e("abort error load loadend loadstart popstate progress timeout"),Ct=on(ct,ft,dt,pt,ht,mt,gt,wt,yt,bt,xt,kt,Et,Tt),St=$e("-o- -ms- -moz- -webkit- mso- -xv- -atsc- -wap- -khtml- -apple- prince- -ah- -hp- -ro- -rim- -tc-"),Dt=$e("a abbr address area article aside audio b base bdi bdo blockquote body br button canvas caption cite code col colgroup data datalist dd del dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark meta meter nav noscript object ol optgroup option output p param pre progress q rb rp rt rtc ruby s samp script section select small source span strong style sub sup table tbody td template textarea tfoot th thead time title tr track u ul var video wbr"),Mt=Yt(Dt,me),_t=Yt(Ct,me),Rt=(Yt(St,me),h.StringManager),Bt=function(e,t){return e[t]},Vt=function(e,t,n){e[t]=n},Ht=function(e,t){e[t]=be},qt={preventUnCamel:me,read:Bt,write:Vt,remove:Ht},Ut=function(e,t,n){var r=_i(e,t);return r.ensure(n===me?o:n,u)},Wt=function(e,t){var n=e.getBoundingClientRect(),r=Ue(e,t.element()),i=nn(r.marginTop),o=nn(r.marginLeft),u=nn(r.marginRight),a=nn(r.marginBottom);return{height:n[ie]+i+a,width:n[ne]+o+u,top:n[K]-i,left:n[Z]-o,right:n[Z]+n[ne]+u,bottom:n[K]+n[ie]+a}},Gt={columnCount:me,columns:me,fontWeight:me,lineHeight:me,opacity:me,zIndex:me,zoom:me,animationIterationCount:me,boxFlex:me,boxFlexGroup:me,boxOrdinalGroup:me,flex:me,flexGrow:me,flexPositive:me,flexShrink:me,flexNegative:me,flexOrder:me,lineClamp:me,order:me,orphans:me,tabSize:me,widows:me,fillOpacity:me,stopOpacity:me,strokeDashoffset:me,strokeOpacity:me,strokeWidth:me},zt={transitionDuration:me,animationDuration:me,transitionDelay:me,animationDelay:me},Jt=function(){
var e,t,n,r,i,u,c,s,f,l,d=[],h={},p=0,v=function(e,t){-1===je(e,u)&&e.push(u)};for(e=0;e<St[B];e++)l=St[e][B],l>p&&(p=l);for(n in Fe){for(r=0,s=o,u=o,c=nt(+n)?Fe[n]:mr(n),mr(c),pr(c),f=c,t=0;p>t&&c[t]&&!r;t++)s+=c[t],i=je(St,s),-1!==i&&(u=St[i],f=c.split(u).join(o),r=1),i=je(St,a+s),-1!==i&&(u=St[i],f=c.split(s).join(o),r=1);f=pr(f),d.push(f),h[f]||(h[f]=[]),v(h[f],u)}return h}(),Xt=function(e,t){return+t!==+t?t:zt[e]?t+"ms":Gt[e]?t:t+f},Kt=function(e,t){var n,r,i={};return Re(e)?(r=Ue(e,t),n=en(e,t),{borderBottom:+r.borderBottomWidth||0,borderRight:+r.borderRightWidth||0,borderLeft:+r.borderLeftWidth||0,borderTop:+r.borderTopWidth||0,paddingBottom:+r.paddingBottom||0,paddingRight:+r.paddingRight||0,paddingLeft:+r.paddingLeft||0,paddingTop:+r.paddingTop||0,marginBottom:+r.marginBottom||0,marginRight:+r.marginRight||0,marginLeft:+r.marginLeft||0,marginTop:+r.marginTop||0,computedBottom:+r[te]||0,computedRight:+r[ee]||0,computedLeft:+r[Z]||0,computedTop:+r[K]||0,top:n[K]||0,left:n[Z]||0,right:n[ee]||0,bottom:n[te]||0,width:n[ne]||0,height:n[ie]||0}):i},en=function(e){var t=Re(e)?e.getBoundingClientRect():{};return{top:t[K]||0,left:t[Z]||0,right:t[ee]||0,bottom:t[te]||0,width:t[ne]||e.clientWidth||0,height:t[ie]||e.clientHeight||0}},nn=function(e,t){return+e.split(t||"px").join(o).trim()||0},rn=function(e,t,n){var r,i;return ot(e)?(i=Re(e)?Ue(e,n):e,r=i[t]):r=e,Xe(r)&&(r=nn(r)),r},un={":even":function(e,t){return t%2},":odd":function(e,t){return(t+1)%2}},an={"in":function(e,t,n,r){return e/96},vh:function(e,t,n,r){return e/n[ue]*100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return e/37.79527559055118},vw:function(e,t,n,r){return e/n[ae]*100},em:function(e,t,n,r){return e/rn(t,de,n)},mm:function(e,t,n,r){return e/3.779527559055118},vmin:function(e,t,n,r){var i=Math.min(n[ue],n[ae]);return e/i*100},rem:function(e,t,n,r){return e/rn(n[G][ve][V],de,n)},pt:function(e,t,n,r){return e/1.333333333333333},vmax:function(e,t,n,r){var i=Math.max(n[ue],n[ae]);return e/i*100},"%":function(e,t,n,r){var i=Re(t)?t[V]:t,o=rn(i,r,n);return e/o*100},pc:function(e,t,n,r){return e/16}},cn={"in":function(e,t,n,r){return 96*e},vh:function(e,t,n,r){return n[ue]*e/100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return 37.79527559055118*e},vw:function(e,t,n,r){return n[ae]*e/100},em:function(e,t,n,r){return rn(t,de)*e},mm:function(e,t,n,r){return 3.779527559055118*e},vmin:function(e,t,n,r){return(Math.min(n[ue],n[ae])||1)*e/100},rem:function(e,t,n,r){return rn(n[G][ve][V],de)*e},pt:function(e,t,n,r){return 1.333333333333333*e},vmax:function(e,t,n,r){return(Math.max(n[ue],n[ae])||1)*e/100},"%":function(e,t,n,r){var i=Re(t)?t[V]:t,o=rn(i,r);return e*o/100},pc:function(e,t,n,r){return 16*e}},sn=function(e,t){var n;return e&&Re(e)?(n=e[N].toLowerCase(),t?n===t.toLowerCase():n):ge},fn=function(e,t,n,r){var i,o,u=r&&r.element(),a=r&&r.registeredElements,c=a&&a[e],s=c===me?e:c;return s||Kn({message:"custom tag names must be registered before they can be used"}),i=u.createElement(s),c&&c!==me&&tt.write(i,se,e),o=r.returnsManager(i),t&&o.attr(t),n?(Xe(n)?o.html(n):At(n)?ei(xn(n),"appendTo",o):o.append(n),o):o},ln=function(e,t){var n=fn(ye,be,be,t);return n.html(e),n.children().remove().unwrap()},dn=function(e,t){return ln(e,t)[0]},hn=function(e,t){var n,r;return t&&e&&1===e[A]?(r=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?r.call(e,t):(n=e[V],n||(n=fn(ye,be,be,xe(e.ownerDocument,me)),n[L](e)),-1!==je(ti(t,n),e)):ge},pn=function(e,t){return t.isDocument&&t.element().createDocumentFragment()},vn=function(e,t,n){var r=[];return r.concat.apply(r,n?yn(n,t):e.map(t))},gn=function(e,t){return Zi($n($e(e),function(e,n){return e.push(fn(n,be,be,t)),e},[]),be,be,be,t)},wn=function(e,t){var n,r=e;return Ve(r)?n=r:(Zi.isInstance(r)&&(r=r.unwrap()),At(r)||(r=r&&xn(r)),n=t.createDocumentFragment(),jt(r,function(e){var r,i=t.returnsManager(e),o=i.element();i[we]&&!i.isFragment&&(r=o[V],r&&!Ve(r)&&gr([o],t),n[L](o))})),n},bn=function(e){return function(t){var n=this;return Xe(t)?n.eachCall(e,t)&&n:n.map(Qn.bind(be,e)).join(o)}},An=function(e,t){return En(function(n,r){var i=[],o=n.unwrap(),u=t||r;return u?n.duff(function(t){(traversal=t[e](u))&&add(i,traversal)}):i=o,i})},kn=function(e){var t="data-",n=mr(e),r=e.slice(0,5);return t!==r&&(n=t+e),n},En=function(e){return function(t,n,r,i,o){var u=this,a=e(u,t,n,r,i,o),c=new Zi[w](a,be,me,be,u.context.owner);return c._previous=u,c}},Tn=function(e,t){var n=en(e),r=n[te],i=n[ee],o=n[Z],u=n[K],a=t.x,c=t.y,s=ge;return a>o&&i>a&&c>u&&r>c&&(s=me),s},Cn=function(e){return{x:e[Z]+e[ne]/2,y:e[K]+e[ie]/2}},Sn=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},Dn=function(e,t,n){return Sn(e,t)<Sn(e,n)},On=function(e,t,n){var r,i,o,u,a=t.shift();return(Xe(t[0])||t[0]==be)&&(i=t.shift()),Xe(t[0])&&(t[0]=e[t[0]]),Je(t[0])?(r=t.shift(),o=t.shift(),Xe(o)?(u=o,o=ge):o=!!o,u=t.shift(),n(e,a,i,r,o,u),e):this},Mn=function(e){return function(){var t,n=this,r=xn(arguments),i=r.shift();return ot(i)?(Xe(r[0])&&(t=r.shift()),Lt(i,function(i,o){On(n,[o,t,i].concat(r),e)}),n):(r.unshift(i),On(n,r,e))}},In=function(e,t,n){return e&&ot(e)&&!bi(e)&&nt(e.AT_TARGET)?e:{data:Be(e),type:n,bubbles:ge,eventPhase:2,cancelable:ge,defaultPrevented:ge,isTrusted:ge,timeStamp:lt(),target:t}},_n=function(e){var t=ge,n=e.eventPhase;return 1===n&&(t=me),t},Nn=Yt({resize:"resize orientationchange",ready:"DOMContentLoaded",wheel:"wheel mousewheel",deviceorientation:"deviceorientation mozOrientation",fullscreenalter:"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",hover:"mouseenter mouseleave",forcewillbegin:"mouseforcewillbegin webkitmouseforcewillbegin",forcechange:"mouseforcechange webkitmouseforcechange",forcedown:"mouseforcedown webkitmouseforcedown",forceup:"mouseforceup webkitmouseforceup",force:"mouseforcewillbegin webkitmouseforcewillbegin mouseforcechange webkitmouseforcechange mouseforcedown webkitmouseforcedown mouseforceup webkitmouseforceup"},$e),jn=$n(Nn,function(e,t,n){return jt(t,function(t){e[t]=n}),e},{}),Ln=function(e,t,n){var r=n||[];return function(n){var i=n,o=-1!==je(r,i);o||r.push(i),e[i]&&!o?jt(e[i],Ln(e,t,r)):t(i,r[0],r.slice(0)),o||r.pop()}},Rn=Mn(function(e,t,n,r,i,o){return Je(r)?Un(e,t,o,n,r,i):e}),Hn=Mn(function(e,t,n,r,i,o){var u;return Je(r)&&Un(e,t,o,n,u=$t(function(){return Ri(e,t,o,n,u,i),r.apply(this,arguments)}),i)}),qn=Mn(function(e,t,n,r,i,o){return Je(r)?Ri(e,t,o,n,r,i):e}),Un=function(e,t,n,r,i,o){var u,a=e.is(k);return jt($e(t),Ln(e.owner.events.expanders,function(t,a,c){u=u||e.directive(ri),_t[t]||e.mark(_),u.attach(t,{capturing:!!o,origin:e,handler:i,group:n,selector:r,passedName:a,domName:t,domTarget:e,nameStack:c})})),!a&&e.is(_)&&(zr(e,me),e.remark(wi,lr(e.element(),e.owner))),e},Fn=function(e){return this.insertAt(e,be)},Wn=function(e){return this.insertAt(e,0)},Gn=function(e,t,n){var r=this.parent();return rr.number(t)?this.insertAt(e,t):r.insertAt(e,r.children().indexOf(this))},zn=function(e,t,n){var r=this.parent();return rr.number(t)?this.insertAt(e,t+1):r.insertAt(e,r.children().indexOf(this)+1)},Jn=function(e){return function(t,n){return tt[e](this.element(),t,n)}},Qn=function(e,t){var n,r,i,u=o;return t.isIframe?(nr(t),n=t.window(),n.is(O)&&(i=n.element(),r=i[G],u=r.body?r.body[V].outerHTML:o)):t[we]&&(i=t.element(),u=i[e]),u},Xn=function(e,t,n){var r,i,u,a,c,s;t.isIframe?(a=t.window(),nr(t),a.is(O)&&(s=a.element(),u=s[G],u.open(),u.write(n),u.close(),c=me)):t[we]&&(s=t.element(),i=s[e],s[e]=n||o,r=t.owner,jt(r.$(fe,s),r.returnsManager,r),i!==s[e]&&(c=me)),c&&t.bubble("content:changed",n)},er=function(e){return function(t){var r=this,i=r;return t===n?i=Qn(e,r):Xn(e,r,t),i}},nr=function(e){var t,n,r;e.isIframe=e.tagName===yi,e.isIframe&&(r=e.element(),t=r.contentWindow,e.remark("windowReady",!!t),t&&(n=e.owner.returnsManager(t),n.iframe=e,Qr(n),e.cachedContent&&n.is(O)&&(e.html(e.cachedContent),e.cachedContent=be)))},ir=h.Events[w][g][ce],or=function(e,t,n,r){var i=!!r;return ir.call(e,t,In(n,e.element(),t),{capturing:i})},ur={src:ge,checked:ge,disabled:ge,classes:Y},ar={play:"playing",pause:"paused"},cr=$e("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"),sr=cr.concat(t.keys(ar),t.keys(ur)),lr=function(e,t){var n,r,i,o=t.returnsManager(e),u=o.element();if(n=o.is(wi))return n;if(o.isWindow)return me;for(;!r&&u&&u[V];){if(i=u[V],Ve(i))return ge;if(Pe(i))return me;if(i[re])return lr(i,t);u=i}return ge},dr=function(e,n){return function(r,i){var o=[];jt(r,function(e){var t=i.returnsManager(e),r=t.is(wi);t.remark(wi,n),n!==r&&t[we]&&t.is(_)&&o.push(t)}),t.eachCall(o,ce,e)}},gr=dr("detach",ge),wr=dr("attach",me),yr=function(e,t,n,r){var i,o,u,a=n.element();return!n[we]||a[pe][e]===t&&r?ge:(u=tt.read(a,pe),t=""!==t?Xt(e,t):t,r?tt.write(a,pe,(i=$n(u.split(";"),function(n,r,i,u){var a=r.trim(),c=a.split(C),s=c[0].trim(),f=c[1].trim();return s===e&&(o=me,f=t+" !important"),n.push([s,f].join(": ")),i!==u[B]-1||o||n.push([e,t+" !important"].join(": ")),n},[]).join("; "))?i+";":i):jt(Jt[pr(e)],function(n){a[pe][n+mr(e)]=t}),tt.read(a,pe)!==u)},br={set:function(e,t,n,r){e.refill(t===me?[]:t),t===ge&&e.mark(T)},add:function(e,t){jt(t,e.add,e)},remove:function(e,t){jt(t,e.remove,e)},toggle:function(e,t,n){jt(t,function(t){e.toggle(t,n)})},change:function(e,t,n){this.remove(e,t),this.add(e,$e(n))}},Ar=function(e){return function(t,n){var r=e(t,n);return t.is(z)&&(t.unmark(z),t[ce]($)),r}},xr=function(e,t,n,r,i,o,a){var c=e===X?Y:e,s=i||mr,f=r.preventUnCamel?c:s(c),l=f===Y||f===le,d=(l?(r=qt)&&(f=Y)&&Y:a)||f;return function(e,i){var a,c=e.element(),s=r.read(c,f),l=e,h=Ut(e,f,s);return"get"===o?(i||(l=s),l):(Vn(t,n,function(e,t){var n=o||(t===me?"add":t===ge?P:"toggle");br[n](h,$e(e),t,s)}),h.changeCounter&&(h.is(T)?(h.unmark(T),r.remove(c,f)):(a=h.generate(u),r.write(c,f,kr(a)))),void(a!==s&&e.is(_)&&(e.mark(z),e[ce]($+C+d,{previous:s,current:Er(a)}))))}},kr=function(e){var t=+e;return e[B]&&t==e?t:e},Er=function(e){var t=e;return t===o?me:t==be?ge:kr(t)},Tr=function(e,t,n){return function(r){return function(i,o,u,a,c,s){return r(e(i,o,u,a||n,c,t,s),this)}}},Cr=function(e,t,n,r){var i=$e(t);return function(t){var n=t.element(),o=_i(t,e),a=r.read(n,e);return o.ensure(a,u),Ot(i,function(e){var t=o.get(l,e);return t?!t.isValid():me})}},Dr=Tr(xr,"set",tt),Or=Tr(xr,"add",tt),Mr=Tr(xr,P,tt),Ir=Tr(xr,"toggle",tt),_r=Tr(xr,"change",tt),Nr=Tr(xr,"get",tt),jr=Tr(Cr,"has",tt),Lr=function(e,t,r){return function(i){return function(i,o,u){var a,c=this,s=Xe(i),f=s?u:o,l=s?o:be,d=t||f;return s&&l===n?(c=c.item(0),d.read(c.element(),r(i))):(a={},c.each(Ar(Bn(i,l,function(t,n,i,o){var u=a[t]=a[t]||e(t,n,be,d,r,ot(n)?be:"set");u(i,o)}))),c)}}},Rr=Lr(xr,tt,mr),Pr=Lr(xr,tt,kn),Br=Lr(xr,qt,pr),Vr=function(e,t){return t.each(e),t},Hr=function(e,t){return e(t.item(),0)},qr=function(e,t){return!t.find(e)},Ur=function(e,t,n){return function(r,i,o){return r.classList&&r.classList[e]?t(r,i,o):n(r,$e(r[Y]),i,o)}},Fr=function(e,t,r){var i,o=t;r&&(o==be&&(i=je(e,r),o=-1===i),i=i===n?je(e,r):i,o?-1===i&&e.push(r):-1!==i&&e.splice(i,1))},Wr={add:Ur("add",function(e,t){e.classList.add.apply(e.classList,t)},function(e,t,n){jt(n,tn(It(add,be,t)))}),remove:Ur("remove",function(e,t){e.classList.remove.apply(e.classList,t)},function(e,t,n){jt(n,tn(It(remove,be,t)))}),toggle:Ur("toggler",_e,function(e,t,n,r){jt(n,tn(Nt(Fr,[be,t,r]))),e[Y]=t.join(u)}),contains:Ur("contains",function(e,t){return!e.classList.contains.apply(e.classList,t)},function(e,t,n){return Ot(t,function(e){return!He(n,e,me)})}),change:Ur("add",function(e,t,n){e.classList.remove.apply(e.classList,t),e.classList.add.apply(e.classList,$e(n))},function(e,t,n,r){jt(n,tn(It(remove,be,t))),jt(r,tn(It(add,be,$e(t))))})},Gr=function(e){return function(t,n){return function(r){return Wr[e](r.element(),t,n)}}},$r=$n($n($e("add remove toggle change"),function(e,t){return e[t]=function(e){return function(t,n){return this.each(e($e(t),$e(n))),this}},e},{has:function(e){return function(t){return!this.find(e($e(t)))}}}),function(e,t,n){return e[n+"Class"]=t(Gr("has"===n?"contains":n)),e},{}),zr=function(e,t){var n,r=e[we]&&tt.read(e.element(),se);e.remark(k,t||!!r),e.is(k)&&!r&&(r=me),n=e[we]&&Ye(e.element(),se,r),r&&(e[F]=r)},Jr=function(e){var t;e[we]=ge,e.isIframe=ge,e.tagName=ge,e.isWindow||(t=e.element(),(e[we]=Re(t))&&(e.tagName=sn(t),nr(e),zr(e)))},Qr=function(e){var t,n=e.element();e.isWindow=bi(n),e.isWindow&&e.owner&&(e.remark(O,t=!!Zn(function(){return n[G]})),e.isTop=!(!window||n!==window.top),e.setAddress(),t&&(e.isTop||e.remark(O,e.sameOrigin())))},Xr=function(e,t){var n=e.element();return Qr(e),Jr(e),e.isDocument=ge,e.isFragment=ge,e.unmark(wi),e.isWindow?void e.mark(wi):(e.isDocument=Pe(n),e.isFragment=Ve(n),e.isDocument||e.isFragment?void e.mark(wi):void e.remark(wi,lr(e,t)))},Yr=function(e,t){return vr(E)+a+t.documentId+a+e},Kr=function(e,t){return'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">'+e+"</head><body>"+t+"</body></html>"},Zr=function(e){return function(t){return t[V]===e}},ti=function(e,t,n){var r,i,o=t||doc_,u=tr.first;return"body"===e?[o.body]:"head"===e?[o.head]:(n&&">"===e[0]&&(r=me,e=n.queryString()+e),i=o.querySelectorAll(e),r?qi(i,Zr(o)):xn(u(i)))},ni=h.DOMA_SETUP=function(e){var n,r,i,o,u,a=Gi(e,me),c=h.Registry(),s=(mn(Be(Nn)),0),f={},l={},d={},p=function(){return u=be,{x:0,y:0,z:0,motionX:0,motionY:0,motionZ:0,interval:1,rotationRate:0,alpha:0,beta:0,gamma:0,absolute:0}};return a.documentId?a.$:(n=Qt(Mt),i=function(e){a.DOMContentLoadedEvent=e,a.mark("ready")},r=function(e,t){var n=t||a;return Zi(e,n,ge,a===n,a)},a.documentId=a.id=hr("doc"),o=vt(Yt({$:r,makeTree:ln,makeBranch:dn,createElements:gn,createDocumentFragment:pn,registeredElementName:Yr,fragment:function(){return Gi(wn(be,a),a)}},function(e){return function(t){return e(t,a)}}),{events:{custom:{},expanders:{},lists:Yt({base:ct,svg:ft,keyboard:dt,gamepad:ht,composition:pt,mouse:mt,touch:gt,device:wt,focus:yt,time:bt,animation:xt,audioProcessing:kt,ui:Et,progress:Tt,all:Ct},function(e,t){return mn(Be(e))})},supports:{},registeredConstructors:l,registeredElementOptions:d,returnsManager:function(e){return e===a||e===a[I]?a:Gi(e,a)},createElement:function(e,t,n){return fn(e,t,n,a)},expandEvent:function(e,t){var n=a.events.expanders;return jt($e(t),function(t){jt($e(e),function(e){n[e]=n[e]||[],-1===je(n[e],t)&&n[e].push(t)})}),a},customEvent:function(e,t){return jt($e(e),function(e){a.events.custom[e]=t}),a},iframeContent:Kr,orderEventsByHeirarchy:me,data:h.Associator(),documentId:a.documentId,document:a,devicePixelRatio:Ae,constructor:Zi[w],registeredElements:n,templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},stashMotionEvent:function(e){u=e},motion:function(){var e,t,n,r;return u?s>=u.timestamp?f:(s=lt(),e=u.originalEvent,t=e.acceleration||(n=e.accelerationIncludingGravity)&&{x:n.x-9.81,y:n.y-9.81,z:n.z-9.81},t&&nt(t.x)&&(f.x=t.x,f.y=t.y,f.z=t.z,f.interval=e.interval,f.rotationRate=e.rotationRate,r=me),e.alpha!=be&&(f.alpha=e.alpha,f.beta=e.beta,f.gamma=e.gamma,f.absolute=e.absolute,r=me),r?f:p()):p()},plugin:function(e){return no.push(e),jt(eo,function(t){e(t)}),this},compile:function(e,t){return Le(e,t,a)},collectTemplates:function(){return r("script[id]").each(function(e){Le(e.element().id,e.html(),a)}).remove()},unregisteredElement:function(e){c.keep(e.registeredElementName(),e.id,e)},registerElement:function(e,r){var i=r||{},o=i["extends"],u=(i.events,i.prototype);i.destruction,a.registeredElementName(e);return n[e]?Kn(n[e]===me?{message:"custom element names must not be used natively by browsers"}:{message:"custom element names can only be registered once per document"}):n[e]=o?n[o]:ye,i.creation=(o?t.flows(d[o].creation,i.creation||_e):i.creation)||_e,d[e]=i,l[e]=(o?l[o]||Li:Li).extend(vr(pr(e)),vt({},u)),l[e]}}),vt(a,o),vt(r,o),ui(a.supports,a),$i(i,a),r)},oi=function(e,t,n,r){jt($e(t),function(t){e.addEventListener?(e.addEventListener(t,n),e.removeEventListener(t,n)):n(r)})},ui=function(e,t){var n=t.window(),r=n.element();e.deviceMotion=!!r.DeviceMotionEvent,e.deviceOrientation=!!r.DeviceOrientationEvent,e.motion=e.deviceMotion||e.deviceOrientation,oi(r,"deviceorientation devicemotion",function(t){t.alpha===be&&(e.motion=e.deviceMotion=e.deviceOrientation=ge)},{alpha:be})},ai=function(e,r){var i,o,u=this;return u.length()?Xe(e)&&r===n?(i=mr(e),(u=u.item(0))&&(o=u.getStyle())&&((fr=t.find(Jt[pr(e)],function(e){return o[e+i]!==n}))?o[fr+i]:o[fr+i])):(u.each(Ar(Bn(e,r,yr))),u):u},si=Nr(Hr),fi=Dr(Vr),li=function(e){var t=this,n=t.element();return ro(ti(e,n,t),n)},di=function(e){return e.isValidDomManager||Re(e)||Ve(e)},hi=function(){nr(this)},Ai=function(e,t,n,r,i,o){var u,a,c=r,s=Wi(t),f=je(s,n);if(o)for(c=c||1,u=n;u&&!a;)u=s[f=f+=c],a=hn(u,i);else u=n,u=s[f],u=s[f+c];return u&&e.owner.returnsManager(u)},xi=function(e,t,n){return function(e){var r,i,o=n,u=e||n,a=this,c=a.element(),s=c[t];if(!(r=Xe(u))&&t&&!s)return a.owner.returnsManager(s);if((i=c[V])||s)return Ai(a,i,c,o,u,r)}},ki=function(e,t){var n=e.element();return(e[we]&&e.is(t?_:k)?[n]:[]).concat(ti(fe,n,e))},Ei="isTrusted",Ti="fullscreen",Ci={props:$e("altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which x y deltaX deltaY"),fixedHooks:{},keyHooks:{props:$e("char charCode key keyCode"),filter:function(e,t){var n;return e.which==be&&(n=t.charCode,e.which=n!=be?n:t.keyCode),e}},forceHooks:{props:[],filter:function(e,t){return e.value=(t.force||t.webkitForce)/3||0,e}},motionHooks:{props:[],reaction:function(e){e.origin.owner.stashMotionEvent(e)}},mouseHooks:{props:$e("button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement"),filter:function(e,t){var r,i,o=t.button;return e.pageX==be&&t.clientX!=be&&(evntDoc=e.target.ownerDocument||r,r=evntDoc.documentElement,i=evntDoc[ve],e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.movementX=t.movementX||0,e.movementY=t.movementY||0,e.layerX=t.layerX||0,e.layerY=t.layerY||0,e.x=t.x||0,e.y=t.y||0,e.which||o===n||(e.which=1&o?1:2&o?3:4&o?2:0),e}},make:function(e,n,r){var i,o,u,a,c=n.type,s=Ci.fixedHooks[c];r.origin;if(s||(Ci.fixedHooks[c]=s=Ge.test(c)?this.mouseHooks:We.test(c)?this.keyHooks:Qe.test(c)?this.forceHooks:ze.test(c)?this.motionHooks:{}),a=s.props?this.props.concat(s.props):this.props,u=a[B],jt(a,function(t){var r=n[t];r!=be&&(e[t]=r)}),e.originalType=c,o=e.target||(e.view?e.view.event.currentTarget:event&&event.currentTarget)||e.delegateTarget.element(),o||(o=e.target=i),3===o[A]&&(e.target=o[V]),(s.filter||_e)(e,n),c=jn[n.type]||n.type,Si.call(e,r.origin,mn(n.data),c,be,e.timeStamp),e.type===Ti+M){if(i=e.target,bi(i))i=i[G];else for(;i&&!Pe(i)&&i[V];)i=i[V];e.fullscreenDocument=i,Pe(i)&&e.remark(Ti,i.fullScreen||i.webkitFullscreenElement||i.mozFullScreenElement||i.fullscreenElement?me:ge)}e[Ei]=t.has(n,Ei)?n[Ei]:!rt,(s.reaction||_e)(e,n)}},Si=h.ObjectEvent[w],Di=h.DomEvent=h.ObjectEvent.extend("DomEvent",{AT_TARGET:1,constructor:function(e,t){var r=this;return Di.isInstance(e)?e:(r.originalEvent=e,He(e.target)&&He(e.currentTarget)?r.delegateTarget=t.origin.owner.returnsManager(t.target):r.delegateTarget=t.origin,Ci.make(r,e,t),r.capturing=t.capturing===n?_n(r):t.capturing,r)},motion:function(){var e=this,t=e.origin.owner,n=t.motion();return n},preventDefault:function(){var e=this.originalEvent;this[pi]=me,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this[mi]=me,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this[gi]=me,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}}),Oi=function(e,t,n,r){var i=e.origin.element();i.removeEventListener?i.removeEventListener(t,n[r],r):i.detachEvent(t,n[r]),delete n[r]},Mi=h.EventsDirective.extend("DomEventsDirective",{remove:function(e,t){var n=this,r=n.elementHandlers,i=e.name,o=r[i],u=o.capturing;e.remove(t),u?(--o[Q],o[Q]||Oi(t,i,o,u)):(t.selector&&o[J]--,e[B]()===o[Q]&&Oi(t,i,o,u))},add:function(e,t){for(var n,r,i,o,u,a,c=this,s=t.element,f=0,l=c.elementHandlers=c.elementHandlers||{},d=e.name,h=l[d],p=t.capturing,v=e.unwrap(),m=t.origin.owner.events.custom;f<v[B]&&!n;f++)i=v[f],n=t.capturing===t.capturing&&t.handler===i.handler&&i.group===t.group&&t.selector===i.selector&&t.passedName===i.passedName;if(!n&&(u=h,h||(h=l[d]={delegateCount:0,captureCount:0,events:c,currentEvent:be,capturing:p}),t.mainHandler=h,h[p]||(a=t.domTarget,o=h[p]=function(e){return or(a,e.type,e,p)}),t.capturing?(e.insertAt(t,h[Q]),++h[Q]):t.selector?(r=h[J],++h[J],r?e.insertAt(t,h[Q]+r):e.insertAt(t,h[Q])):e.unwrap().push(t),jt(t.nameStack,function(e){t.fn=(m[e]||tr.first)(t.fn,e,t)||t.fn}),o))if(s=t.origin.element(),s.addEventListener)s.addEventListener(t.domName,o,p);else{if(p)return;s.attachEvent(t.domName,o)}},create:function(e,t,n,r){return Di(t,{target:e.target,origin:e,capturing:r.capturing})},queue:function(e,t,n){return n[mi]&&n.currentTarget!==t.temporaryTarget?(n[vi]=me,ge):(n.currentTarget=t.temporaryTarget,t.mainHandler.currentEvent=n,e.push(t),me)},unQueue:function(e,t,n){return n.currentTarget=t.currentTarget=be,t.mainHandler.currentEvent=be,e.pop(),this},cancelled:function(e,t,n){var r,i,o,u=this;if(!e[B]())return u;if(o=e.first(),r=o.mainHandler,i=r[J],!i||n>i)return u;for(;i>=n;)o=e[n],o.temporaryTarget=be,++n;return u},nextBubble:function(e,t){var n,r=e.element();return!e[we]||r[V]?ge:e.parent(function(t){return t[re]&&(n=e.owner.returnsManager(t),n.is(_))?[n,me]:[t[V],ge]})},subset:function(e,t){var n,r,i,o,u,a,c,s,f,l,d,h,p=0,v=0,m=[],g=t.origin;if(!e[B])return[];if(f=e[0],l=f.mainHandler,h=l[Q],d=l[J],t.capturing)return e.slice(0,h);if(g=t.origin,a=g.element(),i=t.target,!d||t.target===a)return e.slice(h);for(o=h+d,p=h,c=e.slice(o);o>p;)for(f=e[p],++p,s=f.selector,u=-1,n=i;!r&&n&&Re(n)&&n!==a;){if(++u,hn(n,s))if(r=n,f.temporaryTarget=r,f.parentNodeNumber=u,g.owner.orderEventsByHeirarchy)if(v=m[B])for(;f&&m[--v];)m[v].parentNodeNumber<=f.parentNodeNumber&&(m.splice(v+1,0,f),f=be);else m.push(f);else m.push(f);n=n[V]}return m.concat(c)}}),Ii=function(e,t){for(var n=ge,r=e;!r.isTop&&!n;)r=t.returnsManager(r.element().parent),r.iframe&&r.is(O)&&(n=!r.iframe.visible());return!n},_i=function(e,t){var n=e.directive(s),r=n[t]=n[t]||Rt();return r},Ni=function(e,t,n){return function(r){var i,o=this[oe](r);return o[we]?i=en(o.element())[e]:o.isDocument&&o.element()[ve]?i=o.element()[ve][t]:o.isWindow&&(i=o.element()[n]),i||0}},ji=(e.extendDirective("Registry","History"),function(e,t,n){var r,i,o=e[F];return e.is(k)?(r=e.owner.registeredElementName(o),i=e.owner.registeredConstructors[o],i||Kn({message:"custom elements must be registered before they can be used"}),e=new i[w](e,t,n)):e}),Li=h.DomManager=h.Events.extend(y,vt({},$r,{"directive:creation:EventManager":Mi,isValidDomManager:me,$:li,queryString:function(){var e="",t=this.toJSON(me),n=t.attributes;return e+=t.tag,n.id&&(e+="#"+n.id),n[X]&&(e+=c+n[X].split(u).join(c)),e},registeredElementName:function(){return this.owner.registeredElementName(this[F])},hasValue:jr(qr),addValue:Or(Vr),removeValue:Mr(Vr),toggleValue:Ir(Vr),changeValue:_r(Vr),on:Rn,once:Hn,off:qn,append:Fn,prepend:Wn,insertBefore:Gn,insertAfter:zn,getAttribute:si,setAttribute:fi,removeAttribute:Jn(P),attr:Rr(Vr),data:Pr(Vr),prop:Br(Vr),html:er(H),text:er(q),css:ai,next:xi("next","nextElementSibling",1),prev:xi("prev","previousElementSibling",-1),skip:xi("skip",be,0),height:Ni(ie,"scrollHeight",ue),width:Ni(ne,"scrollWidth",ae),siblings:function(e){var t=this,n=Vi(e);return t.parent().children(function(e,r,i){return e!==t&&n(e,r,i)})},constructor:function(e,t,n){var r,i=n,o=this;return Li.isInstance(e)?(t[y]=o,vt(o,e),r=i.registeredElementOptions[o[F]],r.creation.call(o,o),o.on(r.events),o.on("destroy",r.destruction),o):(o[I]=e,Xr(o,i),o[we]||o.isFragment?(t[y]=o,i=xe(e.ownerDocument,me),o[we]&&(o.id=e[re])):o.isDocument?i=o:t[y]=o,o.owner=i||ge,o.isIframe&&o.on($+":src detach attach",hi),o.isWindow&&Qr(o),o[we]&&(o[F]&&o[F]!==me&&Zn(function(){o=ji(o,t,i)},Yn.error),He(o,F)&&delete o[F]),o)},clone:function(){var e=this;return e[we]?dn(e.element()[U],e.owner):{}},element:function(){return this[I]},elements:function(){return[this[I]]},length:function(){return 1},wrap:function(e){return this.owner.$(e||this)},unwrap:function(){return[this]},parent:function(){var e=function(e,t,n){for(var r,i,o=e,u=o.element(),a=n;u&&!i;)r=t(u,n,a),u=r[0],i=r[1],a=r[2];return i?o.owner.returnsManager(u):void 0},t=function(e,t,n){return n-=1,(0>n||!it(n)||et(n))&&(n=0),[e[V],!n,n]},n=function(e,t,n){var r=e[V];return[r,hn(r,t)]},r={document:function(e,t,n){var r=e[V];return Pe(r)?[r,me]:Re(r)?[r[V],ge]:Ve(r)?[be,ge]:void 0},window:function(e,t,n,r){var i,o=e[he];return o?[o,me]:(i=e[V])?[i,ge]:[ge,ge]},iframe:function(e,t,n){var r,i=e,o=bi(e);return o?i===i.top?[be,ge]:(r=Zn(function(){return i.frameElement}),[r,!!r]):[e[he]]||e[V]}};return function(i){var o,u=this,a=ge;return nt(i)?o=t:Xe(i)?o=r[i]||n:a=i?me:a,a?e(u,i):(o||(o=t,i=1),e(u,o,i))}}(),contains:function(e){var t,n,r=e,i=this;return bi(r)?ge:Xe(r)?!!ti(r,i.element(),i)[B]:r.isValidDOMA?!!r.find(i.contains,i):(n=i.owner.returnsManager(r),n.isDocument?n.window()===i:(t=i.element(),!!n.parent(function(e){var n=e[V];return[n,n===t]})))},insertAt:function(e,t){var n=this,r=n.owner,i=di(e)?r.returnsManager(e):r.$(e).fragment(),o=i.element(),u=t==be?be:n.children(),a=u&&u.item(t)||be,c=a&&a.element()||be,s=n&&n.element(),f=i.children(),l=ki(i,me);gr(l,r),s&&s.insertBefore(o,c),lr(s,r)&&wr(l,r);return f},window:function(){var e=this;return e.isWindow?e:e.isDocument?e.returnsManager(e.element().defaultView):e.isIframe?e.owner.returnsManager(e.element().contentWindow):e.owner.window()},setAddress:function(e){var t=this;return e=t.address=e||t.address||Pn()},emit:function(e,n,r){var i,o=this.window(),u=o.element();return o.is(O)&&(i=mn(e),r)?(r({srcElement:u,timeStamp:t.now(),data:function(){return i}}),this):(Zn(function(){n?u.postMessage(e,n):Yn.error("missing referrer: "+o.address)},Yn.error),this)},sameOrigin:function(){var e,t=this,n=t.element(),r=t.owner.window(),i=r.element();return r===t?me:t.is(O)?(e=Sr(n.location.href),!e&&t.iframe&&(e=Sr(t.iframe.src())),!e||e===Sr(i.location.href)):ge},children:function(e,t){var r,i,o=this,u=Wi(o.element());return e===n?t?(u=yn(u,o.owner.returnsManager,o.owner))&&t.isFragment?t.append(u):t.push.apply(t,u)?t:t:o.wrap(u):(r=Vi(e),i=$n(u,function(e,t,n,i){return r(t,n,i)&&e.push(o.owner.returnsManager(t)),e},t||[]),t?i:o.wrap(i))},visible:function(){var e,t,n,r,i,o,u,a=this;return a.is(wi)?(n=a.getStyle(),0===+n.opacity||n.display===S||"0px"===n.height||"0px"===n.width||n.visibility===D?ge:(t=a.element(),e=t.getBoundingClientRect(),e.height&&e.width?(i=(a.element().ownerDocument||{}).defaultView)?(o=i[ue],u=i[ae],o<e.top||u<e.left||e.right<0||e.bottom<0?ge:(r=a.owner.returnsManager(i),r.isTop?me:Ii(r,a.owner))):me:ge)):ge},hide:function(){return this.applyStyle("display","none")},show:function(){return this.applyStyle("display","block")},applyStyle:function(e,t,n){return yr(e,t,this,n),this},getStyle:function(e){var t={},n=this,r=n.element();return r&&n[we]&&(t=Ue(r,n.owner.element())),t},remove:function(e,t){var n,r,i=this,o=i.is(T)||ge;return!o&&(n=i.element())&&(r=n[V])?(i.mark(T),i.isIframe&&t&&Je(t)&&setTimeout(It(t,be,i)),e?e.appendChild(n):r.removeChild(n),gr([n],i.owner),i.remark(T,o),i):i},frame:function(e,t){var n=this,r=e||"";return(t||1===r.toLowerCase().split("<!doctype ")[B])&&(r=n.owner.iframeContent(r,t)),n.isIframe?(n.is(wi)?n.html(r):n.cachedContent=r,n):r},destroy:function(e){var t,n=this,r=n[F],i=n.element();return n.is(x)?n:(n.mark(x),n.isIframe&&n.owner.data.remove(i.contentWindow),n.remove(be,e),r&&(t=n.owner.registeredElementName(r),n.directiveDestruction(t)),n.dispatchEvent(d),n.directiveDestruction(ri),n.owner.data.remove(i),n[ii](),n)},item:function(){return this},each:function(e,t){var n=this,r=[n];t?e.call(t,n,0,r):e(n,0,r);return r},find:function(e){var t=this;return e(t,0,[t])?t:n},client:function(){return en(this.element())},box:function(e){return Kt(this.element(),e)},flow:function(e){return Wt(this.element(),e)},dispatchEvent:function(e,t,n){var r,i=rt;return rt=me,r=or(this,e,t,n),rt=i,r},toJSON:function(e){var t,n,r,i,o,u=this,a=u.owner,c=u.element();return u.isWindow||u.isDocument?{}:(o={tag:u.isFragment?ye:sn(c)},e||(i=u.children(),(r=i[B]())&&(n=a.element().createDocumentFragment(),Pt(i.unwrap(),function(e){var r=e.element();n.insertBefore(r,t||be),t=r}),o.children=i[m]()),c[q]&&(o[q]=c[q]),r&&c.appendChild(n)),jt(c.attributes,function(e){var t=o.attributes=o.attributes||{};t[pr(e[N])]=e.nodeValue}),o)}},Yt(ur,function(e,t){return e||(e=t),function(t){var r=this;return t!==n?r.attr(e,t):r.element()[e]}}),Yt(ar,at),Yt(cr,function(e){return at(e)}),Yt($e("add addBack elements push fragment"),function(e){return function(t,n,r){return this.wrap()[e](t,n,r)}}))),Ri=function(e,t,n,r,i,o){var u=e.directive(ri),a=function(e,t){return e.obliteration(function(e){t&&t!==e.passedName||i&&e.handler!==i||n&&e.group!==n||r&&e.selector!==r||u.detach(e)})};return t?jt($e(t),Ln(e.owner.events.expanders,function(e,t){a(u[ci][e],t)})):Lt(u[ci],tn(a))},Pi=t.eq,Bi=t.matches,Vi=function(e){return Je(e)?e:Xe(e)?un[e]||function(t){return hn(t,e)}:nt(e)?function(t,n){return n===e}:ot(e)?Bi(e):function(){return me}},Hi=function(e){return function(t,n,r){return e(t.element(),n,r)}},qi=function(e,t){return $n(e,function(e,n,r,i){return t(n,r,i)&&e.push(n),e},[])},Ui=function(e,t){var n=Vi(t);return qi(e,Hi(n))},Fi=function(e){return bi(e)||Re(e)||Pe(e)||Ve(e)},Wi=function(e){return xn(e.children||e.childNodes)},Gi=function(e,t){return e&&!bi(e)&&e.isValidDomManager?e:xe(e,t)},$i=(t.exports({covers:Tn,center:Cn,closer:Dn,distance:Sn,escape:Me,unescape:Ie,box:Kt,isElement:Re,isWindow:bi,isDocument:Pe,isFragment:Ve,unitToNumber:cn,numberToUnit:an}),function(e,t){var n=It(e,t),r=t.window(),i=function(e){t.off("DOMContentLoaded",i),r.off("load",i),t.$(fe).each(t.returnsManager),n(t.$,e)};return t.is("ready")?n(t.$,t.DOMContentLoadedEvent):(t.on("DOMContentLoaded",i),r.on("load",i)),t.mark("setup"),t}),zi=function(e){return function(t,n,r,i,o,u){return this.each(function(a){a[e](t,n,r,i,o,u)})}},Ji=$e("show hide style remove on off once addEventListener removeEventListener dispatchEvent").concat(sr),Qi=$e("tag element client box flow"),Xi=function(e){var t="tag"!==e;return function(n,r){var i=this.item(n);return i&&i[e](t?this.context:r)}},Yi=$e("isWindow isElement isDocument isFragment"),Ki=function(e){return function(t){var n=this.item(t);return n&&n[e]}},Zi=h.DOMA=h.Collection.extend("DOMA",vt({},$r,{isValidDOMA:me,destroy:function(e){var t=Je(e)?e:be;return this.each(function(e){e.destroy(t)})},constructor:function(e,t,n,r,i){var o=e,u=this,a=u.context=r?t.item(0):i,c=u.owner=i,s=a.element();if(e&&!bi(e)&&e.isValidDOMA)return e;if(Je(e)){if(Pe(s))return $i(e,c).wrap()}else n||(Xe(e)?o="<"===e[0]?ln(e,c):yn(ti(e,s),c.returnsManager,c):(o=e,Li.isInstance(o)?o=[o]:(p.isInstance(o)&&(o=o.unwrap()),o=Fi(o)?[c.returnsManager(o)]:o&&yn(o,c.returnsManager,c)))),u.reset(o);return u},setValue:Dr(Vr),hasValue:jr(qr),addValue:Or(Vr),removeValue:Mr(Vr),toggleValue:Ir(Vr),changeValue:_r(Vr),add:En(function(e,t){var n=e.owner.$(t);return on(e.unwrap(),n.unwrap())}),addBack:En(function(e,t){var n=e._previous;return n?(t&&(n=n.filter(t)),e.unwrap().concat(n.unwrap())):e.unwrap().concat([]);
}),wrap:function(){return this},push:function(){var e=this.context.owner;return this.items.push.apply(this.items,$n(arguments,function(t,n){return n?(bi(n)?t.push(n):t=t.concat(!bi(n)&&Je(n.unwrap)?n.unwrap():e.returnsManager(n)),t):t},[],e)),this},elements:function(){return this.mapCall("element")},fragment:function(e){return this.context.returnsManager(wn(e||this.unwrap(),this.context))},filter:En(function(e,t){return Ui(e.unwrap(),t)}),empty:En(function(e,t){var n=Vi(t);return qi(e.unwrap(),Hi(function(e,t,r,i){return!n(t,r,i)&&t.remove()}))}),$:En(function(e,t){var n=[],r=function(t){n.push(e.owner.returnsManager(t))};return jt(e.unwrap(),function(e){jt(ti(t,e.element()),r)})&&n}),children:En(function(e,t){return $n(e.unwrap(),function(e,n){return n.children(t,e)},[])}),css:ai,allElements:function(){return!(!this[B]()||Ot(this.unwrap(),function(e){return!e[we]}))},height:Ni(ie,"scrollHeight",ue),width:Ni(ne,"scrollWidth",ae),attr:Rr(Vr),data:Pr(Vr),prop:Br(Vr),eq:En(function(e,t){return Pi(e.unwrap(),t)}),end:function(){for(var e=this;e._previous;)e=e._previous;return e},getAttribute:si,setAttribute:fi,append:function(e,t){return this.insertAt(e,be,t)},prepend:function(e,t){return this.insertAt(e,0,t)},insertBefore:Gn,appendTo:function(e){return ro(e).append(this),this},next:An("next",1),prev:An("prev",-1),skip:An("skip",0),siblings:En(function(e,t){return vn(e,function(e){return e.siblings(t).unwrap()})}),insertAt:function(e,t,n){var r=this,i=r.owner,o=di(e)?this.context.returnsManager(e):i.$(e).fragment();return this.each(function(e){var r=o;n&&(r=r.clone()),e.insertAt(r,t)})},replaceWith:En(function(e,t,n){var r,i,o=e.owner;return(r=Xe(element))||(i=di(t)?o.returnsManager(t):o.$(t).fragment()),vn(e,function(n,o){var u=t;if(!n[we])return[];if(r)u=e.owner.$(t);else if(Qt)u=i.clone();else if(o)return[];return parent=n.parent(),parent.insertAt(u,parent.children().indexOf(n)),n.remove(),u.unwrap()})}),contains:function(e){return!!this.find(function(t){return t.contains(e)})},clone:En(function(e){return e.foldl(function(e,t){return t[we]&&e.push(t.clone()),e})}),parent:En(function(e,t){var n={};return e.foldl(function(e,r){var i;return(i=r.parent(t))&&!n[i[I][re]]&&(n[i[I][re]]=i,e.push(i)),e},[])}),has:function(e){var t=this,n=p(e),r=n[B]();return!!r&&n.find(function(e){return-1===t.indexOf(e)})},html:bn(H),text:bn(q),map:function(e,t){return p(yn(this.unwrap(),e,t))},toJSON:function(){return this.results(m).unwrap()},toString:function(){return Be(this)}},Yt(Ji,zi),Yt(Qi,Xi),Yt(Yi,Ki))),eo=[],to=function(e){var t=ni(e[G]);return eo.push(t),e.DOMA=e.DOMA||t,e.$=He(e,"$")?e.$:t,jt(no,function(e){e(t)}),t},no=[],ro=to(r);e.undefine(to),ro.collectTemplates(),e.defineDirective(s,function(){return{}})}),e.scope(function(e){var t,i,o,u=e._,a=u.factories,c=0,s=0,f=0,d=u.pI,h=u.now,p=u.gapSplit,v=p("ms moz webkit o"),m="running",g="halted",y="stopped",b="destroyed",A="Timeout",x="clear"+A,k="AnimationFrame",E="request"+k,T="cancel"+k,C=[],S=[],D=u.eachCall,O=u.time,M=(u.remove,ge),I=me,_=function(e){var n=Math.max(0,s-f);t=r[E](function(){I=me,e()}),I||(r[x](i),i=r.setTimeout(e,n+1)),U.playWhileBlurred&&(r[x](o),o=r.setTimeout(function(){I=ge,e()},n+50))},N=function(){f=u.now(),r[T](t),r[x](i),r[x](o),D(S,"run",f),L()},j=function(){M=me,_(N)},L=function(){Pt(S,function(e,t){(e.is(g)||e.is(y)||e.is(b)||!e[B]())&&(e.stop(),S.splice(t,1))}),M=ge,S[B]&&j()},R=function(e){C.push(e)},P=function(e){He(S,e)||S.push(e),M||j()},V=(function(){for(;c<v[B]&&!r[E];++c)r[E]=r[v[c]+"RequestAnimationFrame"],r[T]=r[v[c]+vr(T)]||r[v[c]+"CancelRequestAnimationFrame"];r[E]||(r[E]=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=r.setTimeout(function(){e(t+n)},n);return s=t+n,i}),r[T]||(r[T]=function(e){r[x](e)})}(),"Looper"),H=a.Collection,q=function(e,t){return e.current=t,t.disabled?void e.dequeue(t.id):e.is(g)?me:void Zn(function(){t.fn(e.lastRun)},function(n){Yn.error(n),e.dequeue(t.id)})},U=a[V]=H.extend(V,{constructor:function(e){var t=this;return t.mark(y),t.unmark(g),t.unmark(b),t.unmark(m),H[w].call(t),R(t),t},destroy:function(){return this.mark(b),this.halt()},run:function(e){var t,n,r=0,i=this;if(!i.is(g)&&!i.is(y)&&i.length()){for(t=a.Collection(i.unwrap().slice(0)),i.lastRun=e;r<i[B]()&&!n;r++)n=q(i,i.item(r),r);i.current=be,i.unmark(m)}},dequeue:function(e){var t,r=this,i=e;return i!==n||arguments[B]?nt(i)?(t=r.get(l,i),t?(r.drop(l,i),r.remove(t)):void 0):ge:(r.current&&(r.drop(l,r.current.id),i=r.remove(r.current)),!!i)},stop:function(){return this.mark(y),this},start:function(){var e=this;return e.is(y)&&(e.unmark(y),e.unmark(g)),e},halt:function(){return this.mark(g),this.stop()},queue:function(e){var t,n=hr(ge),r=this;if(Je(e))return r[B]()||r.start(),t={fn:r.bind(e),id:n,disabled:ge,bound:r},r.push(t),r.keep(l,t.id,t),P(r),n},bind:function(e){return It(e,this)},once:function(e,t){return this.frames(1,e)},frames:function(e,t){var n,r=0,i=d(e)||1;return!t&&Je(i)&&(t=e,i=1),Je(t)?(n=this.bind(t),(1>i||!nt(i))&&(i=1),this.queue(function(e){var t=ge;r++,r>=i&&(this.dequeue(),t=me),n(e,t,r)})):void 0},tween:function(e,t){var n,r=h(),i=O(e);return i||(i=0),Je(t)?(n=this.bind(t),this.interval(0,function(e){var t=1,o=e-r;o>=i&&(t=0,this.dequeue()),n(e,Math.min(1,o/i),!t)})):void 0},time:function(e,t){var n;return Je(t)?(n=this.bind(t),this.interval(O(e),function(e){this.dequeue(),n(e)})):this},frameRate:function(e,t,n){var r,i=this,o=Math.min(n||.8,.8),u=30*o,a=1,c=h(),s=e||125;return Je(t)?(r=i.bind(t),i.queue(function(e){var t=1e3/(e-a);t>40&&(u=60*o),u>t&&(c=e),e-c>s&&(i.dequeue(),r(e)),a=e})):i},interval:function(e,t){var n,r=this,i=h();if(Je(t))return e||(e=0),n=r.bind(t),r.queue(function(t){t-e>=i&&(i=t,n(t))})},onceInterval:function(e,t){var n=e,r=O(t);if(Je(n)&&nt(r))return this.interval(r,e)},defer:function(e,t){var n,r=this;return function(){var i=xn(arguments),o=this||r;return r.dequeue(n),n=r.time(t,function(){e.apply(o,i)})}}}),F=a.Scheduler=a.Directive.extend("Scheduler",{});U.playWhileBlurred=me,e.defineDirective("Scheduler",F[w]),u.exports({AF:U()})}),e.scope(function(e){var t=e._,r=t.factories,i=function(e,t){return this[ce](e,t)},a=function(e,t,n){var r="delegateEvents"+e,i=je(n,"@"),u=-1!==i;return{selector:u?c(n.slice(i),t):o,group:r,events:u?n.slice(0,i):n}},c=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},s=r.Directive.extend("Element",{constructor:function(e){return this.view=e,this},ensure:function(){var e,t=this,n=t.view,i=t[k]||Un(n,"el");i&&(t[k]=i),Ue(i,r.DOMA)||(e=Xe(i)?i:t.create(Un(n,"tagName")),t.set(e,ge))},create:function(e){return $.createElement(e)},unset:function(){var e=this;delete e.view.el,delete e.el},set:function(e,t){var n=this;n.view.el=n.el=e},render:function(e){var t=this;return t.el.html(e||""),t},degenerateUIBindings:function(){var e=this;e.ui&&(e.ui=e.view.ui=e.uiBindings,delete e.uiBindings)},generateUIBindings:function(){var e=this,t=e.uiBindings||Un(e.view,"ui");e.ui=e.ui||{};return e.uiBindings?e:(e.uiBindings=t,e)},delegateEvents:function(){var e=this,t=e.view,n=e.el,r=e.elementBindings||Un(t,"elementEvents"),i=[];return e.elementBindings&&(e.elementBindings=r),n?(e.cachedElementBindings=yn(r,function(r,o){var u=a(t.cid,e.uiBindings,o),c=u.fn=_t(Xe(r)?t[r]:r,t);i.push(u),n.on(u.events,u[k],c,u.capture,u.group)}),e.cachedElementBindings=i,e):e},undelegateEvents:function(){var e=this,t=(e.view,e.el),r=e.cachedElementBindings;return r&&t?(jt(r,function(e){t.off(e.events.join(u),e[k],e.fn)}),e.cachedElementBindings=n,e):e},delegateTriggers:function(){var e=this,t=e.view,n=e.el,r=e.elementTriggers||Un(t,"elementTriggers"),o=[];return e.elementTriggers||(e.elementTriggers=r),n?(Lt(r,function(r,o){var u=a(t.cid,e.uiBindings,o),c=u.fn=Nt(i,t,r);n.on(u.events,u[k],c,u.capture,u.group)}),void(e.cachedElementTriggers=o)):e},undelegateTriggers:function(){var e=this,t=(e.view,e.el),r=e.cachedElementTriggers;return e.cachedElementTriggers&&t?(jt(r,function(e){t.off(e.events.join(u),e[k],e.fn)}),e.cachedElementTriggers=n,e):e},setAttributes:function(){var e=this,t=e.view,n=Un(t,"elementAttributes");return t[Y]&&(n=n||{},n[X]=Un(t,Y)),n&&e.el.attr(n),e},bindUI:function(){var e=this,t=e.uiBindings;return e.ui=e.view.ui=yn(t,e.el.$,e.el),e}});e.defineDirective(E,s[w],function(e,n){e.el.destroy(),e.unset();var r=e.ui;e.degenerateUIBindings(),t.eachCall(r,"destroy")})}),e.scope(function(e){var t=e._,n=t.factories,r=n.Collection,i=(t.protoProp,t.isFragment),u=t.isInstance,a=(t.isFunction,t.isArrayLike,t.reverseParams,t.intendedObject),c=(t.createDocumentFragment,"render"),s=c+"ed",f="constructor",v="bufferedViews",m="RegionManager",w=function(e){return this.list.get(l,e)},y=function(e,t){var n=this;a(e,t,function(e,t){var r=n.list.get(l,e);r||n.establish(e,t)})},b={message:"that region does not exist"},A=n.Parent,x=n.Model,T=function(e,t,n){var r,i,o,u=t,a=e.directive(si);return(o=I.isInstance(t))?(i=a.get("modelId",t.model.id))?i:t:(r=x.isInstance(u))?(i=a.get("modelId",u.id))?i:void 0:n({model:n[f][g].Model(t)})},C=function(e,t,n){var r=e[si];return t[P]=be,r.remove(t),r.drop("viewCid",t.cid),r.drop("modelCid",t.model.cid),r.drop("modelId",t.model.id),n},S=n.Region=A.extend("Region",{constructor:function(e){var t=this;return A[f].call(t,e),t.directive(si),t.setElement(),t},add:function(e,t){var n=this,i=r(e).foldl(function(e,t){var r;return(r=n.adopt(t))&&e.push(r),e},[]);return n.el&&n.render(),i},adopt:function(e){var t,n=this,r=n[si];if(!e)return n;if(t=T(n,e,n.parent.parent.Child||I),t[P]){if(t[P]===n)return ge;C(t[P],t,n)}return t[P]=n,r.add(t),r.keep("viewCid",t.cid,t),r.keep("modelCid",t.model.cid,t),r.keep("modelId",t.model.id,t),t},attach:function(e){var t,n,r=this,i=e.el&&e.el.element();return i?(t=i.parentNode,n=r.directive(v),t&&t===r.el.element()?r:(n.els.appendChild(i),r)):r},setElement:function(){var t,n=this,r=n[k],i=n[P][P];return i!==e?i.is(s)&&(t=i.el.$(r)[oe](0)):t=(n.owner$||$)(r)[oe](0),t?(n.directive(E).set(t),n):n},render:function(){var e=this,t=e.directive(v),n=e.directive(E);return e.unmark(s),t.ensure(),e[ce]("before:"+c),e.setElement(),n.setAttributes(),e[si].eachCall(c),n.el.append(t.els),e.mark(s),t.reset(),e[ce](c),e}}),D=function(e){var t=Un(e,"regions");Ft(t)[B]&&e.directive(m).establish(t);return e},O=function(e,t){var n=this;return a(e,t,function(e,t){var r=(r=n.directive(m).get(e))?r.add(t):Kn(b)}),n},M=function(e,t){var n=this;return a(e,t,function(e,t){var r=(r=n.directive(m).get(e))?r.remove(t):Kn(b)}),n},I=n.View=S.extend("View",{Model:x,getRegion:Yr.parody(m,"get"),addRegion:Yr.parody(m,"add"),removeRegion:Yr.parody(m,"remove"),addChildView:O,removeChildView:M,tagName:"div",filter:function(){return me},elementIsTemplate:function(){return ge},template:function(){return o},parentView:function(){for(var e,t=this,n=t[P];e&&n&&!u(n,I);)n=n[P],u(n,I)&&(e=n);return e},constructor:function(e){var t=this,n=e||{};return n.model=x.isInstance(n.model)?n.model:t.Model(n.model),A[f].call(t,n),t.directive(E).ensure(),this.id=hr(ge,me),D(this),t},valueOf:function(){return this.model.id},destroy:function(e){var t=this;return t.is(p)?t:(t[ce](h),t.mark(p),t[m]&&t[m].list.eachCall(d),t.el&&t.el.destroy(e),t.directiveDestruction(E),A[f][g].destroy.call(t),t)},render:function(){var e,t,n,r,i,o=this,u=!o.is(s);return o.unmark(s),o.filter()?(t=o.directive(E),o[ce]("before:"+c),n=o.model&&o.model.toJSON(),r=o.template(n),i=o.el,o.elementIsTemplate()&&(i=o.el.owner.fragment(r).children(),r=ge),e=i!==t.el,e&&t.unset(),t.degenerateUIBindings(),t.set(i),r!==ge&&t.render(r),t.generateUIBindings(),t.bindUI(),(e||u)&&(t.delegateEvents(),t.delegateTriggers()),t.setAttributes(),D(o),o.mark(s),o[ce](c),o[m]&&o[m].list.eachCall(c),t=o[P]&&o[P].attach(o),o):o}}),_=(S[f][g].Child=I,n.View,function(t,n){var r=this,i=r[P];return t?(a(t,n,function(t,n){var o,u=r.list.get(t);u||(u=r.create(t,n)),o=i!==e?i.el.$(u[k])[oe](0):$(u[k])[oe](0),u.el=o}),r):r}),N=function(e){},j=function(e,t){var n=this,r=(n[P],t),i=t;return u(i,S)?i:(i=S(vt({selector:r||o},ot(i)?i:{},{id:e,parent:n})),n.list.push(i),n.list.keep(l,e,i),i)},L=function(){var e=this;i(e.els)?1:e.resetEls()},R=function(){var e=this.views;return this.resetEls(),e},V=function(){this.els=document.createDocumentFragment()};e.defineDirective(m,function(e){return{list:r(),parent:e,create:j,establish:_,remove:N,add:y,get:w}}),e.defineDirective(v,function(e){return{region:e,els:$.createDocumentFragment(),reset:R,ensure:L,resetEls:V}}),e.extend($n($e("add remove get"),function(e,t){return e[t+"Region"]=Yr.parody(m,t),e},{addChildView:O,removeChildView:M})),e.directive(m)}),e.scope(function(e){var t=e._,i=t.factories,u=t.parse,a=t.stringify,c="%7B",s="isLate",f="documentReady",d="isWindow",h="deferred",p="resolved",v="is"+vr(h),m="group",g="postTo",y="command",b="runCount",A="flushing",x="connect",k=x+"ed",E="dis"+k,T="initialize",S="response",D="message",O=vr(S),M="latest"+O,I="last"+O,_="responded",j=_+"With",L="received",V=N+_,H=N+L,q="sentMessageIndex",U="receiveReferrer",F="emitReferrer",W="buster",G="packet",z="version",J={},Q=function(t){var n,r=t.data(),i=r.postTo;if(!e.isDestroyed&&r&&i&&(e[z]===r[z]||"*"===r[z])&&(n=(J[r.group]||{})[r.postTo])){var o,u=r.runCount,a=n.directive(si);if(u){if(o=a.get(l,r.messageId),!o)return n;n.response(o,r)}else n.receive(r)}},X=function(e,t){var n=a(e);return t.emitWindow.emit(n,t.get(F),Q)},Y=Pn(),Z="respondHandlers",ee=i.Model.extend(vr(D),{idAttribute:D+"Id",initialize:function(){var e=this;e[Z]=[],e.once(S,e.saveReceived),e.on(h,e.saveDeferred)},saveReceived:function(e){this.responseEventObject=e},saveDeferred:function(e){this.deferredEventObject=e},packet:function(e){var t=this;return arguments[0]?t.set(G,e||{}):t=u(a(t.get(G))),t},defaults:function(){return{command:be+o,packet:{}}},response:function(e){var t=this;return Je(e)?(t.get(j)?e.call(t,t.responseEventObject):t.once(S,e),t):t},deferred:function(e){var t=this,n=t.get(M);return t.on(h,e),n&&n.isDeferred&&e.call(t,t.deferredEventObject),t},send:function(){return this[P].flush()}}),te={message:Q},ne=function(e){return Ot(J,function(t){return Ot(t,function(t,n,r){return e===t&&delete r[n]})})},re=function(){var e=this;e.connectPromise&&e.connectPromise.reject(),e.unmark(k),e[ce](E),e.connectPromise=t.Promise()},ie=function(e){var t=this,n=t.directive(R);n.get(s)&&n.set(q,1),t.respond((e.message||e.origin).id),t.mark(k),t[ce](k)},oe=vr(W),ue=function(n){return{from:n.get(l),postTo:n.get(g),group:n.get(m),version:e[z],messageId:n.directive(si)[B](),timeStamp:t.now()}};i[oe]=i.Model.extend(oe,{Child:ee,bounce:function(e){return this.respond(e.message.id)},connected:function(){return this.connectPromise.success(arguments),this},response:function(e,t){var n=e[R];n&&(n.set(M,t),e.is(p)?e[ce](h,t.packet):(n.set(j,t),e.mark(p),e[ce](S,t.packet)))},receive:function(e){var t,n=this,r=n.receiveHistory;return e.originMessageId=e.messageId,e.messageId=r.length(),e.isDeferred=ge,t=ee(e),r.push(t),r.keep(l,e.messageId,t),n[ce](H),n[ce](L+C+e.command,e.packet,{message:t}),n[ce](L),n},setGroup:function(){var e=this,t=e.get(m),n=e.get(l),r=(ne(e),J[t]=J[t]||{});return r[n]=e,e},defineWindows:function(e,t){var n=this,r=n.directive(R);e&&e[d]&&(n.receiveWindow=e.on(te),n.mark(f),n.flush()),t&&t[d]&&(n.emitWindow=t,r.set(g,r.get(g)||n.emitWindow.address))},defineIframe:function(e){var t,n=this;e&&e.isIframe&&(n[yi]=e,e.is("attached")&&(t=e.window())&&n.defineWindows(be,t),e&&n.setupIframe())},setupIframe:function(){var e,n=this,r=n[yi],i=n.directive(R),u=n.receiveWindow.element().location.href.split(c),s=(u.shift(),u.unshift(o),u.join(c)),f=Mr(i.get(U)||s).origin,l=i.get(yi+"Src"),d=i.get(yi+"Content"),h={postTo:n.id,useTop:!1,useParent:!0,emitReferrer:f,id:i.get(g),group:i.get(m)};i.set(U,f),l&&(e=i.set(F,t.reference(l)),h.receiveReferrer=e),l&&r.src(Ln({url:l,hash:h})),d&&(r.data(W,encodeURI(a(h))),r.html(d),n.begin(T))},stripData:function(){var e,t,n,r=this,i=r.receiveWindow;i&&i[d]&&(n=i.element().location.hash.slice(1),e=n.split(c),t=e.shift(),e.unshift(o),n=e.join(c),r.set(u(decodeURI(n||Zn(function(){return i.parent(yi).data(W)})))))},constructor:function(e,t,r,o){var u=this,a=r||{},c=$(e).item(0),f=$(t).item(0);return a.id=a.id===n?Pn():a.id,u.receiveHistory=i.Collection(),re.call(u),a.group=Y,i.Model[w].call(u,a),u.on(k,function(e){u.connectPromise.fulfill(u.directive(si).first()),u.flush()}),u.on({"received:update":"bounce","received:unload":"destroy",destroy:re,"received:initialize received:connect":ie,"change:group change:id":"setGroup"}),u.on(o),u.setGroup(),c&&c[d]&&u.defineWindows(c),f[d]?u.defineWindows(be,f):u.defineIframe(f),u.get("strip")&&u.stripData(),u.set(q,0),u[yi]?u.get(s)&&u.begin(T):u.begin(x),u},flush:function(){var e,t,r,i,o=this,u=o.directive(R),a=u.get(q),c=o.is(k),s=u.get("initedFromPartner"),l=u.get(A);if(!o.is(f))return o;if(!s||c&&(c||!a)&&!l){for(u.set(A,me),t=o.directive(si),r=t[B](),i=t.item(a);i&&r>a;)i.directive(R).set(b,0),a||c?(i=t.item(a),a=u.get(q)+1||0,u.set(q,a),X(i,o)):(r=n,e=i.get(y),e!==x&&e!==T||X(i,o));o.set(A,ge),o.is(k)&&t[B]()>o.get(q)&&o.flush()}return o},create:function(e,t,n){var r=this,i=r.add(vt({command:e,packet:t},ue(r),n));return i[0]},sync:function(e){return this.create("update").response(e).send()},respond:function(e,n){var r,i,o,u=this,a=u.receiveHistory.get(l,e);return a?(u[ce](V),r=a.directive(R),r.set(b,(r.get(b)||0)+1),i=vt(me,Un(u,"package")||{},n),o=vt(ue(u),{from:a.get(g),postTo:a.get("from"),messageId:a.get("originMessageId"),isResponse:me,isDeferred:a.get(v),runCount:a.get(b),command:a.get(y),timeStamp:t.now(),packet:i,version:a.get(z)}),r.set(I,o.timeStamp),r.set(v,me),u.set(I,o.timeStamp),X(o,u),u[ce](_,i),u):u},begin:function(e){var t=this,n=t.directive(si);return n.item(0)||t.create(e).response(function(e){ie.call(t,e)}).send()}});e.topAccess()&&$(r[K]).on(D,Q)}),application.scope().run(function(e,t,n){var r,i,o=0,a=ge,c="expected",s=" not",f=" to equal ",l=" an error",d=" to be thrown",h=" to be strictly equal to ",p=t.stringify,v=t.negate,m=[],g=[],w=[],y=[],b=[],A=[],x=[],k=[],E=[],T=[],C=function(e,t){return function(n){var i,u={};return(i=e(r,n))?x.push(u):(++o,u=new Error(t.call(this,r,n)),Yn.error(u),k.push(u)),A.push(u),i}},S={not:{}},D=function(e){return r=e,S},O=D.maker=function(e,t,n,r){S[e]=C(t,n),S.not[e]=C(v(t),r)},M=(O("toThrow",function(e){var t=ge;return Zn(e,function(){t=me},function(){return t})},function(){return c+l+d},function(){return c+l+s+d}),O("toBe",function(e,t){return e===t},function(e,t){return c+u+p(e)+h+p(t)},function(e,t){return c+u+p(e)+s+h+p(t)}),O("toEqual",function(e,n){return t.isEqual(e,n)},function(e,t){return c+u+p(e)+f+p(t)},function(e,t){return c+u+p(e)+s+f+p(t)}),function(e){return function(t){e.erred=t,Yn.error(t)}}),I=function(e){var n;e.endTime=t.performance.now(),y.pop(),o||e.erred?(w.push(e),e.promise.reject(e.err)):(g.push(e),e.promise.fulfill()),o=0,L(e.afterStack),a=ge,b[0]&&(n=b.shift(),clearTimeout(n.runId),N(n)),V()},_=function(e,n){y.push(e),E.push([]),T.push([]),t.wraptry(n,Yn.error,function(){T.pop(),E.pop(),y.pop()})},N=function(e){a=me,e.runId=setTimeout(function(){var n,r,i,o,u;a=me,L(e.beforeStack),i=M(e),1===e.handler[B]?(o=new Error,e.timeoutId=setTimeout(function(){Yn.error("timeout:\n"+e.current.join("\n")),n(o),I(e)},5e3),r=function(){e.handler(function(){clearTimeout(e.timeoutId),I(e)})},n=i,i=function(t){n(t),I(e)},u=_e):(r=e.handler,u=function(){I(e)}),e.startTime=t.performance.now(),Zn(r,i,u)})},j=function(e,n){var r,i;return y.push(e),r=y.slice(0),y.pop(),i={string:e,handler:n,current:r,afterStack:T.slice(0),beforeStack:E.slice(0),promise:t.Promise()},m.push(i),a?void b.push(i):(N(i),i.promise)},L=function(e){for(var t=0;t<e[B];t++)for(var n=e[t],r=0;r<n[B];r++)n[r]()},R=function(e){E[E[B]-1].push(e)},P=function(e){T[T[B]-1].push(e)},V=function(){i=void 0===i?setTimeout(function e(){var t,n=0,r=0;if(a)i=setTimeout(e,100);else{for(;n<m[B];n++)t=m[n],r+=t.endTime-t.startTime;Yn.log(x.length+" successful expectations\n"+k.length+" failed expectations\n"+A.length+" expectations ran\n"+g.length+" out of "+m.length+" tests passed\nin "+r+"ms")}},100):i};t.exports({afterEach:P,beforeEach:R,expect:D,describe:_,it:j})})});
//# sourceMappingURL=odette.min.js.map
