this.Odette=function(e,t,n,r){"use strict";function i(e,t){return this.version=e,this.scoped=p,this.missedDefinitions=[],this}var o,u,a="length",s="global",c="prototype",f="touchTop",l="topAccess",d=this||e||window,h=d.document,p=!0,m=!1,v=null,g=function(e){return function(t){return typeof t===e}},y=function(){return+new Date},w=g("string"),b=g("function"),x=y(),A=function(e,t){return function(){return t.apply(e,arguments)}},E=function(e,t,n){try{return e()}catch(r){return t&&t(r)}finally{return n&&n()}};i[c].wraptry=E,i[c].now=y,i[c].extend=function(e){var t,n=this;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},i[c].undefine=function(e){return this.missedDefinitions.push(e),this},i[c].parody=function(e){for(var t=this,n=0,r={},i=t[s];n<e[a];n++)r[e[n]]=A(i,i[e[n]]);return t.extend(r),t},i[c].scope=function(e,t){var n=e&&w(e)?e:this.version,r=e&&(b(e)?e:b(t)?t:v);return this[s].scope(n,r)},i[c][f]=function(){return this[s][f](d)},i[c][l]=function(){return this[f](),this[s][l]};var k,T=d[t]=d[t]||{versions:{},executionTime:x,versionOrder:[],global:p,scoped:m,wraptry:E,registerVersion:function(e){var t=this,n=t.versions[e],r=t.versions[e]=n||new i(e,t);return r[s]=t,t.currentVersion=e,t.upsetDefaultVersion(e),n||t.versionOrder.push(e),r},definition:function(e,t,n){var r=this,i=r.registerVersion(e);return i.defined?r.map(i.missedDefinitions,function(e){e.call(i,t)}):(i.defined=p,n.call(i,i)),i},upsetDefaultVersion:function(e){var t=this;t.defaultVersion?+t.defaultVersion===+t.defaultVersion&&+e!==+e&&(t.defaultVersion=e):t.defaultVersion=e},unRegisterVersion:function(e){var t=this,n=t.versions[e],r=t.versionOrder.indexOf(e);return-1!==r&&t.versionOrder.splice(r,1),n[s]=o,t.versions[e]=o,n},scope:function(e,t){var n,r,i,o=this,u=o.versions;return w(e)?(n=e,r=t):(r=e,n=o.defaultVersion),u[n]?o.currentVersion=n:o.registerVersion(n),i=u[n],b(r)?(this.wraptry(function(){r.call(o,i)}),i):i},map:function(e,t,n){for(var r=0,i=e[a],o=[];i>r;)o[r]=t.call(n,e[r],r,e),r++;return o},registerScopedMethod:function(e,t){var n=this,r=t||3;n[e]=n[e]||function(){var t=0,i=arguments,o=i,u=i[a],s=i[0];if(r>u)s=n.currentVersion;else{for(o=[];t<i[a];t++)o.push(i[t]);s=o.shift()}n.applyTo(s,e,o)};return n},get:function(e){return this.versions[e]},applyTo:function(e,t,n){var r=this,i=r.get(e);return i&&i[t]&&i[t].apply(i,n)},getCurrentScript:function(e){var t=(e||h).scripts,n=e.currentScript,r=t[t[a]-1];return n||r},touchTop:function(e){var n,r=1,i=this;return i[l]===o&&(i.wraptry(function(){n=e.top.location.href,n&&(r=p,i=e.top[t]||i)},function(){r=m}),e===e.top&&(r=p),r&&(u=e.top.document,e.top[t]=i),i[l]=r),e[t]=i,i}};return(k=T.get(n))?k:(k=T.registerVersion(n,d),r.call(d,T,k),k)},Odette(this,"application","dev",function(e,t){var n=this;e.touchTop(n)}),application.definition("dev",window,function(e){"use strict";function t(e,t){return this}var n,r=window,o=r.document,u="",a=" ",s="-",c=".",f="/",l="px",d="id",h="destroy",p=j+h,m="destroying",v="toString",g="toJSON",y="prototype",w="constructor",b="current",x="name",A="type",E="selector",k="element",b="current",T="child",D=":",S="none",C="hidden",M="before",O="change",_="target",I="origin",j=M+D,R=O+D,N="reset",L="data",V="parent",h="destroy",P="length",B="object",H="string",U="boolean",F="function",W="indexOf",q="window",G="document",J="stack",z="start",Q="stop",X="class",Y="className",K="top",Z="left",ee="right",te="bottom",ne="width",W="indexOf",re="__elid__",ie="height",oe="index",ue="innerHeight",ae="innerWidth",se="dispatchEvent",ce="http",fe=ce+"s",le="__"+w+"__",de="location",he="extend",pe="style",me="body",ve=!0,ge=!1,ye=2147483647,we=null,be={},xe=Object,Ae=Function,Ee=Ae[w],ke=Array,Te=String,De=Number,Se="[object ",Ce=(Te[y],xe[y],ke[y]),Me=(Ae[y],xe.keys),Oe=!{toString:we}.propertyIsEnumerable(v),_e=(De.MAX_VALUE,De.MIN_VALUE,De.MAX_SAFE_INTEGER,De.MIN_SAFE_INTEGER,function(){}),Ie=function(e,t,n,r){if(!e)return-1;for(var i,o=n||e[P],u=t+(r?0:-1),a=r?-1:1;(u+=a)<o;)if(i=e[u],i!==i)return u;return-1},je=function(e,t,n,r,i){var o,u,a;if(!e)return-1;if(t!==t)return Ie(e,n,r,i);for(o=(n||0)-1,u=r||e[P],a=i?-1:1;(o+=a)<u;)if(e[o]===t)return o;return-1},Re=function(e,t,n,r){var i,o=n||0,u=r||e[P]-1,a=ye>=u?ve:ge;if(a)for(;u>=o;){if(i=o+u>>1,e[i]===t)return i;e[i]<t?o=i+1:u=i-1}else for(;u>=o;){if(i=(o+u)/2|0,e[i]===t)return i;e[i]<t?o=i+1:u=i-1}return-1},Ne=function(e,t,n,r,i){return(e&&e[P]>100?Re:je)(e,t,n,r,i)},Le=function(e){return e==we?u:e+u},Ve=function(e){return(it(e)?JSON.stringify(e):$e(e)?e.toString():e)+u},Pe=function(e,t){var n=t||function(e,t){return e>t};return Ce.sort.call(e,function(){var e=n.apply(this,arguments),t=+e;return Ze(t)&&(t=0),t>1&&(t=1),(e===ge||-1>t)&&(t=-1),t})},Be=function(e,t){var n=ge;return e&&$e(e.hasOwnProperty)&&(n=e.hasOwnProperty(t)),n},He=function(e){return e&&e[le]&&e[le][w]||e[w]},Ue=function(e,t){var n=t;return Be(n,w)&&(n=n[w]),e instanceof n},Fe=function(e){return function(t){return Qe(t)?t.split(e):t}},We=function(e){return function(t){return t.join(e)}},qe=We(a),Ge=Fe(a),Je=function(e,t){return t||(t=function(){return 1}),function(n){var r=0;return typeof n===e&&t(n)&&(r=1),!!r}},$e=Je(F),ze=Je(U),Qe=Je(H),Xe=function(e){return e===we},Ye=function(e){return e===n},Ke=function(e){return Ye(e)||Xe(e)},Ze=function(e){return e!==e},et=function(e){return function(){return!e.apply(this,arguments)}},tt=Je("number",function(e){return e===e}),nt=r.isFinite,rt=function(e){return tt(e)&&nt(e)},it=Je(B,function(e){return!!e}),ot=Array.isArray,ut=function(e){return!Vt(e)[P]},at=Ge("valueOf isPrototypeOf "+v+" propertyIsEnumerable hasOwnProperty toLocaleString"),st=function(e){for(var t=0,n={},r=Vt(e),i=r[P];i>t;t++)n[e[r[t]]]=r[t];return n},ct=function(e,t){var n=at[P],r=e[w],i=$e(r)&&r[y]||ObjProto,o=w;for(Be(e,o)&&!contains(t,o)&&t.push(o);n--;)o=at[n],o in e&&e[o]!==i[o]&&!contains(t,o)&&t.push(o)},ft=function(){return+new Date},lt=(ft(),function(){return ft()-this.offset}),dt=window.performance,ht=dt?(dt.now=dt.now||dt.webkitNow||dt.msNow||dt.oNow||dt.mozNow||lt)&&dt:{now:lt},pt=function(){var e=ge,t=arguments,n=t[P],r=1,i=t[0];for(i===ve&&(e=ve,i=t[1],r=2),i=i||{};n>r;r++)mt(i,t[r],e);return i},mt=function(e,t,r){for(var i,o,u=0,a=Lt(t),s=a[P];s>u;u++)i=a[u],t[i]!==n&&(o=t[i],r&&it(t[i])?(it(e[i])||(e[i]=Kt(t[i])),mt(e[i],t[i],r)):e[i]=o);return e},vt=Math.pow(2,53)-1,gt=function(e){var t=!!e&&e[P];return ot(e)||tt(t)&&!Qe(e)&&t>=0&&vt>=t&&!$e(e)},yt=function(e,t,n){var r=Vt(e),i=St(t,n);return{keys:r,handler:function(t,n,r){return i(e[t],t,e)}}},wt=function(e){return function(t,n,r,i){var o,u=t,a=u,s=n,c=s,f=r,l=i;return u?(gt(u)||(o=yt(a,s,f),c=o.handler,a=o.keys,f=we),e(a,c,f,l)):u}},bt=function(e){return wt(function(t,n,r,i){for(var o=t[P],u=St(n,r),a=i||(e>0?0:o-1);a>=0&&o>a;a+=e)if(u(t[a],a,t))return a;return-1})},xt=bt(1),At=bt(-1),Et=function(e){return-1!==e&&e===e&&e!==n&&e!==we&&e!==ge&&e!==ve},kt=function(e){return function(t,n,r,i){var o=e(t,n,r,i);return Et(o)?t[o]:void 0}},Tt=kt(xt),Dt=kt(At),St=function(e){var t=nn(arguments).slice(1);return e.bind.apply(e,t)},Ct=function(e,t,n,r){var i,o,u,a,s,c;if(e){if(s=0,a=e[P],c=a%8,u=parseInt(a/8,10),0>r&&(s=a-1),i=r||1,o=St(t,n),c>0)do o(e[s],s,e),s+=i;while(--c>0);if(u)do o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i;while(--u>0);return e}},Mt=wt(Ct),Ot=function(e){return function(t,n,r){return e(t,n,arguments[P]<3?we:r,-1)}},_t=Ot(Ct),It=Ot(Mt),jt=function(e){var t,r=e+u;return r=r.trim(),r===ge+u&&(t=ge),r===ve+u&&(t=ve),t===n&&(t=e),t},Rt=function(e){return parseFloat(e)||0},Nt=function(e){return parseInt(e,10)||0},Lt=function(e){var t,n=[];for(t in e)n.push(t);return Oe&&ct(e,n),n},Vt=function(e){var t,n=[];if(!e||!it(e)&&!$e(e))return n;if(Me)return Me(e);for(t in e)Be(e,t)&&n.push(t);return Oe&&ct(e,n),n},Pt=function(e,t,n){var r,i,o,u,a=this,s=Qe(e);s||(t=e),o=Be(t,w),t&&o&&(r=t[w]),s?(i=a,r&&(i=r),r=new Ee("parent","return function "+e+"(){return parent.apply(this,arguments);}")(i)):r=r||new Ee("parent","return "+a.toString())(a),r[he]=Pt;var c=function(){this[w]=r};return c[y]=a[y],r[y]=new c,t&&pt(r[y],t),u=r,r=Bt(u),r.__super__=a,u[y][le]=r,r},Bt=function(e){var t=function(t,n,r,i,o,u){return Ue(t,e)?t:new e(t,n,r,i,o,u)};return t.isInstance=e.isInstance=function(t){return Ue(t,e)},t[w]=e,t[he]=e[he]=function(){return Pt.apply(e,arguments)},t},Ht=function(e){var t;return function(){return t?void 0:(t=1,e.apply(this,arguments))}},Ut=function(e,t,r,i){if(e===t)return 0!==e||1/e===1/t;if(e===we||e===n||t===n||t===we)return e===t;var o=Le.call(e);if(o!==Le.call(t))return ge;switch(o){case Se+"RegExp]":case Se+"String]":return u+e===u+t;case Se+"Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case Se+"Date]":case Se+"Boolean]":return+e===+t}var a=o===Se+"Array]";if(!a){if(!it(e)||!it(t))return ge;var s=e[w],c=t[w];if(s!==c&&!($e(s)&&s instanceof s&&$e(c)&&c instanceof c)&&w in e&&w in t)return ge}for(var f=r[P];f--;)if(r[f]===e)return i[f]===t;if(r.push(e),i.push(t),a){if(f=e[P],f!==t[P])return ge;for(;f--;)if(!Ut(e[f],t[f],r,i))return ge}else{var l,d=Vt(e);if(f=d[P],Vt(t)[P]!==f)return ge;for(;f--;)if(l=d[f],!Be(t,l)||!Ut(e[l],t[l],r,i))return ge}return r.pop(),i.pop(),ve},Ft=function(e,t){return Ut(e,t,[],[])},Wt=function(e){return Zt(e,function(e){return e})},qt=function(e){return Qt(Ve(e))},Gt=function(e,t,n){var r={},i=ot(e),o=$e(t);return Mt(e,function(u,a){i?!o||n?r[u]=t:r[u]=t(u):r[a]=t(e[a],a)}),r},Jt=function(e){return pt(Nn,e)},$t=r.Image,zt=function(e,t){var n=new $t;return e=dn(e),t&&(n.onload=function(){Nn.unshift(arguments,e),t.apply(this,arguments)}),n.src=e,n},Qt=function(e){var t,r=e;return Qe(r)&&(r=r.trim(),"{"===r[0]&&"}"===r[r[P]-1]||"["===r[0]&&"]"===r[r[P]-1]?_n(function(){r=JSON.parse(r)},Mn.error):"true"===r?r=ve:(t=+r,t===t?r=t:"false"===r?r=ge:"null"===r?r=we:"undefined"===r?r=n:"function"===r.slice(0,8)&&(r=new Ee("return "+r)()))),r},Xt=function(e,t){var n,r=t.toString();return $e(t)&&(n=r.split("{"),r=n.shift(),r=(r=n.join("{")).slice(0,r[P]-1)),new Ee("context","with(context) {\n"+r+"\n}")(e)},Yt=function(e,t,n){var r;return function(){var i=this,o=arguments,u=n&&!r,a=function(){r=we,n||e.apply(i,o)};return clearTimeout(r),r=setTimeout(a,t),u&&e.apply(i,o),r}},Kt=function(e){return gt(e)?[]:{}},Zt=function(e,t,n){var r=Kt(e),i=St(t,n);return e?Mt(e,function(t,n){r[n]=i(t,n,e)})&&r:r},en=function(e){return 1===e[P]?[e[0]]:Array.apply(we,e)},tn=function(e){return e?kn(e,function(e,t){return e.push(t),e},[]):[]},nn=function(e,t){return gt(e)?ot(e)?e:en(e):Qe(e)?e.split(Qe(t)?t:u):t===ve?tn(e):[e]},rn=function(e,t,n){var r=!!t;return kn(e,function(e,t){var i;return gt(t)?(i=r?rn(t,r,n):t,e.concat(i)):(n&&n(t),e.push(t),e)},[])},on=function(e,t,n){return rn(gt(e)?e:tn(e),t,n)},un=function(e,t){var n=[];return n.concat.apply(n,Zt(e,t))},an=function(e,t,r){return e===e&&(r!==n&&(e=r>=e?e:r),t!==n&&(e=e>=t?e:t)),e},sn=function(e){return an(e,MIN_SAFE_VALUE,MAX_SAFE_VALUE)},cn=function(e){var t=e%1;return e===e?t?e-t:e:0},fn=function(e,t){var n;return cn((n=+e)==e?t?n:sn(n):0)},ln=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,u=ft(),a=arguments;r&&r+t>u?(clearTimeout(i),i=setTimeout(function(){r=u,e.apply(o,a)},t)):(r=u,e.apply(o,a))}},dn=function(e){var t,r,i=e.url,o=[];if(it(e)){for(r in e.query)t=e.query[r],t!==n&&(t=encodeURIComponent(Ve(t)),o.push(r+"="+t));o[P]&&(i+="?"),i+=o.join("&"),e.hash&&(e.hash=it(e.hash)?encodeURI(Ve(e.hash)):hash,i+="#"+e.hash)}else i=e;return i},hn=function(e,t,n){var r,i,o=He(e);n=n||1;do i=o[y],r=i[t],o=He(i);while(--n>0&&o&&rt(n));return r},pn=function(){var e="crypto"in r&&"getRandomValues"in crypto,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i,o,u;return e&&(i=r.crypto.getRandomValues(new Uint32Array(1)),i===n&&(e=ge)),e||(i=[Math.floor(1e10*Math.random())]),i=i[0],o=i%16,u="x"===t?o:3&o|8,u.toString(16)});return e?t:"SF"+t},mn=function(e,t,n,r){var i,o=it(e),u=St(n,r);return o&&(i=Vt(e)),function(n,r,a,s,c,f){o?Ct(i,function(t){u(t,e[t],n,r,a,s,c,f)}):u(e,t,n,r,a,s,c,f)}},vn=function(e,t,n,r){var i=r?St(n,r):n,o=it(e)?e:ge;o?Mt(o,gn(i)):i(e,t)},gn=function(e){return function(t,n,r){e(n,t,r)}},yn=function(e,t,n){var r;return tt(t)||(t=1),r=Math.pow(n||10,t),parseInt(r*e,10)/r},wn=function(e,t,n,r){return it(e)?r||$e(e[t])?e[t](n):e[t]:e},bn=Math,xn=function(e){return function(t){return bn[e].apply(bn,t)}},An=function(e){return function(t){return t=t||_e,e.call(this,t)}},En=function(e){var t=function(t,n,r,i,o,u){for(var a;o>=0&&u>o;o+=e)a=i?i[o]:o,r=n(r,t[a],a,t);return r};return function(n,r,i,o){var u=!gt(n)&&Vt(n),a=(u||n)[P],s=e>0?0:a-1;return arguments[P]<3&&(i=n[u?u[s]:s],s+=e),t(n,r,i,u,s,a)}},kn=En(1),Tn=En(-1),Dn=function(e,t){return kn(e,function(n,r,i){return t(r,i,e)&&n.push(r),n},[])},Sn=r.console||{},Cn=Sn.log||_e,Mn=pt(Gt(Ge("trace log dir error"),function(e){var t=Sn[e]||Cn;return function(){return t.apply(Sn,arguments)}}),{exception:function(e){throw new Error(e&&e.message||e)},assert:function(e,t){e||On(t)}}),On=Mn.exception,_n=function(e,t,n){var r,i=we;try{r=e()}catch(o){i=o,r=t?t(o):r}finally{r=n?n(i,r):r}return r},In=function(e,t){return t===n?!e:!!t},jn=function(e){return function(){return e}},Rn=function(e,t){var n=e===ve?t:arguments,r=n[P];return function(){for(var e=1,t=arguments,i=n[0].apply(this,t);r>e;)i=n[e].call(this,i),++e;return i}},Nn=e._={performance:ht,months:Ge("january feburary march april may june july august september october november december"),weekdays:Ge("sunday monday tuesday wednesday thursday friday saturday"),constructorWrapper:Bt,stringifyQuery:dn,intendedObject:vn,intendedIteration:mn,ensureFunction:An,parseDecimal:Rt,flatten:on,gather:un,isArrayLike:gt,isInstance:Ue,hasEnumBug:Oe,roundFloat:yn,factories:be,fullClone:qt,toBoolean:jt,stringify:Ve,splitGen:Fe,gapSplit:Ge,wraptry:_n,toString:Le,throttle:ln,debounce:Yt,protoProperty:hn,protoProp:hn,binaryIndexOf:Re,indexOfNaN:Ie,toInteger:fn,indexOf:je,joinGen:We,toArray:nn,isEqual:Ft,gapJoin:qe,isArray:ot,isEmpty:ut,returns:jn,isBoolean:ze,invert:st,extend:pt,noop:_e,toggle:In,reduce:kn,foldl:kn,foldr:Tn,now:ft,some:Dn,map:Zt,result:wn,isUndefined:Ye,isFunction:$e,isObject:it,isNumber:tt,isFinite:rt,isString:Qe,isBlank:Ke,isNull:Xe,isNaN:Ze,eachProxy:wt,exports:Jt,allKeys:Lt,evaluate:Xt,parse:Qt,merge:mt,fetch:zt,clone:Wt,bind:St,duff:Ct,duffRight:_t,eachRight:It,iterates:yt,sort:Pe,wrap:Gt,uuid:pn,keys:Vt,once:Ht,each:Mt,flow:Rn,has:Be,negate:et,pI:Nt,createPredicateIndexFinder:bt,findIndex:xt,findLastIndex:At,validKey:Et,finder:kt,find:Tt,findLast:Dt,console:Mn,min:xn("min"),max:xn("max"),arrayLikeToArray:en,objectToArray:tn,math:Gt(Ge("E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos acosh asin asinh atan atan2 atanh cbrt ceil clz32 cos cosh exp expm1 floor fround hypot imul log log1p log2 log10 pow random round sign sin sinh sqrt tan tanh trunc"),function(e){return Math[e]})};be.Extendable=Bt(t),e.scope(function(e){e.shims=function(e){var t=function(){function e(e){return 10>e?"0"+e:e}function t(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,r){var s,c,f,l,d,h=o,p=r[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof a&&(p=a.call(r,e,p)),typeof p){case"string":return t(p);case"number":return rt(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(o+=u,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p[i],s=0;l>s;s+=1)d[s]=n(s,p)||"null";return f=0===d[i]?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+h+"]":"["+d.join(",")+"]",o=h,f}if(a&&"object"==typeof a)for(l=a[i],s=0;l>s;s+=1)"string"==typeof a[s]&&(c=a[s],f=n(c,p),f&&d.push(t(c)+(o?": ":":")+f));else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(f=n(c,p),f&&d.push(t(c)+(o?": ":":")+f));return f=0===d[i]?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+h+"}":"{"+d.join(",")+"}",o=h,f}}var r=this,i="length";if(r.performance=r.performance||{},r.performance.now=function(){var e=r.performance;return e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow||function(){return(new Date).getTime()}}(),!JSON){"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return rt(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var o,u,a,s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var s;if(o="",u="","number"==typeof r)for(s=0;r>s;s+=1)u+=" ";else"string"==typeof r&&(u=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t[i]))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(e,t){function n(e,r){var i,o,u=e[r];if(u&&"object"==typeof u)for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o=n(u,i),void 0!==o?u[i]=o:delete u[i]);return t.call(e,r,u)}var r;if(e=String(e),s.lastIndex=0,s.test(e)&&(e=e.replace(s,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=Function.prototype.constructor("("+e+")"),"function"==typeof t?n({"":r},""):r;throw new SyntaxError("JSON.parse")})}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),r.matchMedia=r.matchMedia||function(){var e=r.styleMedia||r.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in r&&r.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return t=t||"all",{matches:e.matchMedium(t),media:t}}}()};t.call(e)},e.shims(r)});var Ln=function(e){var t={};return function(n){return Be(t,n)||(t[n]=e(n)),t[n]}},Vn=function(e,t){var n={};return function(r,i){var o;return i=i||t,(o=n[i]=n[i]||Ln(e(i)))(r)}},Te=Nn.extend(Gt(Ge("toLowerCase toUpperCase trim"),function(e){return Ln(function(t){return t[e]()})}),Gt(Ge("match search"),function(e){return Vn(function(t){return function(n){return n[e](t)}})})),Pn=function(e){return function(){var t=nn(arguments),n=this;return Zt(t[0],function(r){return t[0]=r,e.apply(n,t)})}},Bn=function(e,t,n){var r=e.slice(t[P]),i=r[0];return n&&(i=r[0].toLowerCase()),r=i+r.slice(1)},Hn=Pn(Bn),Un=function(e,t,r,i){var o=t+e;return r!==n&&(o=t+(i||s)+e,o=r?Gn(o,i):$n(o,i)),o},Fn=Pn(Un),Wn=function(){var e={};return function(t){var n=e[t];return n||(e[t]=n=new Function.constructor("return "+t)),n()}}(),qn=function(){var e={};return function(t,n){var r;return t||(t=u),t+=u,r=e[t],r||(r=e[t]=0),e[t]++,n||(r=t+r),r}}(),Gn=Vn(function(e){return function(t){var n,r,i;if(Qe(t)){for(t[0]===e&&(t=t.slice(1)),r=t.split(e),n=r[P]-1;n>=1;n--)r[n]&&(r[n]=Jn(r[n]));i=r.join(u)}return i}},s),Jn=Ln(function(e){return e[0].toUpperCase()+e.slice(1)}),$n=Vn(function(e){return function(t){return t.replace(/([a-z])([A-Z])/g,"$1"+e+"$2").replace(/[A-Z]/g,function(e){return e.toLowerCase()})}},s),zn=function(e){return $n(e,"_")},Qn=Vn(function(e){var t={},n={},r=[],i=Ge(e);i.sort(function(e,i){var o=e[P],u=i[P],a=Nn.max([-1,Nn.min([1,o-u])]);return n[e]=n[i]=ve,t[o]||(t[o]=ve,r.push(o)),t[u]||(t[u]=ve,r.push(u)),-1*(0===a?e>i?-1:1:a)});return r.sort(function(e,t){return-1*Nn.max([-1,Nn.min([1,e-t])])}),function(e){for(var t,i=0,o=(e+u).trim(),a=o[P];r[i];){if(r[i]<a&&(t=o.substr(a-r[i],a),n[t]))return t;i++}return ge}}),Xn=Ge("px em rem ex in cm % vh vw pc pt mm vmax vmin"),Yn=function(e){return Qn(e,Xn)},Kn=Ln(function(e){var t=!1;return(0===e.indexOf(ce)&&e.split("//")[P]>=2||0===e.indexOf("//"))&&(t=!0),t}),Zn=Ln(function(e){var t=u,n=Ne(e,"#")+1;return n&&(t=e.slice(n-1)),t}),er=function(e,t,n){return e[n||0]===t},tr=er,nr=function(e){var t,n,i,o,a,s=0,c=r.decodeURIComponent;for(e||(e=r[de].search),i=e.slice(1).split("&"),t={};s<i[P];s++)n=i[s].split("="),n[0]&&(n[P]<2&&n[PUSH](u),o=n[1],o=c(o),"'"!==o[0]&&'"'!==o[0]||(o=o.slice(1,o[P]-1)),o===ve+u&&(o=ve),o===ge+u&&(o=ge),Qe(o)&&(a=+o,a==o&&a+u===o&&(o=a)),t[c(n[0])]=o);return t},rr=function(e){return e.toString=function(){return e.href},e.replace=function(t){var n=ar(t);return n.previous=e,n},e},ir=Ln(function(e){var t;return e&&(Qe(e)||(e=e.referrer),Qe(e)&&(e+=f,t=e.match(/^http?:\/\/.*?\//),t&&(t=t[0].slice(0,t[0][P]-1)))),t||u}),or=[ce,fe,"file","about","javascript"],ur={"http:":ve,"https:":ve},ar=function(e,t,n){var i,o,a,s,l,d,h,p=n||window,m=e||u,v=u,g=u,y=u,w=u,b=u,x=u,A=je(m,"?")+1,E={},k=or[P],T=m.split(D),S=p.location.protocol,C=T[P]-1&&(l=T.shift()),M=(C&&Tt(or,function(e){return e===l})||S.slice(0,S[P]-1))+D;if(A?(v=m.slice(A-1),g=Zn(v)):g=Zn(m),A&&(v=v.split(g).join(u),E=nr(v),m=m.slice(0,A-1)),m[0]===f&&m[1]===f)M=r.location.protocol;else{for(;k--&&!M;)m.slice(0,or[k][P])===or[k]&&(M=or[k]);M||(M=ce)}if(T=m.split(D),T[P]-1){for(l=T.shift(),h=T.join(D).split(f);!y;)y=h.shift();s=y.split(D),x=s.shift(),b=s[P]?s[0]:u,i=T.shift(),m=T.join(D).slice(y[P])}else y=p.location.host,b=p.location.port,x=p.location.hostname;return d=p.location.pathname.slice(1),m[0]===f&&m[1]!==f&&(m=m.slice(1),d=u),m[0]===c&&(m=m.slice(2)),w=f+d+m,a=M+(ur[M]?f+f:u)+x+(b?D+b:u),o=a+w+(v||u)+(g||u),rr({passed:e,port:b,hostname:x,pathname:w,search:v.slice(1),host:y,hash:g.slice(1),href:o,protocol:M.slice(0,M[P]-1),friendlyProtocol:!ur[M],origin:a,searchObject:E})},sr=60,cr=7,fr=30,lr=24,dr=1e3,hr=365,pr=dr*sr,mr=pr*sr,vr=mr*lr,gr=mr*cr,yr=mr*fr,wr=mr*hr,br={ms:1,secs:dr,s:dr,mins:pr,hrs:mr,days:vr,wks:gr,mnths:yr,yrs:wr},xr=[],Ar=kn(br,function(e,t,n){return xr.push(n),e[n]=function(e){return e*t},e},{}),Er=Fe(","),kr=Ge("sunday monday tuesday wednesday thursday friday saturday"),Tr=Ge("january feburary march april may june july august september october november december"),Dr=Gt(Tr,ve),Sr=Ln(function(e){var t=0;return Ct(Er(e+u),function(e){var n=e,r=Qn(n,xr),i=+n.split(r||u).join(u),o=Ar[r];i===i&&(o&&(i=o(i)),t+=i)}),t});Nn.exports({monthIndex:Dr,months:Tr,weekdays:kr,customUnits:Qn,uniqueId:qn,cacheable:Ln,categoricallyCacheable:Vn,deprefix:Bn,deprefixAll:Hn,prefix:Un,prefixAll:Fn,upCase:Jn,unCamelCase:$n,spinalCase:$n,camelCase:Gn,snakeCase:zn,reference:ir,string:Te,units:Yn,baseUnitList:Xn,isHttp:Kn,parseHash:Zn,parseUrl:ar,parseSearch:nr,parseObject:Wn,time:Sr,startsWith:tr,itemIs:er}),e.scope(function(e){var t=e._,r=t.factories,i="StatusMarker",o="statuses",u={creation:{},destruction:{}},a=jn(we),s=function(){return{}},c=function(e,t,n){return n},f=function(e,t){return function(n,r,i){return this.directive(e)[t](n,r,i)}},l=function(e,t){return function(n){var r=this,i=r.directive(e);return Ct(n,i[t],i),r}},d=function(e,t,n){var r=$e(n);return function(i,o,u,a,s,c){var f=this;return f[e]?f[e][t](i,o,u,a,s,c):r?n(f):n}},h=function(e,t,n){var r;!Qe(e)&&On({message:"directives must be registered with a string for a name"})||!$e(t)&&On({message:"directives must be registered with at least a create function"});return u.creation[e]=(r=u.creation[e])||t,u.destruction[e]=u.destruction[e]||n,!r},p=function(t,n,r,i){var o=i||c,a=r||c;u.creation[t]||On({message:"directives must exist before they can be extended"});return e.defineDirective(n,function(e,n,r){var i=new u.creation[t](e,n,r);return new a(e,n,i)},function(e,n,r){var i=u.destruction[t](e,n,r);return o(e,n,i)})},m=(r.Directive=r.Extendable.extend("Directive",{mark:f(i,"mark"),unmark:f(i,"unmark"),remark:f(i,"remark"),is:d(i,"is",ge),directive:function(e){var t,n,r=this;return(n=r[e])?n:(t=r["directive:creation:"+e]||u.creation[e]||s,r[e]=new t(r,e),r[e])},directiveDestruction:function(e){var t=(u.destruction[e]||a)(this[e],this,e);return delete this[e],t}}),r.Extendable.extend(i,{constructor:function(){return this[o]={},this},has:function(e){return this[o][e]!==n},mark:function(e){var t=this[o][e];return this[o][e]=ve,t!==ve},unmark:function(e){var t=this[o][e];return this[o][e]=ge,t!==ge},remark:function(e,t){var r=this[o][e],i=this[o][e]=t===n?!this[o][e]:!!t;return r!==i},is:function(e){return!!this[o][e]},isNot:function(e){return!this[o][e]}}));h(i,m[w]),e.defineDirective=h,e.extendDirective=p,t.exports({directives:{parody:f,checkParody:d,iterate:l}})});var Cr=Nn.directives,Mr=function(e,t,n){return Ct(e,function(e){wn(e,t,n)})},Or=function(e,t,n){return Zt(e,function(e){return wn(e,t,n)})},_r=function(e,t,n){return Ct(e,function(e){wn(e,t,n)},we,-1)};e.scope(function(e){var t={message:"object must not be null or undefined"},r={message:"objects in sorted collections must have either a number or string for their valueOf result"},i={message:"list cannot be modified while it is being iterated over"},o=function(e){return function(e,t,n,r,i){var o=0;return Ct(t,function(t){o+=s(e,t,n,r,i)}),o===e[P]}},s=function(e,t,n,r,i){var o=k(e,t,n,r,i);return o&&f(e,o-1),!!o},c=o(s),f=function(e,t){return e.splice(t,1)[0]},l=function(e,t,n,r,i){var o=0,u=k(e,t,n,r,i);return u||(o=e.push(t)),!!o},h=o(l),p=function(e,t,n){var r=e[P];return e.splice(n||0,0,t),r!==e[P]},m=function(e,t,n){var r=n||_e,i=[],o=t||0,u=tt(o),a=gt(o);return 0>o&&(u=!1),e[P]?(u?(i=[e[o]],r(i[0])):a?Ct(o,function(t){var n=e[t];i.push(n),r(n)}):(i=[e[0]],r(i[0])),i):i},v=function(e,t,n,r){var i,o,u;for(t==we&&(t=e||0,e=0),rt(e)&&tt(e)||(e=0),n=+n||1,i=Math.max(Math.ceil((t-e)/n),0)+(+r||0),o=[],u=0;i>u;)o[u]=e,u++,e+=n;return o},b=function(e,t,n,r,i){var o,u,a,s;if(r>=i||!tt(r)||!tt(i)||!rt(r)||!rt(i))return e;for(s=n||this,o=St(t,s),i=Math.abs(i),a=r;i>a;)u=we,e[P]>a&&(u=e[a]),o(u,a,e),a++;return e},x=function(e,t,n,r){return b(e,t,n,0,r)},A=function(e,t,n,r){return b(e,t,n,r,e[P])},E=function(e,t,n,r){for(var i,o,u,a=n||0,s=r||e[P]-1;s>=a;)if(i=(a+s)/2|0,o=e[i],t>o)a=i+1;else{if(!(o>t))return i;s=i-1}return u=~~s},k=function(e,t,n,r,i){return je(e,t,n,r,i)+1},T=function(){return kn(arguments,function(e,t){return Ct(t,function(t){e.push(t)}),e},[])},D=function(){return kn(arguments,function(e,t){return Ct(t,function(t){-1===Ne(e,t)&&e.push(t)}),e},[])},S=function(e,t){var n,r,i=e[P];return tt(i)&&(n=t%i,r=e.splice(n),e.unshift.apply(e,r)),e},C=function(e){return function(t){return t.reverse(),e.apply(this,arguments),t.reverse(),t}},M=function(e,t){var n=Vt(t),r=Object(e);return!Tt(n,function(e){return t[e]===r[e]&&e in r?void 0:ve})},O=function(e){return function(t){return M(t,e)}},_=C(S),I=function(e,t){return Zt(e,function(e){return wn(e,t)})},j=function(e,t){return B(e,O(t))},R=function(e,t){return Tt(e,O(t))},N=function(e,t){return Dt(e,O(t))},L=function(e,t){return B(e,et(O(t)))},V=function(e,t){return function(){return new this.__constructor__(e.apply(t||this,arguments))}},B=function(e,t,n){var r=gt(e),i=St(t,n),o=0;return kn(e,function(e,t,n,u){return o++,i(t,n,u)&&(r?e.push(t):e[n]=t),e},r?[]:{})},H="registry",U=be.Registry=be.Directive.extend(Jn(H),{constructor:function(){return this.reset(),this},get:function(e,t){var n=this.register[e];return n&&n[t]},keep:function(e,t,r){var i=this.register,o=i[e]=i[e]||{};return r===n&&this.count--,o[t]===n&&this.count++,o[t]=r,this},group:function(e,t){var n=this.register;return n[e]=t||n[e]||{},n[e]},swap:function(e,t,n){var r=this.get(e,t);return this.keep(e,t,n),r},drop:function(e,t){return this.swap(e,t)},reset:function(e,t){var n=this.register,r=this.count;return this.register=e||{},this.count=t||0,[n,r]}}),F=Ge("eq map mapCall filter pluck where whereNot cycle uncycle flatten gather"),W={each:Ct,duff:Ct,forEach:Ct,eachCall:Mr,eachRight:_t,duffRight:_t,forEachRight:_t,eachCallRight:_r},q=Vt(W),G=Ge("add"),J=Ge("insertAt remove removeAt"),$=Ge("pop shift splice"),z=Ge("reverse"),Q=Ge("push unshift"),X=Ge("join"),Y=Ge("count countTo countFrom merge"),K=Ge("foldr foldl reduce"),Z=Ge("find findLast findWhere findLastWhere"),ee=Ge("indexOf posit"),te=K.concat(Z),ne=function(e){return function(t,n,r,i,o,u){return this.iterate(e.bind(we,this,t,n,r,i,o,u))}},re=pt({seeker:function(e,t){return Nn.duffRight(this.items,e,t)}},Gt(X,function(e){return function(t){return this.items[e](t)}}),Gt(ee.concat(G),function(e){return function(t,n,r,i,o){var u=this;return Nn[e](u.items,t,n,r,i,o)}}),Gt(Q,function(e){return function(t){var n=ot(t)?t:arguments;return this.items[e].apply(this.items,n)}}),Gt($,function(e){return function(t,n,r,o,u,a){var s=this;return s.iterating?On(i):s.items[e](t,n,r,o,u,a)}}),Gt(J,function(e){return function(t,n,r,o,u){var a=this;return a.iterating?On(i):Nn[e](a.items,t,n,r,o,u)}}),Gt(z,function(e){return function(){var t=this;return t.directive("status").toggle("reversed"),t.items[e](),t}}),Gt(W,function(e){return ne(function(t,n,r){var i=t.items,o=n,u=arguments[P]>1?r:t;return e(i,o,u),t})}),Gt(Y,function(e){return function(t,n,r,i){return Nn[e](this.items,t,n,r,i),this}}),Gt(te.concat(F),function(e){return ne(function(t,n,r,i){return Nn[e](t.items,n,r,i)})})),ie=Nn.exports({eachCall:Mr,eachCallRight:_r,filter:B,matches:O,mapCall:Or,add:l,removeAll:c,addAll:h,insertAt:p,concatUnique:D,removeAt:f,remove:s,cycle:S,uncycle:_,concat:T,pluck:I,where:j,findWhere:R,findLastWhere:N,posit:k,range:v,count:b,countTo:x,countFrom:A,whereNot:L,eachRight:It,duffRight:_t,flatten:on,eq:m}),oe="list",ue=be.List=be.Directive.extend(Jn(oe),pt({constructor:function(e){return this.reset(e),this},iterate:function(e){++this.iterating;var t=e();return--this.iterating,t},obliteration:function(e,t){return _t(this.items,handlers,t===n?this:t),this},empty:function(){return this.reset()},reset:function(e){var t=this;t.items||[];return t.iterating=t.iterating?On(i):0,t.items=e==we?[]:gt(e)?nn(e):[e],t.reversed=ge,t},unwrap:function(){return this.items},length:function(){return this.items.length},first:function(){return this.items[0]},last:function(){return this.items[this.items.length-1]},index:function(e){return this.items[e||0]},has:function(e){return-1!==this.indexOf(e)},sort:function(e){return Pe(this.items,e),this},toString:function(){return Ve(this.items)},toJSON:function(){return Zt(this.items,function(e){return wn(e,g)})}},re)),ae=(e.defineDirective(oe,function(){return new ue[w]}),be.Collection=be.Directive.extend("Collection",pt({empty:Nn.flow(Cr.parody(oe,"reset"),Cr.parody(H,"reset")),get:Cr.parody(H,"get"),register:Cr.parody(H,"keep"),unRegister:Cr.parody(H,"drop"),swapRegister:Cr.parody(H,"swap"),constructor:function(e){return this.directive(oe).reset(e),this},range:V(v),concat:V(function(){var e=this.unwrap();return e.concat.apply(e,Zt(arguments,function(e){return ae(e).unwrap()}))}),call:function(e){return this.each(function(t){t(e)}),this},results:function(e,t){return this.map(function(n){return wn(n,e,t)})}},Gt(Ge("has unwrap reset length first last index toString toJSON sort").concat(G,J,$,ee,X),function(e){return Cr.parody(oe,e)}),Gt(F,function(e){return V(function(t){return this.list[e](t);
})}),Gt(Q,function(e){return function(t){return this.list[e](t),this}}),Gt(Y,function(e){return function(t,n,r){var i=this;return i.list[e](t,i,n,r),i}}),Gt(z.concat(q),function(e){return function(t,n,r,i){var o=this;return o.list[e](t,n||o),o}}),Gt(K,function(e){return function(t,n,r){return this.list[e](t,n,r||this)}}),Gt(Z,function(e){return function(t,n){return this.list[e](t,n||this)}})))),se=be.SortedCollection=ae.extend("SortedCollection",{constructor:function(e,t){var n=this;return ae[w].call(n),e&&!t&&n.load(gt(e)?e:[e]),n},sort:function(){var e=this;return Pe(e.unwrap(),e.reversed?function(e,t){return t>e}:function(e,t){return e>t}),e},reverse:function(){var e=this;return e.reversed=!e.reversed,e.sort(),e},closestIndex:function(e){return E(this.unwrap(),e)},closest:function(e){var t,r=this.unwrap();return-1===(t=E(r,e))?n:r[t]},validIDType:function(e){return tt(e)||Qe(e)},indexOf:function(e,t,n){return Ne(this.unwrap(),e,t,n)},load:function(e){var t=this;return ot(e)?Ct(e,t.add,t):t.add(e),t},add:function(e){var n,i=this,o=(e==we&&On(t),e&&e.valueOf()),u=(n=i[H])&&i.get(d,o);return u?ge:(ie=!i.validIDType(o)&&On(r),i.insertAt(e,i.closestIndex(o)+1),(n||i.directive(H)).keep(d,o,e),ve)},remove:function(e,r){var i=this,o=(e==we&&On(t),e&&e.valueOf());return e==we||i.get(d,o)==we?ge:(i.removeAt(r===n?i.indexOf(e):r),i.unRegister(d,o),ve)},pop:function(){return this.remove(this.last())},shift:function(){return this.remove(this.first())}}),ce=be.StringObject=be.Extendable.extend("StringObject",{constructor:function(e,t){var n=this;return n.value=e,n.parent=t,n.isValid(ve),n},toggle:function(e){this.isValid(In(this.isValid(),e))},isValid:function(e){var t=this;return arguments[P]?(t.valid!==e&&(t.parent.increment(),t.valid=e),t):t.valid},valueOf:function(){return this.value},toString:function(){return this.value},generate:function(){return this.isValid()?this.valueOf():u}});be.StringManager=se.extend("StringManager",{Child:ce,add:function(e){var t=this,n=t.get(d,e);return e&&(n?n.isValid(ve):(n=new t.Child(e,t),t.unwrap().push(n),t.register(d,e,n))),n},empty:function(){var e=this;return ae[w][y].empty.call(e),e.current(u),e},increment:function(){this._changeCounter++},decrement:function(){this._changeCounter--},remove:function(e){var t=this,n=t.get(d,e);return e&&n&&n.isValid(ge),t},toggle:function(e,t){var r=ve,i=this,o=i.get(d,e);o||(r=ge,o=i.add(e)),t===n?r&&o.toggle():o.toggle(t)},rebuild:function(){var e=this,t=e.foldl(function(e,t){return t.isValid()&&(e.items.push(t),e.registry.id[t.value]=t),e},{items:[],registry:{id:{}}});return e.directive(oe).reset(t.items),e.directive(H).reset(t.registry),e},generate:function(e){var t=u,n=this,r=n.delimiter,i=e;return n._changeCounter||i!==r?(n.delimiter=i,n.rebuild(),t=n.join(i),n.current(t),t):n.current()},current:function(e){var t=this;return arguments[P]?(t._changeCounter=0,t._currentValue=e,t):t._currentValue},ensure:function(e,t){var r=this,i=e,o=t===n?a:t,u=ot(i),s=u?i.join(o):i;return r.current()===s?r:(r.load(u?i:Qe(i)?i.split(o):ge),r.current(s),r)},refill:function(e){var t=this,n=e;return t.empty(),n&&t.load(n),t.increment(),t}});e.defineDirective(H,U[w])}),e.scope(function(e){var t=function(e,t){return this.hash[e]&&this.hash[e](t)},n=function(e){return function(){return e}},r=function(e,t){var r=this.hash;return vn(e,t,function(e,t){r[e]=St($e(t)?t:n(t),we)}),this};e.defineDirective("Messenger",function(){return{hash:{},reply:r,request:t}})});var se="dispatchEvent",Ir="EventManager",jr="stopListening",Rr="talkerId",Nr="listeningTo",Lr="l",Vr="handlers";e.scope(function(e){var t=function(e,t,n,r,i,o){var u=Qe(r)?e[r]:r,a=(!$e(u)&&On({message:"handler must be a function or a string with a method on the originating object"}),e.directive(Ir));return Ct(Ge(n),function(n){i(e,n,a.make(n,u,e,t),o)})},n=function(e,n){return function(r){var i,o,u,a,s,c,f=this;return r?(o=nn(arguments),o[n]?(u=n,a=n,s=o.splice(u),c=s[0],i=s[it(c)?1:2]||f,vn(c,s[1],function(n,r){t(f,i,n,r,e,o[0])}),f):f):f}},r=function(e,t){return function(n){return Ft(t,n[I].get(e))}},i=function(e,t){t.fn=function(n){n&&t.comparator(n)&&(t.triggersOnce&&e.detach(t),t.runner(n))}},o=function(e,t){return function(){var n,o,s,f,l,d,h,p=this,m={};return arguments[0]?(s=nn(arguments),f=e,o=s.splice(e),l=o[0],n=o[it(l)?2:3]||p,e&&!s[0]?m:(h=e?s[0].directive(Ir):p.directive(Ir),vn(l,o[1],function(f,l,v){var g=f.split(a)[0],y=d||St(o[v?1:2],n||p),w=$e(l)?l:r(g,l),b=O+D+g,x=p,A=h.make(b,y,p,n);e&&(u(p,b,A,s[0]),x=s[0]),A.comparator=w,A.triggersOnce=!!t,A.runner=y,c(x,b,A,i),m[g]=y}),m)):m}},u=function(e,t,n,r){var i=(r.directive(Ir),l(e,r)),o=r.directive(Ir);o[Vr]=o[Vr]||{};i.count++,n.listening=i},s=function(e,t){var n=t.fn||t.handler;t.fn=Ht(function(r){return e.detach(t),n.apply(this,arguments)})},c=function(e,t,n,r){e.directive(Ir).attach(t,n,r)},f=function(e,t,n){c(e,t,n,s)},l=function(e,t){var n=e.directive(Ir),r=t.directive(Ir),i=r[Rr],o=n[Nr],u=o[i];return u?u:(n[Rr]=n[Rr]||qn(Lr),u=o[i]={talker:t,talkerId:i,id:n[Rr],listeningTo:o,count:0})},h=function(e,t,n,r){u(e,t,n,r),c(r,t,n)},p=function(e,t,n,r){u(e,t,n,target),c(target,t,n,s)},m="c";be.Events=be.Directive.extend("Events",{initialize:_e,bubble:Cr.parody(Ir,"bubble"),on:n(c,0),once:n(f,0),listenTo:n(h,1),listenToOnce:n(p,1),watch:o(0),watchOnce:o(0,1),watchOther:o(1),watchOtherOnce:o(1,1),request:Cr.parody("messenger","request"),reply:Cr.parody("messenger","reply"),when:Cr.parody("Linguistics","when"),constructor:function(e){var t=this;return pt(t,e),t[m+d]=t[m+d]||qn(m),t.on(t.events),t.initialize(e),t},off:function(e,n,r){var i,o,u=this,a=e,s=u[Ir];if(s)return i=it(a)?n:r,arguments[P]?a?vn(a,n,function(e,n){t(u,i,e,n,function(e,t,n){s.seekAndDestroy(!t||s[Vr][t],n.handler,n.context)})}):Mt(s[Vr],function(e,t){s.seekAndDestroy(e,n,r)}):(o=s[J].last(),o&&s.detach(o)),u},stopListening:function(e,t,n){var r,i,o,u,a=0,s=this,c=s[Ir];return c?(r=c[Nr],(i=e&&!(u=e[Ir]))?s:(o=e?[u[Rr]]:Vt(r),Ct(o,function(e){var i=r[e];i&&i.talker.off(t,n),a=i[e]?1:0}),a||Tt(e?Vt(r):o,function(e,t){return r[e]})||(c[Nr]={}),s)):s},dispatchEvents:function(e){var t=this;return Ct(Ge(e),t.dispatchStack,t)&&t},dispatchStack:function(e){return this[se](e)},dispatchEvent:function(e,t,n){var r,i,o,u=this,a=u[Ir];if(a&&!a.running[e])return i=a.create(u,t,e,n),o=a.dispatch(e,i),r=a.proxyStack,r[P]()?(r.each(function(t){t.disabled||t.fn(e,i)},we),r.is("dirty")?(r.obliteration(function(e,t){e.disabled&&r.remove(e.id,t-1)},we),o):o):o}})});var Pr=Jn(T+"ren");e.scope(function(e){var t=be.Collection,r=be.Events,i=be.List,o="sort",u="added",a="unwrap",s="removed",c="stopListening",f="_delegatedParentEvents",l="_parentDelgatedChildEvents",v=function(e,t){return B(e,t)},b=function(e,t){var n,r=Nn.result(e,T+"Events");t&&r&&(n=t.directive(Ir),n[l]=r,e.listenTo(t,r))},x=function(e,t){var r;t&&e[c]&&(r=t[Ir])&&r[l]&&(e[c](t,t[l]),r[l]=n)},A=function(e,t){var n,r=t[V],i=Nn.result(t,V+"Events");r&&i&&(n=t.directive(Ir),n[f]=i,t.listenTo(r,i))},E=function(e,t){var r;t[c]&&(r=t[Ir])&&r[f]&&(t[c](e,t[f]),r[f]=n)},k="Syncer",S=be[k]=be.Events.extend(k,{sync:function(){},destroy:function(){},fetch:function(){},update:function(){},create:function(){}}),C=(e.defineDirective(k,S[w]),be[Pr]=be.Collection.extend(Pr,{constructor:function(e){return this[_]=e,this},attach:function(e){var t=this,n=t[_],r=e[se]&&e[se](j+u);return t.detach(e),t.addToHash(e),A(n,e),b(n,e),r=e[se]&&e[se](u),e},detach:function(e){var t,n=this;return(t=e[V])?(e[se](j+s),E(t,e),x(t,e),n.removeFromHash(e),delete e[V],e[se](s),e):e},addToHash:function(e){var t=this,n=t[_];e[V]=n,t.add(e),t.register(d,e.id,e),t.register("cid",e.cid,e)},removeFromHash:function(e){var t=this;e&&(t.remove(e),t.unRegister(d,e.id),t.unRegister("cid",e.cid))},reset:function(e){for(var t,n,r=this,i=r[_],o=r[a]();o[P];)n=o[0],t=o[P],wn(n,h),o[0]===n&&o[P]===t&&remove(o,n);return i.add(e),i},save:function(){},fetch:function(){}})),M=be.Parent=be.Events.extend("Parent",{Child:ve,isChildType:function(e){return Ue(e,this.Child===ve?this.__constructor__[w]:this.Child)},add:function(e,n){var r,i=this,o=i.directive(Pr),s=pt(wn(i,T+"Options"),n||{}),c=t(e);return i.Child&&c[P]()?(c=c.foldl(function(e,t){var n=i.isChildType(t),u=i.Child===ve?i.__constructor__[w]:i.Child,a=n?t:new u(t,s),c=o.get(d,a.id);return c?(c.set(n?t[g]():t),a=c):(r=ve,o.attach(a)),e.push(a),e},[]),r&&i[se](T+D+u),c):c[a]()},remove:function(e){var n,r,o,u=this,a=e;return a==we?(u=u[V],u.remove(this)):(n=i(),!it(a)&&(r=u.directive(Pr))&&(a=r.get(d,a)),a&&it(a)?(o=a&&a.unwrap?a.unwrap():a,t(o).each(function(e){var t,r,i=e[V];n.push(e),i&&(r=i[Pr],t=r&&r.detach(e))}),n[P]()&&u[se](T+D+s),n):n)},sort:function(e){var t,n,r,i,u=this;return(t=u[Pr])?(n=e||wn(u,"comparator"),Qe(n)&&(i="!"===n[0],r=n,i&&(r=n.slice(1)),n=function(e,t){var n,o=e.get(r),u=t.get(r);return n=i?u-o:o-u}),t[o](n),u[se](o),u):u},destroy:function(){var e,t=this;return t.is(m)||t[se](p),e=t[V]&&t[V].remove(t),t[se](h),t.stopListening(),t}}),O=0,I=function(e,t){return e.id=t===n?++O:t,O},B=be.Model=be.Parent.extend("Model",{idAttribute:d,unset:Cr.checkParody(L,"unset",ge),get:Cr.checkParody(L,"get"),has:Cr.checkParody(L,"has",ge),constructor:function(e,t){var n=this;return n.reset(e),r[w].call(this,t),n},reset:function(e){var t,n=this,r=Qt(e)||{},i=wn(n,"defaults",r),o=pt(i,r),u=wn(n,"idAttribute",o),a=(I(n,o[u]),Vt(o),n.directive(L));return(t=n.is(N))&&n[se](j+N),a[N](o),t&&n[se](N,o),n.mark(N),n},destroy:function(){return M[w][y].destroy.call(this),delete this.id,this},set:function(e,t){var n=[],r=this,i=r.directive(L);return vn(e,t,function(e,t){i.set(e,t)&&!i.changing[name]&&n.push(e)}),n[P]?(i.digest(r,function(){Ct(n,function(e){i.changing[e]=ve,r[se](R+e),i.changing[e]=ge})}),r):r},toJSON:function(){return this.clone()},clone:Cr.checkParody(L,"clone",function(){return{}}),valueOf:function(){return this.id},toString:function(){return Ve(this)}});e.defineDirective(Pr,C[w]),v[w]=B[w]});var Br="actions",Hr="isStopped",Ur=Jn(Hr),Fr="propagation",Wr="defaultPrevented",qr=Fr+Ur,Gr="immediate"+Jn(Fr)+Ur;e.scope(function(e){var t=e._,r=t.factories,o=1,u=r.Collection,a=r.List,s=0,c=function(){return this.id},f="_sharedData",l=r.ObjectEvent=r.Directive.extend("ObjectEvent",{constructor:function(e,t,n,r,i){var o=this;return o[qr]=o[Gr]=ge,o[I]=e,o[x]=n,o[A]=n.split(D)[0],o.timeStamp=i||ft(),o[f]={},o.data(t),r&&pt(o,r),o},isStopped:function(){return this[qr]||this[Gr]},data:function(e){return arguments[P]?this.set(e):this[f]},get:function(e){return this[f][e]},set:function(e){var t=this;return t[f]=it(e)?e:{},t},stopImmediatePropagation:function(){this.stopPropagation(),this[Gr]=ve},stopPropagation:function(){this[qr]=ve},preventDefault:function(){this[Wr]=ve},defaultIsPrevented:function(){return this[Wr]},action:function(e){var t=this;return t.directive(Br).push(e),t},finished:function(){var e,t=this;t.isTrusted=ge,t.defaultIsPrevented()||(e=t[Br])&&e.call(t)}});r.EventsDirective=r.Directive.extend("EventsDirective",{constructor:function(e){var t=this;return t.target=e,t.listenId="l"+ ++s,t.handlers={},t.listeningTo={},t.running={},t.stack=a(),t.removeQueue=a(),t.proxyStack=u(),t.proxyStack.unmark("dirty"),t},attach:function(e,t,n){var r,i=this,u=i[Vr];t.id=++o,t.valueOf=c,t.context=t.context||t.origin,n&&$e(n)&&n(i,t),t.fn=St(t.fn||t.handler,t.context),r=u[e]=u[e]||a(),r[x]=e,t.list=r,i.add(r,t)},create:function(e,t,n,r){return l(e,t,n,r)},make:function(e,t,n,r){return{disabled:ge,namespace:e.split(D)[0],name:e,handler:t,context:r,origin:n}},seekAndDestroy:function(e,t,n){var r=this,i=r[J][P](),o=[];return e.duff(function(e,u){e.disabled||t&&e.handler!==t||n&&e.context!==n||(i?r.detach(e,u):o.push([e,u]))})&&o[P]&&Ct(o,function(e){r.detach(e[0],e[1])})},nextBubble:function(e){return e.parent},bubble:function(e,t,n){for(var r,i=this,o=i.target,u=[o],a=o;a;)r=a,a=i.nextBubble(r,u),a&&u.push(a),r===a&&On({message:"bubbling discerners must return a different object each time it is run"});return Ct(u,function(r){r[se](e,t,n)}),o},add:function(e,t){e.push([t])},remove:function(e,t,n){e.removeAt(t,n)},detachCurrent:function(){return this.detach(this[J].last())},detach:function(e,t){var r,i=this,o=e.listening,u=e.list;e.disabled=ve;return e.removed?ve:(e.removed=ve,i.remove(u,e,t),e.list=n,i.wipe(u),o?(o.count--,o.count?ve:(r=o.listeningTo,r[o[Rr]]=n,ve)):ve)},wipe:function(e){return e[P]()?ge:(this.scrub(e),ve)},scrub:function(e){e.scrubbed=ve,delete this[Vr][e[x]]},reset:function(){return Mt(this.handlers,this.scrub,this)},queue:function(e,t,n){return e.push([t])},unQueue:function(e,t,n){return e.pop()},has:function(e){return this.handlers[e]&&this.handlers[e][P]()},dispatch:function(e,t){var n=this,r=n[J],o=n[Vr],u=o[e],s=n.running,c=s[e],f=t[qr];n.proxyStack;if(!c&&!f&&u&&u[P]())return s[e]=ve,a(n.subset(u.unwrap(),t)).each(function(e){!e.disabled&&n.queue(r,e,t)&&(e.fn(t),f=!!t[Gr],n.unQueue(r,e,t))}),f&&n.cancelled(r,t,i),t.finished(),s[e]=!!c,t.returnValue},subset:function(e){return e.slice(0)},bus:function(e,t,n){var r=this.proxyStack,i={id:e,fn:St(t,n),context:n,disabled:ge,handler:t};return r.push(i),r.register(d,e,i),this},unBus:function(e,t){var n,r=this,i=r.proxyStack;return(n=i.get(d,e))?(i.list.iterating?(i.mark("dirty"),n.disabled=ve):(i.remove(n,t),i.unRegister(d,e)),r):r}});e.defineDirective(Ir,r.EventsDirective[w])}),e.scope(function(e){var t=e._,r=Fe(c),i=t.factories,o="counter",u="changing",a=i.DataDirective=i.Directive.extend("DataDirective",{constructor:function(){var e=this;return e[b]={},e.previous={},e[u]={},e[o]=0,e},set:function(e,t){var n=this,r=n[b];return Ft(r[e],t)?ge:(n.previous[e]=r[e],n[b][e]=t,ve)},get:function(e){return this[b][e]},clone:function(){return Wt(this[b])},unset:function(e){var t=this[b],r=t[e];return delete t[e]&&r!==n},reset:function(e){this[b]=e||{}},digest:function(e,t){var n=this;++n[o],t(),--n[o],n[o]||(e[se](O,n[u]),n[u]={},n.previous={})},getDeep:function(e){var t,i=this,o=i[b];return Ct(r(e),function(e,n,r){var i=n===r[P];t=e,i||(o=it(o[e])?o[e]:{})})&&(Qe(t)?n:o[t])},has:function(e){return this[b][e]!==n},each:function(e){return Mt(this[b],e,this)}});e.defineDirective(L,a[w])}),e.scope(function(e){var t=e._,n=t.factories,r=n.Collection,i="success",o="registered",u="state",a="every",s="failures",c="counter",f="groupIndex",l="Linguistics",d=function(e){return function(t){return Ft(t,e)}},h=function(e){return function(t){return t>e}},p=function(e){return function(t){return e>t}},m=function(e){return function(t){var n=this;return n[e].push(St(t,n)),n}},v=function(e,t){return function(){var n=this;return Ct(arguments,function(r){n.add(r,e,t)}),n}},g=v(ve),y=function(e,n,r,i){var o=St(r,e),u=i?t.negate(o):o;return{key:n,context:e,handler:r,fn:u}},x=n.Linguistics=n.Events.extend(l,{then:m(i),always:m(a),otherwise:m(s),is:v(),isnt:g,isNot:g,isGreaterThan:v(ge,h),isLessThan:v(ge,p),isNotGreaterThan:v(ve,h),isNotLessThan:v(ve,p),constructor:function(e){var t=this;return t.origin=e,t[c]=0,t[f]=-1,t[o]={},t.logic=new r[w],t[i]=new r[w],t[s]=new r[w],t[a]=new r[w],t.group(),t.listenTo(t.origin,{change:t.apply,destroy:t.stopListening}),this},when:function(e){return this[V]?this[V].when(e):On({message:"this sequencer has been destroyed"})},and:function(e){var t=this;return t[b]=e,t.bind(e),t},or:function(e){return this.group(),this.and(e),this},group:function(){var e=this;return++e[f],e.logic.push({index:e[f],list:new r[w]}),e},increment:function(){++this[c]},bind:function(e){var t=this,n=t[o];n[e]||(n[e]=ve,this.listenTo(this.origin,R+e,t.increment))},unbind:function(e){var t=this,n=t[o];n[e]&&(n[e]=ge,this[jr](this.origin,R+e,t.increment))},value:function(e,t){return $e(e)?e:t(e)},add:function(e,t,n){var r=this,i=r[b],o=r.value(e,n||d),u=y(r,i,o,t);return r.logic.index(r[f]).list.push(u),r},check:function(){var e=this;return!(!e[c]||!e.logic.find(function(t){return!t.list.find(function(t){return!t.fn(e.origin.get(t.key))})}))},restart:function(){return this[c]=0,this},handle:function(e,t){var n=this;n[e]&&n[e].call(t);return n},run:function(){var e=this;e[u]?e.handle(i):e.handle(s),e.handle(a)},apply:function(){var e=this,t=e.check();return e.restart(),e[u]!==t&&(e[u]=t,e.run()),e}}),A=l+"Manager",E=n[A]=n.Model.extend(A,{when:function(e){var t=new x[w](this.target);return this.add(t),t.and(e)},constructor:function(e){return this.target=e,this}});e.defineDirective(l,E[w])}),e.scope(function(e){var t=e._,n=t.factories,r="failure",i="success",o="state",u="error",a="always",s="fulfilled",c="resolved",f="rejected",l="emptying",d="allStates",h="stashedArgument",p="stashedHandlers",m=t.flatten,v=t.bind,g=t.isString,b=t.intendedObject,x=t.duff,A=(t.each,t.extend),E=t.toArray,k=t.isFunction,T=(t.foldl,t.result),D=t.wraptry,S=(t.indexOf,function(e){var t,n,r=this,i=r[h],o=r[p][e];if(o&&o[P]){for(n=o[P],r.mark(l);o[0]&&--n>=0;)(t=o.shift())(i);r.unmark(l)}return r}),C=function(e,n){for(var o,u=n,a=T(e,d),c=[];!o;)t.posit(c,u)?u=ge:(u===i&&(e.mark(s),e.unmark(f)),u===r&&(e.unmark(s),e.mark(f)),u=a[u]&&t.add(c,u)?a[u]:ge),o=!g(u);return c[P]?x(c,S,e):On({message:"promise cannot resolve to an unknown state"})},M=function(e){return this[e]||(this[e]=function(){return this.handle(e,E(arguments))}),this},O=n.Model,_=function(){var e,t=this,n=t.directive(Pr),u=[];n.find(function(t){return e=e||t[o]!==i,u.push(t[h]),!t.is(c)})||t.resolveAs(e?r:i,u)},I={success:a,failure:a,error:a,always:ve},j=n.Promise=t.Promise=O.extend("Promise",{addHandler:M,childEvents:{always:_},constructor:function(){var e=this;return e.on("child:added",_),e.state=ge,e[h]=we,e[p]={},e.reason=ge,O[w].call(e),b(A({},I,T(e,"associativeStates")),we,M,e),e.success(arguments),e},isChildType:function(e){return e[i]&&e[r]&&e[a]&&e[u]},auxiliaryStates:function(){return ge},allStates:function(){return A({},I,T(this,"auxiliaryStates")||{})},resolveAs:function(e,t,n){var i=t,o=e,u=this;return u.is(c)?u:(u.mark(c),u.state=o||r,u[h]=i,u.reason=n?n:ge,o=u.state,u.dispatchEvent("before:resolve"),u.dispatchEvents(D(function(){return C(u,o)},function(e){return u.unmark(s),e.options=i,u[h]=e,C(u,"error")},function(e,t){return t||[]})),u)},fulfill:function(e){return this.resolveAs(i,e)},reject:function(e,t){return this.resolveAs(r,e,t)},stash:function(e,t){var n=this,r=n[p],i=r[e]=r[e]||[];return m(arguments,ve,function(e){k(e)&&i.push(v(e,n))}),n},handle:function(e,t){var n=this,r=(n[h],t);return n.stash(e,r),n.is(c)&&C(n,n[o]),n},when:function(){var e=this,t=[];return m(arguments,ve,function(n){e.isChildType(n)&&t.push(n)}),e.add(t),e}}),R=j[w][y],N=(R.addHandler("success").addHandler("failure").addHandler("always").addHandler("error"),j());e.extend({dependency:v(N.when,N)}),Jt({when:function(){return j().when(E(arguments))}})}),e.scope(function(e){var t=e._,r=t.factories,i="items",o=t.extend,u=t.isObject,a=t.removeAt,s={}.toString;r.Associator=r.Directive.extend("Associator",{get:function(e,t){var r,o,a=this,s={},c=u(e),f=a.sameType(e,c),l=(f[i]=f[i]||[],f[re]=f[re]||{}),d=f[L]=f[L]||[];return c?e&&f.readData?(o=e[re]=e[re]||qn("el"),o&&(s=l[o]=l[o]||{})):(r=f[i][W](e),r!==n&&-1!==r||(r=f[i][P],f[i].push(e),d[r]=s),s=d[r]):(f[re][e]=f[re][e]||{},s=f[re][e]),s.target=e,s},set:function(e,t,n){var r=this.get(e,n);return o(r,t||{}),r},remove:function(e){var n,r=this.sameType(e);r.readData?(n=e[re],delete r[re][n]):(n=t[W](r[i],e),-1!==n&&(a(r[L],n),a(r[i],n)))},sameType:function(e,t){var r=this,i=t===n?u(e):t,o=s.call(e),a=e&&e.window===e,c=a?"[object global]":o.toLowerCase(),f=r[c]=r[c]||{},l=c[W]("global"),d=-1===c[W](q);return-1===l&&d&&i&&(f.readData=ve),f}})}),e.scope(function(e){var t=e._,n=t.factories,i=t.posit,o="error",a="status",s="failure",c="success",f="readyState",l=r.XDomainRequest,d=t.stringifyQuery,h="GET",p=Ge(h+" POST PUT DELETE"),m=Ge("progress timeout abort "+o),v=function(e){var t=0,n=e.requestObject;Ct(m,function(r){"progress"===r?n["on"+r]=function(n){t++,e.dispatchEvent("progress",{percent:n.loaded/n.total||t/(t+1),counter:t},{originalEvent:n})}:n["on"+r]=function(t){e.resolveAs(r)}})},g=function(e,t,n){return function(){_n(function(){e.send.apply(e,t)},function(e){n.resolveAs(o,e,e.message)})}},y=function(){var e=this,t=e.requestObject,n=e.get("type"),r=e.getUrl(),i=[],o=e.get("data");r&&(e.attachResponseHandler(),t.open(n,r,e.get("async")),o&&i.push(Ve(o)),e.setHeaders(e.get("headers")),v(e),setTimeout(g(t,i,e)))},b=n.Ajax=n.Promise.extend("Ajax",{constructor:function(e,r){var o,a,s,c,f=this,d="onreadystatechange";return c=new XMLHttpRequest,t.isUndefined(l)||(c=new l,d="onload"),t.isObject(e)||(e=e||u,s=h,a=e.toUpperCase(),i(p,a)?s=a:o=e,e={url:o||u,type:s}),e.async=ve,e.type=(e.type||h).toUpperCase(),e.method=d,n.Promise[w].call(f),f.on("change:url",y),pt(f,r),f.requestObject=c,f.set(e),f},status:function(e,t){return this.handle(a+D+e,t)},setHeaders:function(e){var t=this,n=t.requestObject;return Mt(e,function(e,t){n.setRequestHeader($n(t),e)}),t},getUrl:function(){var e=this.get("url");return it(e)&&!ot(e)&&(e=d(e)),e},auxiliaryStates:function(){return{"status:0":s,"status:200":c,"status:202":c,"status:205":c,"status:302":c,"status:304":c,"status:400":s,"status:401":s,"status:403":s,"status:404":s,"status:405":s,"status:406":s,"status:500":o,"status:502":o,"status:505":o,"status:511":o,timeout:s,abort:s}},parse:Qt,attachResponseHandler:function(){var e=this,t=e.requestObject,n=ge,r=e.get("method"),i=function(t){var i,o,u,s,l=this;l&&!n&&(i=l[a],s=l[f],u=l.responseText,e.currentEvent=t,e[f]=s,("onload"===r||"onreadystatechange"===r&&4===s)&&(e.set(a,i),o=wn(e,"allStates"),o[a+D+l[a]]===c&&(u=wn(e,"parse",u)),u=Qt(u),n=ve,e.resolveAs(a+D+l[a],u)))};return t[r]||(t[r]=i),e}});t.extend(b,t.foldl(p,function(e,n){var r=n;return r=r.toLowerCase(),e[r]=function(e,r){return b(t.extend({type:n,url:e},r))},e},{}))}),e.scope(function(e){var t=e._,r=t.factories,i=r.Model,o=(r.Collection,z+"ed"),u="initialized",a={start:function(e){var t=this;return t.is(o)||(t.mark(o),t[se](z,e)),t},stop:function(e){var t=this;return t.is(o)&&(t.unmark(o),t[se](Q,e)),t},toggle:function(e){var t=this;return t.is(o)?t[Q](e):t[z](e),t},restart:function(e){var t=this;return t.is(o)&&t[Q](e),t[z](e),t}},s=(r.Startable=r.Model.extend("Startable",a),function(e){this.startWithParent&&this[z](e)}),f=function(e){this.stopWithParent&&this[Q](e)},l=function(e,t){return[e].concat(e.application.createArguments(),t||[])},h=function(e,t){var n=[];return Ct(t,function(t){var r=e.module(t);r.is(u)&&n.push(r.exports)}),n[P]===t[P]?n:ge},p=t.Promise,m={module:function(t,n,r){var i,o,a,s,f,l=this,h=t,m=h.split(c),v=l.directive(Pr).get(t),y=function(){v.mark(u),v.bubble(u+":submodule")};if(v){if(l=v.parent,!r)return v;m=[v.id]}else for(;m.length>1;)l=l.module(m[0]),m.shift();return f=l.directive(Pr),h=m.join(c),v=f.get(d,h),v||(o=l.globalname?l.globalname.split("."):[],o.push(h),a=o.join("."),s=pt(wn(l,"childOptions")||{},{application:e,parent:l,id:h,globalname:a}),l===e?(v=g({},s),f.add(v)):v=l.add({},s)[0],f.register(d,h,v),e[Pr].register(d,a,v)),($r(n)||$e(n)||$e(r))&&(v.exports=v.exports||{},i=v.run(n,r),i&&Ue(i,p)?i.success(y):y()),v},run:function(e,t){var r,i=this,o=$e(e)?e:t,u=$r(e)?[e.DOMA]:[];return $e(o)&&(r=i.application?o.apply(i,l(i,u)):o.apply(i,i.createArguments(u))),r===n?i:r},"export":function(e,t){var n=this;return vn(e,t,function(e,t){n.exports[e]=t}),n},constructor:function(e,t){var n=this;return n.startWithParent=ve,n.stopWithParent=ve,n.exports={},i[w].apply(n,arguments),n.listenTo(n.parent,{start:s,stop:f}),n},topLevel:function(){return!this.application||this.application===this[V]},require:function(e,n){var r,i,o,a,s=this;return $e(n)?(r=t.Promise(),o=Ge(e),ot(o)&&o[P]?(o=o.slice(0),r.success(St(n,s)),(mappedArguments=h(s,o))?r.fulfill(a):s.on(u+":submodule",function(){(mappedArguments=h(s,o))&&(s.off(),r.fulfill(a))}),r):r):(i=s.module(e),i.is(u)?i.exports:On({message:"that module has not been "+u+" yet"}))}},v=[],g=r.Module=r.Model.extend("Module",m),b=function(e){var t=e._;return[e,t,t&&t.factories]};e.extend(pt({},r.Events[w][y],a,m,{addModuleArguments:function(e){return t.addAll(v,e),this},removeModuleArguments:function(e){return t.removeAll(v,e),this},createArguments:function(e){return b(this).concat(v,e||[])}}))});var Jr="attached",$r=function(e){return e&&e===e[q]};e.scope(function(e){var t=e._,i="Attributes",f=t.factories,h=t.posit,p=f.Collection,m=f.Associator(),v="DomManager",b="nodeType",A="destroyed",E="custom",T="removing",M="accessable",O=E+"Listener",I="localName",j="Child",R="append"+j,N="remove",V="parentNode",B="innerHTML",H="innerText",U="outerHTML",F="attributeChange",W="attributesChanging",J="__delegateCount",$=L+s+E,z="["+$+"]",Q=X+s+x,ce="fontSize",fe="defaultView",le="div",de="iframe",he=(r.devicePixelRatio||1,function(e,t){var n;return n=t===ve?m.get(e):t.data.get(e),n[v]||(n[v]=hi(e,n,t)),n[v]}),ye=/(.)^/,be={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},xe=/\\|'|\r|\n|\u2028|\u2029/g,Ae=function(e){return"\\"+be[e]},Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ke=st(Ee),Te=function(e){var t=function(t){return e[t]},n="(?:"+Vt(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==we?u:u+e,r.test(e)?e.replace(i,t):e}},De=Te(Ee),Se=Te(ke),Ce=function(e,n){var r=pt({},n),i=RegExp([(r.escape||ye).source,(r.interpolate||ye).source,(r.evaluate||ye).source].join("|")+"|$","g"),o=0,u="__HTML__+='";e.replace(i,function(t,n,r,i,a){return u+=e.slice(o,a).replace(xe,Ae),o=a+t.length,n?u+="'+\n((__t=(this."+n+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=(this."+r+"))==null?'':__t)+\n'":i&&(u+="';\n"+i+"\n__HTML__+='"),t}),u+="';\n",u="var __t,__HTML__='',__j=Array.prototype.join,print=function(){__HTML__+=__j.call(arguments,'');};\n"+u+"return __HTML__;\n";var a=t.wraptry(function(){return new Function.constructor(r.variable||"_",u)},Mn.error),s=function(e){return a.call(e||{},t)},c=r.variable||"obj";return s.source="function("+c+"){\n"+u+"}",s},Me=function(e,t,n){var r,i=n.templates=n.templates||p(),o=i.get(d,e);return o?o:(r=t||n.$("#"+e).html(),o=Ce(r,n.templateSettings),o.id=e,i.push(o),i.register(d,e,o),o)},Oe=function(e){return!(!e||!tt(e[b])||e[b]!==e.ELEMENT_NODE)},Ie=function(e){return e&&tt(e[b])&&e[b]===e.DOCUMENT_NODE},Re=function(e){return e&&e[b]===o.DOCUMENT_FRAGMENT_NODE},Ne=function(e){var t=e||r;return $r(t)?t:t&&t[fe]?t[fe]:t.ownerGlobal?t.ownerGlobal:_i(t).parent(q)[oe](0)||r},Le=function(e,t){var n=Ne(t).getComputedStyle(e);return n?n:Ne(e).getComputedStyle(e)||Wt(e[pe])||{}},Pe=Le(o[me],r),He=/^key/,Ue=/^(?:mouse|pointer|contextmenu)|click/,Fe=/^device/,We=/^webkitmouseforce/,qe=(function(){var e=4,t=ve,n=[],r=function(r){return function(){e--,r(),e||(Ct(n,function(e){e(t)}),n=[])}};return Ct(["UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==","UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==","UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"],function(e){var n=new $t;n.onload=r(_e),n.onerror=r(function(){t=ge}),n.src="data:image/webp;base64,"+e}),function(r){e&&t?n.push(r):r(t)}}(),function(e,t,n){n===ge||n==we?ze(e,t):e.setAttribute(t,(n===ve?u:Ve(n))+u)}),Je=function(e,t){var n,r=e.getAttribute(t);return r===u?r=ve:r==we?r=ge:(n=+r,r=n===n?n:r),r},ze=function(e,t){e.removeAttribute(t)},Xe={preventUnCamel:ge,read:Je,write:qe,remove:ze},Ye=ge,Ke=function(e){return function(){var t,n=Ye;return Ye=ve,t=e.apply(this,arguments),Ye=n,t}},et=function(e,t){var n=t||e;return Ke(function(e){var t=e.element();It[n]&&$e(t[n])?t[n]():e[se](n)})},nt=function(e,t){var n=e||t,r=et(n,t);return function(e,t,i){var o=this;return $e(e)||$e(t)?o.on(n,e,t,i):r(o),o}},ot=Ge("abort afterprint beforeprint blocked cached canplay canplaythrough change chargingchange chargingtimechange checking close complete dischargingtimechange DOMContentLoaded downloading durationchange emptied ended error fullscreenchange fullscreenerror input invalid languagechange levelchange loadeddata loadedmetadata message noupdate obsolete offline online open pagehide pageshow paste pause pointerlockchange pointerlockerror play playing ratechange reset seeked seeking stalled storage submit success suspend timeupdate updateready upgradeneeded versionchange visibilitychange"),ut=Ge("SVGAbort SVGError SVGLoad SVGResize SVGScroll SVGUnload SVGZoom volumechange waiting"),at=Ge("keydown keypress keyup"),ct=Ge("gamepadconnected gamepadisconnected"),lt=Ge("compositionend compositionstart compositionupdate drag dragend dragenter dragleave dragover dragstart drop"),dt=Ge("click contextmenu dblclick mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup show wheel"),ht=Ge("touchcancel touchend touchenter touchleave touchmove touchstart"),mt=Ge("devicemotion deviceorientation deviceproximity devicelight"),vt=Ge("blur focus"),yt=Ge("beginEvent endEvent repeatEvent"),wt=Ge("animationend animationiteration animationstart transitionend"),bt=Ge("audioprocess complete"),xt=Ge("abort error hashchange load orientationchange readystatechange resize scroll select unload beforeunload"),At=Ge("abort error load loadend loadstart popstate progress timeout"),Et=t.concatUnique(ot,ut,at,lt,ct,dt,ht,mt,vt,yt,wt,bt,xt,At),kt=Ge("-o- -ms- -moz- -webkit- mso- -xv- -atsc- -wap- -khtml- -apple- prince- -ah- -hp- -ro- -rim- -tc-"),Dt=(Ge("load scroll resize orientationchange click dblclick mousedown mouseup mouseover mouseout mouseenter mouseleave mousemove change contextmenu hashchange load mousewheel wheel readystatechange"),Ge("a abbr address area article aside audio b base bdi bdo blockquote body br button canvas caption cite code col colgroup data datalist dd del dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark meta meter nav noscript object ol optgroup option output p param pre progress q rb rp rt rtc ruby s samp script section select small source span strong style sub sup table tbody td template textarea tfoot th thead time title tr track u ul var video wbr")),Ot=Gt(Dt,ve),It=Gt(Et,ve),jt=(Gt(kt,ve),f.StringManager),Rt=function(e,t){return e[t]},Nt=function(e,t,n){e[t]=n},Lt=function(e,t){e[t]=we},Pt={preventUnCamel:ve,read:Rt,write:Nt,remove:Lt},Bt=function(e,t,n){var r=li(e,t);return r.ensure(n===ve?u:n,a)},Ut=function(e,t){var n=e.getBoundingClientRect(),r=Le(e,t.element()),i=Kt(r.marginTop),o=Kt(r.marginLeft),u=Kt(r.marginRight),a=Kt(r.marginBottom);return{height:n[ie]+i+a,width:n[ne]+o+u,top:n[K]-i,left:n[Z]-o,right:n[Z]+n[ne]+u,bottom:n[K]+n[ie]+a}},Ft={columnCount:ve,columns:ve,fontWeight:ve,lineHeight:ve,opacity:ve,zIndex:ve,zoom:ve,animationIterationCount:ve,boxFlex:ve,boxFlexGroup:ve,boxOrdinalGroup:ve,flex:ve,flexGrow:ve,flexPositive:ve,flexShrink:ve,flexNegative:ve,flexOrder:ve,lineClamp:ve,order:ve,orphans:ve,tabSize:ve,widows:ve,fillOpacity:ve,stopOpacity:ve,strokeDashoffset:ve,strokeOpacity:ve,strokeWidth:ve},qt={transitionDuration:ve,animationDuration:ve,transitionDelay:ve,animationDelay:ve},Jt=function(){var e,t,n,r,i,o,a,c,f,l,d=[],p={},m=0,v=function(e,t){h(e,o)||e.push(o)};for(e=0;e<kt[P];e++)l=kt[e][P],l>m&&(m=l);for(n in Pe){for(r=0,c=u,o=u,a=tt(+n)?Pe[n]:$n(n),$n(a),Gn(a),f=a,t=0;m>t&&a[t]&&!r;t++)c+=a[t],i=je(kt,c),-1!==i&&(o=kt[i],f=a.split(o).join(u),r=1),i=je(kt,s+c),-1!==i&&(o=kt[i],f=a.split(c).join(u),r=1);f=Gn(f),d.push(f),p[f]||(p[f]=[]),v(p[f],o)}return p}(),zt=function(e,t){return+t!==+t?t:qt[e]?t+"ms":Ft[e]?t:t+l},Xt=function(e,t){var n,r,i={};return Oe(e)?(r=Le(e,t),n=Yt(e,t),{borderBottom:+r.borderBottomWidth||0,borderRight:+r.borderRightWidth||0,borderLeft:+r.borderLeftWidth||0,borderTop:+r.borderTopWidth||0,paddingBottom:+r.paddingBottom||0,paddingRight:+r.paddingRight||0,paddingLeft:+r.paddingLeft||0,paddingTop:+r.paddingTop||0,
marginBottom:+r.marginBottom||0,marginRight:+r.marginRight||0,marginLeft:+r.marginLeft||0,marginTop:+r.marginTop||0,computedBottom:+r[te]||0,computedRight:+r[ee]||0,computedLeft:+r[Z]||0,computedTop:+r[K]||0,top:n[K]||0,left:n[Z]||0,right:n[ee]||0,bottom:n[te]||0,width:n[ne]||0,height:n[ie]||0}):i},Yt=function(e){var t=Oe(e)?e.getBoundingClientRect():{};return{top:t[K]||0,left:t[Z]||0,right:t[ee]||0,bottom:t[te]||0,width:t[ne]||e.clientWidth||0,height:t[ie]||e.clientHeight||0}},Kt=function(e,t){return+e.split(t||"px").join(u).trim()||0},en=function(e,t,n){var r,i;return it(e)?(i=Oe(e)?Le(e,n):e,r=i[t]):r=e,Qe(r)&&(r=Kt(r)),r},tn={":even":function(e,t){return t%2},":odd":function(e,t){return(t+1)%2}},rn={"in":function(e,t,n,r){return e/96},vh:function(e,t,n,r){return e/n[ue]*100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return e/37.79527559055118},vw:function(e,t,n,r){return e/n[ae]*100},em:function(e,t,n,r){return e/en(t,ce,n)},mm:function(e,t,n,r){return e/3.779527559055118},vmin:function(e,t,n,r){var i=Math.min(n[ue],n[ae]);return e/i*100},rem:function(e,t,n,r){return e/en(n[G][me][V],ce,n)},pt:function(e,t,n,r){return e/1.333333333333333},vmax:function(e,t,n,r){var i=Math.max(n[ue],n[ae]);return e/i*100},"%":function(e,t,n,r){var i=Oe(t)?t[V]:t,o=en(i,r,n);return e/o*100},pc:function(e,t,n,r){return e/16}},on={"in":function(e,t,n,r){return 96*e},vh:function(e,t,n,r){return n[ue]*e/100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return 37.79527559055118*e},vw:function(e,t,n,r){return n[ae]*e/100},em:function(e,t,n,r){return en(t,ce)*e},mm:function(e,t,n,r){return 3.779527559055118*e},vmin:function(e,t,n,r){return(Math.min(n[ue],n[ae])||1)*e/100},rem:function(e,t,n,r){return en(n[G][me][V],ce)*e},pt:function(e,t,n,r){return 1.333333333333333*e},vmax:function(e,t,n,r){return(Math.max(n[ue],n[ae])||1)*e/100},"%":function(e,t,n,r){var i=Oe(t)?t[V]:t,o=en(i,r);return e*o/100},pc:function(e,t,n,r){return 16*e}},un=function(e,t){var n;return e&&Oe(e)?(n=e[I].toLowerCase(),t?n===t.toLowerCase():n):ge},an=function(e,t,n,r){var i,o,u=r&&r.element(),a=r&&r.registeredElements,s=a&&a[e],c=s===ve?e:s;return c||(s=c=a[e]=le),i=u.createElement(c),s&&s!==ve&&Xe.write(i,$,e),o=r.returnsManager(i),t&&o.attr(t),n?(Qe(n)?o.html(n):gt(n)?Mr(nn(n),"appendTo",o):o.append(n),o):o},sn=function(e,t){var n=an(le,we,we,t);return n.html(e),_i(n).children().remove().unwrap()},cn=function(e,t){return sn(e,t)[0]},fn=function(e,t){var n,r;return t&&e&&1===e[b]?(r=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?r.call(e,t):(n=e[V],n||(n=an(le,we,we,he(e.ownerDocument,ve)),n[R](e)),!!h(Fr(t,n),e)):ge},ln=function(e,t){return t.isDocument&&t.element().createDocumentFragment()},dn=function(e,t,n){var r=[];return r.concat.apply(r,n?Zt(n,t):e.map(t))},hn=function(e,t){return _i(kn(Ge(e),function(e,n){return e.push(an(n,we,we,t)),e},[]),we,we,we,t)},gn=function(e,t){var n,r=e;return Re(r)?n=r:(_i.isInstance(r)&&(r=r.unwrap()),gt(r)||(r=r&&nn(r)),n=t.createDocumentFragment(),Ct(r,function(e){var r,i=t.returnsManager(e),o=i.element();i.isElement&&!i.isFragment&&(r=o[V],r&&!Re(r)&&cr([o],t),n[R](o))})),n},yn=function(e){return function(t){var n=this;return Qe(t)?n.eachCall(e,t)&&n:n.map(Xn.bind(we,e)).join(u)}},wn=function(e,t){return xn(function(n,r){var i=[],o=n.unwrap(),u=t||r;return u?n.duff(function(t){(traversal=t[e](u))&&add(i,traversal)}):i=o,i})},bn=function(e){var t="data-",n=$n(e),r=e.slice(0,5);return t!==r&&(n=t+e),n},xn=function(e){return function(t,n,r,i,o){var u=this,a=e(u,t,n,r,i,o),s=new _i[w](a,we,ve,we,u.context.owner);return s._previous=u,s}},An=function(e,t){var n=Yt(e),r=n[te],i=n[ee],o=n[Z],u=n[K],a=t.x,s=t.y,c=ge;return a>o&&i>a&&s>u&&r>s&&(c=ve),c},En=function(e){return{x:e[Z]+e[ne]/2,y:e[K]+e[ie]/2}},Tn=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},Dn=function(e,t,n){return Tn(e,t)<Tn(e,n)},Sn=function(e,t,n){var r,i,o=t.shift();return(Qe(t[0])||t[0]==we)&&(i=t.shift()),Qe(t[0])&&(t[0]=e[t[0]]),$e(t[0])?(n=St(n,e),r=t[0],Ct(Ge(o),function(e){var t=(Fn(e),ge),o=e.split(c),u=o.shift(),a=o.join(c);"_"===u[0]&&(u=u.slice(1),t=ve),n(u,a,i,r,t)}),this):this},Cn=function(e){return function(){var t,n=this,r=nn(arguments),i=r.shift();return it(i)?(Qe(r[0])&&(t=r.shift()),Mt(i,function(i,o){Sn(n,[o,t,i].concat(r),e)}),n):(r.unshift(i),Sn(n,r,e))}},In=function(e,t,n){return e&&it(e)&&!$r(e)&&tt(e.AT_TARGET)?e:{type:n,bubbles:ge,eventPhase:2,cancelable:ge,defaultPrevented:ge,isTrusted:ge,timeStamp:ft(),target:t}},jn=function(e){var t=ge,n=e.eventPhase;return 1===n&&(t=ve),t},Rn=Gt({ready:"DOMContentLoaded",deviceorientation:"deviceorientation mozOrientation",fullscreenalter:"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",hover:"mouseenter mouseleave",forcewillbegin:"mouseforcewillbegin webkitmouseforcewillbegin",forcechange:"mouseforcechange webkitmouseforcechange",forcedown:"mouseforcedown webkitmouseforcedown",forceup:"mouseforceup webkitmouseforceup",force:"mouseforcewillbegin webkitmouseforcewillbegin mouseforcechange webkitmouseforcechange mouseforcedown webkitmouseforcedown mouseforceup webkitmouseforceup"},Ge),Nn=kn(Rn,function(e,t,n){return Ct(t,function(t){e[t]=n}),e},{}),Ln=function(e){return function(t){var n=St(e,this);Ct(Ge(Rn[t]||t),function(e){n(e,t)})}},Vn=Cn(function(e,t,n,r,i){var o=this;return $e(r)?Hn(o,e,t,n,r,i):o}),Pn=Cn(function(e,t,n,r,i){var o,u=this;return $e(r)&&Hn(u,e,t,n,o=Ht(function(){return pi(u,e,t,n,o,i),r.apply(this,arguments)}),i)}),Bn=Cn(function(e,t,n,r,i){var o=this;return $e(r)?pi(o,e,t,n,r,i):o}),Hn=function(e,t,n,r,i,o){var u,a=e.is(E);return Ct(Ge(t),Ln(function(t,a){u=u||e.directive(Ir),It[t]||e.mark(O),u.attach(o+D+t,{origin:e,handler:i,group:n,selector:r,passedName:a,domName:t,domTarget:e})})),!a&&e.is(O)&&(Nr(e,ve),e.remark(Jr,ar(e.element(),e.owner))),e},Fn=function(e){var t;return Qe(e)||(e=e.type),e=e.split(c),t=e.shift(),[t,e.sort().join(c)]},Wn=function(e){return this.insertAt(e,we)},zn=function(e){return this.insertAt(e,0)},Qn=function(e){return function(t,n){return Xe[e](this.element(),t,n)}},Xn=function(e,t){var n,r,i,o=u;return t.isIframe?(Zn(t),n=t.window(),n.is(M)&&(i=n.element(),r=i[G],o=r.body?r.body[V].outerHTML:u)):t.isElement&&(i=t.element(),o=i[e]),o},Yn=function(e,t,n){var r,i,o,a,s,c;t.isIframe?(a=t.window(),Zn(t),a.is(M)&&(c=a.element(),o=c[G],o.open(),o.write(n),o.close(),s=ve)):t.isElement&&(c=t.element(),i=c[e],c[e]=n||u,r=t.owner,Ct(r.$(z,c),r.returnsManager,r),i!==c[e]&&(s=ve)),s&&t.bubble("content:changed",n)},Kn=function(e){return function(t){var r=this,i=r;return t===n?i=Xn(e,r):Yn(e,r,t),i}},Zn=function(e){var t,n,r;e.isIframe=e.tagName===de,e.isIframe&&(r=e.element(),t=r.contentWindow,e.remark("windowReady",!!t),t&&(n=e.owner.returnsManager(t),n.iframe=e,Pr(n),e.cachedContent&&n.is(M)&&(e.html(e.cachedContent),e.cachedContent=we)))},er=f.Events[w][y][se],tr=function(e,t,n,r){var i=!!r,o=i+D+t;return er.call(e,o,In(n,e.element(),t),{capturing:i})},nr={id:ge,src:ge,checked:ge,disabled:ge,classes:Y},rr={play:"playing",pause:"paused"},or=Ge("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"),ur=or.concat(t.keys(rr),t.keys(nr)),ar=function(e,t){var n,r,i,o=t.returnsManager(e),u=o.element();if(n=o.is(Jr))return n;if(o.isWindow)return ve;for(;!r&&u[V];){if(i=u[V],Re(i))return ge;if(Ie(i))return ve;if(i[re])return ar(i,t);u=i}return ge},sr=function(e,n){return function(r,i){var o=[];Ct(r,function(e){var t=i.returnsManager(e),r=t.is(Jr);t.remark(Jr,n),n!==r&&t.isElement&&t.is(O)&&o.push(t)}),t.eachCall(o,se,e)}},cr=sr("detach",ge),fr=sr("attach",ve),lr=function(e,n,r,i){var o,u,a,s=r.element();return!r.isElement||s[pe][e]===n&&i?ge:(a=Xe.read(s,pe),n=""!==n?zt(e,n):n,i?Xe.write(s,pe,(o=t.foldl(a.split(";"),function(t,r,i,o){var a=r.trim(),s=a.split(D),c=s[0].trim(),f=s[1].trim();return c===e&&(u=ve,f=n+" !important"),t.push([c,f].join(": ")),i!==o[P]-1||u||t.push([e,n+" !important"].join(": ")),t},[]).join("; "))?o+";":o):Ct(Jt[Gn(e)],function(t){s[pe][t+$n(e)]=n}),Xe.read(s,pe)!==a)},dr={set:function(e,t,n,r){e.refill(t===ve?[]:t),t===ge&&(e.isRemoving=ve)},add:function(e,t){Ct(t,e.add,e)},remove:function(e,t){Ct(t,e.remove,e)},toggle:function(e,t,n){Ct(t,function(t){e.toggle(t,n)})},change:function(e,t,n){this.remove(e,t),this.add(e,Ge(n))}},hr=function(e){return function(t,n){var r=e(t,n);return t.is(W)&&(t.unmark(W),t[se](F)),r}},pr=function(e,t,n,r,i,o,u){var s=e===X?Y:e,c=i||$n,f=r.preventUnCamel?s:c(s),l=f===Y||f===Q,d=(l?(r=Pt)&&(f=Y)&&Y:u)||f;return function(e,i){var u,s=e.element(),c=r.read(s,f),l=e,h=Bt(e,f,c);return"get"===o?(i||(l=c),l):(h.api=r,vn(t,n,function(e,t){var n=o||(t===ve?"add":t===ge?N:"toggle");dr[n](h,Ge(e),t,c)}),h._changeCounter&&(h.isRemoving?(h.isRemoving=ge,r.remove(s,f)):(u=h.generate(a),r.write(s,f,u))),void(u!==c&&e.is(O)&&(e.mark(W),e[se](F+D+d,{previous:c,current:u}))))}},mr=function(e,t,n){return function(r){return function(i,o,u,a,s,c){return r(e(i,o,u,a||n,s,t,c),this)}}},vr=function(e,t,n,r){var i=Ge(t);return function(t){var n=t.element(),o=li(t,e),u=r.read(n,e);return o.ensure(u,a),Tt(i,function(e){var t=o.get(d,e);return t?!t.isValid():ve})}},gr=mr(pr,"set",Xe),yr=mr(pr,"add",Xe),wr=mr(pr,N,Xe),br=mr(pr,"toggle",Xe),xr=mr(pr,"change",Xe),Ar=mr(pr,"get",Xe),Er=mr(vr,"has",Xe),kr=function(e,t,r){return function(i){return function(i,o,u){var a,s=this,c=Qe(i),f=c?u:o,l=c?o:we,d=t||f;return c&&l===n?(s=s.index(0),d.read(s.element(),r(i))):(a={},s.each(hr(mn(i,l,function(t,n,i,o){var u=a[t]=a[t]||e(t,n,we,d,r,it(n)?we:"set");u(i,o)}))),s)}}},Tr=kr(pr,Xe,$n),Dr=kr(pr,Xe,bn),Sr=kr(pr,Pt,$n),Cr=function(e,t){return t.each(e),t},Or=function(e,t){return e(t.index(),0)},_r=function(e,t){return!t.find(e)},Rr=function(e,n,r,i){var o=n||e;return t.foldl(Ge("add remove toggle change has set"),function(t,n){var u=n+"Value";return t[n+Jn(e)]=function(t,n){return this[u](o,t,n,r,i,e)},t},{})},Nr=function(e,t){var n=Xe.read(e.element(),$);e.remark(E,t||!!n),e.is(E)&&!n&&(n=ve),qe(e.element(),$,n),n&&(e.registeredAs=n)},Lr=function(e){var t;e.isElement=ge,e.isIframe=ge,e.tagName=ge,e.isWindow||(t=e.element(),(e.isElement=Oe(t))&&(e.tagName=un(t),Zn(e),Nr(e)))},Pr=function(e){var t,n=e.element();e.isWindow=$r(n),e.isWindow&&e.owner&&(e.remark(M,t=!!_n(function(){return n[G]})),e.isTop=!(!window||n!==window.top),e.setAddress(),t&&(e.isTop||e.remark(M,e.sameOrigin())))},Br=function(e,t){var n=e.element();return Pr(e),Lr(e),e.isDocument=ge,e.isFragment=ge,e.unmark(Jr),e.isWindow?void e.mark(Jr):(e.isDocument=Ie(n),e.isFragment=Re(n),e.isDocument||e.isFragment?void e.mark(Jr):void e.remark(Jr,ar(e,t)))},Hr=function(e,t){return Jn(k)+s+t.documentId+s+e},Ur=function(e,t){return'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">'+e+"</head><body>"+t+"</body></html>"},Fr=function(e,t){return nn((t||doc_).querySelectorAll(e))},zr=f.DOMA_SETUP=function(t){var n,r,i,o,u=Ei(t,ve),a=f.Registry();return u.documentId?u.$:(n=Wt(Ot),i=function(e){u.DOMContentLoadedEvent=e,u.mark("ready")},r=function(e,t){var n=t||u;return _i(e,n,ge,u===n,u)},u.documentId=qn("doc"),o=pt(Gt({$:r,makeTree:sn,makeBranch:cn,createElements:hn,createDocumentFragment:ln,registeredElementName:Hr,fragment:function(){return Ei(gn(we,u),u)}},function(e){return function(t){return e(t,u)}}),{returnsManager:function(e){return e===u||e===u[_]?u:Ei(e,u)},createElement:function(e,t,n){return an(e,t,n,u)},iframeContent:Ur,orderEventsByHeirarchy:ve,data:f.Associator(),documentId:u.documentId,document:u,constructor:_i[w],registeredElements:n,templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},compile:function(e,t){return Me(e,t,u)},collectTemplates:function(){return r("script[id]").each(function(e){Me(e.element().id,e.html(),u)}).remove()},unregisteredElement:function(e){a.keep(e.registeredElementName(),e.id,e)},registerElement:function(t,r){var i,o,s=r||{},c=s.events,f=s.prototype,l=s.onCreate||_e,d=s.onDestroy,h=u.registeredElementName(t),p=function(e,t,n){var r=(f&&pt(e,f),c&&e.on(c),n||{});l(e,r);return d&&e.on("destroy",d),r.validCustomElement=ve,r},m=function(e,t,n){Mt(f,function(e,n){t[n]===e&&delete t[n]}),d&&(t.dispatchEvent("destroy"),t.off("destroy",d))};Ot[t]?On({message:"element names must not be used natively by browsers"}):(o=(s["extends"]&&!Ot[s["extends"]]?e.extendDirective(u.registeredElementName(s["extends"]),h,p,m):e.defineDirective(h,p,m))||On({message:"element names can only be registered once per document"}),n[t]=s["extends"]?n[s["extends"]]:le),h=u.registeredElementName(t),(i=a.group(h))&&Mt(i,function(e,t){delete e[h],e.History.drop("category","custom"),e.registerAs(),a.drop(h,t)})}}),pt(u,o),pt(r,o,{isWindow:$r,isDocument:Ie,isFragment:Re,isElement:Oe}),ki(i,u),r)},Qr=function(e,r){var i,o,u=this;return u.length()?Qe(e)&&r===n?(i=$n(e),(u=u.index(0))&&(o=u.getStyle())&&((Un=t.find(Jt[Gn(e)],function(e){return o[e+i]!==n}))?o[Un+i]:o[Un+i])):(u.each(hr(mn(e,r,lr))),u):u},Xr=Ar(Or),Yr=gr(Cr),Kr=Rr(X,Y,Pt),Zr=function(e){var t=this.element();return ji(Fr(e,t),t)},ei=function(e){return e.isValidDomManager||Oe(e)||Re(e)},ti=function(){Zn(this)},ni=function(e,t,n,r,i,o){var u,a,s=r,c=Ai(t),f=je(c,n);if(o)for(s=s||1,u=n;u&&!a;)u=c[f=f+=s],a=fn(u,i);else u=n,u=c[f],u=c[f+s];return u&&e.owner.returnsManager(u)},ri=function(e,t,n){return function(e){var r,i,o=n,u=e||n,a=this,s=a.element(),c=s[t];if(!(r=Qe(u))&&t&&!c)return a.owner.returnsManager(c);if((i=s[V])||c)return ni(a,i,s,o,u,r)}},ii=function(e,t){var n=e.element();return(e.isElement&&e.is(t?O:E)?[n]:[]).concat(Fr(z,n))},oi="isTrusted",ui={props:Ge("altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which"),fixedHooks:{},keyHooks:{props:Ge("char charCode key keyCode"),filter:function(e,t){var n;return e.which==we&&(n=t.charCode,e.which=n!=we?n:t.keyCode),e}},forceHooks:{props:[],filter:function(e,t){return e.value=(t.force||t.webkitForce)/3||0,e}},motionHooks:{props:[],filter:function(){this.watchingMotion=ve}},mouseHooks:{props:Ge("button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement"),filter:function(e,t){var r,i,o=t.button;return e.pageX==we&&t.clientX!=we&&(evntDoc=e.target.ownerDocument||r,r=evntDoc.documentElement,i=evntDoc[me],e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.movementX=t.movementX||0,e.movementY=t.movementY||0,e.layerX=t.layerX||0,e.layerY=t.layerY||0,e.x=t.x||0,e.y=t.y||0,e.which||o===n||(e.which=1&o?1:2&o?3:4&o?2:0),e}},make:function(){var e={};return function(n,r,i){var o,u,a,s,c,f,l,d,h=r.type,p=ui.fixedHooks[h];i.origin;for(p||(ui.fixedHooks[h]=p=Ue.test(h)?this.mouseHooks:He.test(h)?this.keyHooks:We.test(h)?this.forceHooks:Fe.test(h)?this.motionHooks:{}),d=p.props?this.props.concat(p.props):this.props,f=d[P];f--;)l=d[f],c=r[l],c!=we&&(n[l]=c);if(n.originalType=r.type,s=n.target||(n.view?n.view.event.currentTarget:event&&event.currentTarget)||n.delegateTarget.element(),s||(s=n.target=a),3===s[b]&&(n.target=s[V]),$e(p.filter)&&p.filter(n,r),h=Nn[r.type]||r.type,ai.call(n,i.origin,Qt(r.data),h,we,n.timeStamp),"fullscreenchange"===n.type){if(a=n.target,$r(a))a=a[G];else for(;a&&!Ie(a)&&a[V];)a=a[V];n.fullscreenDocument=a,Ie(a)&&(n.isFullScreen=a.fullScreen||a.webkitFullscreenElement||a.mozFullScreenElement||a.fullscreenElement?ve:ge)}return n[oi]=t.has(r,oi)?r[oi]:!Ye,this.watchingMotion?(o=r.acceleration||(u=r.accelerationIncludingGravity)&&{x:u.x-9.81,y:u.y-9.81,z:u.z-9.81},o&&(e.x=o.x,e.y=o.y,e.z=o.z,e.interval=r.interval,e.rotationRate=r.rotationRate),e.x!=we&&(n.motionX=e.x,n.motionY=e.y,n.motionZ=e.z,n.interval=e.interval,n.rotationRate=e.rotationRate),r.alpha!=we&&(e.alpha=r.alpha,e.beta=r.beta,e.gamma=r.gamma,e.absolute=r.absolute),e.alpha!=we&&(n.alpha=e.alpha,n.beta=e.beta,n.gamma=e.gamma,n.absolute=e.absolute),n):n}}()},ai=f.ObjectEvent[w],si=f.DomEvent=f.ObjectEvent.extend("DomEvent",{constructor:function(e,t){var r=this;return si.isInstance(e)?e:(r.originalEvent=e,Be(e.target)&&Be(e.currentTarget)?r.delegateTarget=t.origin.owner.returnsManager(t.target):r.delegateTarget=t.origin,ui.make(r,e,t),r.capturing=t.capturing===n?jn(r):t.capturing,r)},preventDefault:function(){var e=this.originalEvent;this[Wr]=ve,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this[qr]=ve,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this[Gr]=ve,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}}),ci=f.EventsDirective.extend("DomEventsDirective",{remove:function(e,t){e.remove(t),t.selector&&t.mainHandler[J]--},add:function(e,t){var n,r,i=this,o=t.element,u=i.elementHandlers=i.elementHandlers||{},a=e.name,s=u[a],c=t.capture,f=e.find(function(e){return t.handler===e.handler&&e.group===t.group&&t.selector===e.selector});if(!f){if(!s){if(r=function(e){return tr(t.domTarget,e.type,e,c)},o=t.origin.element(),o.addEventListener)o.addEventListener(t.domName,r,c);else{if(c)return;o.attachEvent(t.domName,r)}s=u[a]={fn:r,__delegateCount:0,events:i,currentEvent:we,capturing:c}}t.mainHandler=s,t.selector?(n=s.__delegateCount,++s.__delegateCount,n?e.insertAt(t,n):e.unshift([t])):e.push([t])}},create:function(e,t,n,r){return si(t,{target:e.target,origin:e,capturing:r.capturing})},queue:function(e,t,n){var r;return(r=e.add(t))&&(n.currentTarget=t.temporaryTarget,t.mainHandler.currentEvent=n),r},unQueue:function(e,t,n){return n.currentTarget=t.currentTarget=we,t.mainHandler.currentEvent=we,e.pop(),this},cancelled:function(e,t,n){var r,i,o,u=this;if(!e[P])return u;if(o=e[0],r=o.mainHandler,i=r.__delegateCount,!i||n>i)return u;for(;i>=n;)o=e[n],o.temporaryTarget=we,++n;return u},nextBubble:function(e,t){var n,r=e.element();return!e.isElement||r[V]?ge:e.parent(function(t){return t[re]&&(n=e.owner.returnsManager(t),n.is(O))?[n,ve]:[t[V],ge]})},subset:function(e,t){var n,r,i,o,u,a,s,c,f,l,d=0,h=0,p=[],m=t.origin;if(!e[P])return e.slice(0);if(c=e[0],f=c.mainHandler,l=f.__delegateCount,m=t.origin,u=m.element(),i=t.target,!l||t.target===u)return e.slice(0);for(a=e.slice(l);l>d;)for(c=e[d],++d,s=c.selector,o=-1,n=i;!r&&n&&Oe(n)&&n!==u;){if(++o,fn(n,s))if(r=n,c.temporaryTarget=r,c.parentNodeNumber=o,m.owner.$.orderEventsByHeirarchy)if(h=p[P])for(;c&&p[--h];)p[h].parentNodeNumber<=c.parentNodeNumber&&(p.splice(h+1,0,c),c=we);else p.push(c);else p.push(c);n=n[V]}return p.concat(a)}}),fi=function(e,t){for(var n=ge,r=e;!r.isTop&&!n;)r=t.returnsManager(r.element().parent),r.iframe&&r.is(M)&&(n=!r.iframe.visible());return!n},li=function(e,t){var n=e.directive(i),r=n[t]=n[t]||jt();return r},di=function(e,t,n){return function(r){var i,o=this[oe](r);return o.isElement?i=Yt(o.element())[e]:o.isDocument&&o.element()[me]?i=o.element()[me][t]:o.isWindow&&(i=o.element()[n]),i||0}},hi=(e.extendDirective("registry","History"),f.DomManager=f.Events.extend(v,pt(Kr,{"directive:creation:EventManager":ci,isValidDomManager:ve,$:Zr,registeredElementName:function(){return this.owner.registeredElementName(this.registeredAs)},hasValue:Er(_r),addValue:yr(Cr),removeValue:wr(Cr),toggleValue:br(Cr),changeValue:xr(Cr),on:Vn,once:Pn,off:Bn,append:Wn,prepend:zn,getAttribute:Xr,setAttribute:Yr,removeAttribute:Qn(N),attr:Tr(Cr),data:Dr(Cr),prop:Sr(Cr),html:Kn(B),text:Kn(H),css:Qr,next:ri("next","nextElementSibling",1),prev:ri("prev","previousElementSibling",-1),skip:ri("skip",we,0),height:di(ie,"scrollHeight",ue),width:di(ne,"scrollWidth",ae),siblings:function(e){var t=this,n=gi(e);return t.parent().children(function(e,r,i){return e!==t&&n(e,r,i)})},constructor:function(e,t,n){var r=n,i=this;return i[_]=e,Br(i,r),i.isElement||i.isFragment?(t[v]=i,r=he(e.ownerDocument,ve),i.isElement&&(i.id=e[re])):i.isDocument?r=i:t[v]=i,i.owner=r||ge,i.isIframe&&i.on(F+":src detach attach",ti),i.isWindow&&Pr(i),i.isElement&&i.registerAs(),i},clone:function(){var e=this;return e.isElement?cn(e.element()[U],e.owner):{}},element:function(){return this[_]},elements:function(){return[this[_]]},length:function(){return 1},wrap:function(e){return this.owner.$(e||this)},unwrap:function(){return[this]},parent:function(){var e=function(e,t,n){for(var r,i,o=e,u=o.element(),a=n;u&&!i;)r=t(u,n,a),u=r[0],i=r[1],a=r[2];return i?o.owner.returnsManager(u):void 0},t=function(e,t,n){return n-=1,(0>n||!rt(n)||Ze(n))&&(n=0),[e[V],!n,n]},n=function(e,t,n){var r=e[V];return[r,fn(r,t)]},r={document:function(e,t,n){var r=e[V];return Ie(r)?[r,ve]:Oe(r)?[r[V],ge]:Re(r)?[we,ge]:void 0},window:function(e,t,n,r){var i,o=e[fe];return o?[o,ve]:(i=e[V])?[i,ge]:[ge,ge]},iframe:function(e,t,n){var r,i=e,o=$r(e);return o?i===i.top?[we,ge]:(r=_n(function(){return i.frameElement}),[r,!!r]):[e[fe]]||e[V]}};return function(i){var o,u=this,a=ge;return tt(i)?o=t:Qe(i)?o=r[i]||n:a=i?ve:a,a?e(u,i):(o||(o=t,i=1),e(u,o,i))}}(),contains:function(e){var t,n,r=e,i=this;return $r(r)?ge:Qe(r)?!!Fr(r,i.element())[P]:r.isValidDOMA?!!r.find(i.contains,i):(n=i.owner.returnsManager(r),n.isDocument?n.window()===i:(t=i.element(),!!n.parent(function(e){var n=e[V];return[n,n===t]})))},insertAt:function(e,t){var n=this,r=n.owner,i=ei(e)?r.returnsManager(e):r.$(e).fragment(),o=i.element(),u=t==we?we:n.children(),a=u&&u.index(t)||we,s=a&&a.element()||we,c=n&&n.element(),f=i.children(),l=ii(i,ve);cr(l,r),c&&c.insertBefore(o,s),ar(c,r)&&fr(l,r);return f},window:function(){var e=this;return e.isWindow?e:e.isDocument?e.returnsManager(e.element().defaultView):e.isIframe?e.owner.returnsManager(e.element().contentWindow):e.owner.window()},setAddress:function(e){var t=this;return e=t.address=e||t.address||pn()},emit:function(e,n,r){var i,o=this.window(),u=o.element();return o.is(M)&&(i=Qt(e),r)?(r({srcElement:u,timeStamp:t.now(),data:function(){return i}}),this):(_n(function(){n?u.postMessage(e,n):Mn.error("missing referrer: "+o.address)},Mn.error),this)},sameOrigin:function(){var e,t=this,n=t.element(),r=t.owner.window(),i=r.element();return r===t?ve:t.is(M)?(e=ir(n.location.href),!e&&t.iframe&&(e=ir(t.iframe.src())),!e||e===ir(i.location.href)):ge},registerAs:function(e){var t,n,r,i=this,o=e||i.registeredAs;return!i.is(E)||(t=i.directive("History"))&&o===t.get("category","custom")?i:(r=i.owner.registeredElementName(t.get("category","custom")),i.directiveDestruction(r),t.keep("category","custom",o),n=i.owner.registeredElementName(o),i.directive(n),i[n].validCustomElement||i.owner.unregisteredElement(i),i)},children:function(e,t){var r,i,o=this,u=Ai(o.element());return e===n?t?(u=Zt(u,o.owner.returnsManager,o.owner))&&t.isFragment?t.append(u):t.push.apply(t,u)?t:t:o.wrap(u):(r=gi(e),i=kn(u,function(e,t,n,i){return r(t,n,i)&&e.push(o.owner.returnsManager(t)),e},t||[]),t?i:o.wrap(i))},visible:function(){var e,t,n,r,i,o,u,a=this;return a.is(Jr)?(n=a.getStyle(),0===+n.opacity||n.display===S||"0px"===n.height||"0px"===n.width||n.visibility===C?ge:(t=a.element(),e=t.getBoundingClientRect(),e.height&&e.width?(i=(a.element().ownerDocument||{}).defaultView)?(o=i[ue],u=i[ae],o<e.top||u<e.left||e.right<0||e.bottom<0?ge:(r=a.owner.returnsManager(i),r.isTop?ve:fi(r,a.owner))):ve:ge)):ge},hide:function(){return this.applyStyle("display","none")},show:function(){return this.applyStyle("display","block")},applyStyle:function(e,t,n){return lr(e,t,this,n),this},getStyle:function(e){var t={},n=this,r=n.element();return r&&n.isElement&&(t=Le(r,n.owner.element())),t},remove:function(e,t){var n,r,i=this,o=i.is(T)||ge;return!o&&(n=i.element())&&(r=n[V])?(i.mark(T),i.isIframe&&t&&$e(t)&&setTimeout(St(t,we,i)),e?e.appendChild(n):r.removeChild(n),cr([n],i.owner),i.remark(T,o),i):i},frame:function(e,t){var n=this,r=e||"";return(t||1===r.toLowerCase().split("<!doctype ")[P])&&(r=n.owner.iframeContent(r,t)),n.isIframe?(n.is(Jr)?n.html(r):n.cachedContent=r,n):r},destroy:function(e){var t,n=this,r=n.registeredAs,i=n.element();return n.is(A)?n:(n.mark(A),n.isIframe&&n.owner.data.remove(i.contentWindow),n.remove(we,e),r&&(t=n.owner.registeredElementName(r),n.directiveDestruction(t)),n.directiveDestruction(Ir),n.owner.data.remove(i),n[jr](),n)},index:function(){return this},each:function(e,t){var n=this,r=[n];t?e.call(t,n,0,r):e(n,0,r);return r},find:function(e){var t=this;return e(t,0,[t])?t:n},client:function(){return Yt(this.element())},box:function(e){return Xt(this.element(),e)},flow:function(e){return Ut(this.element(),e)},dispatchEvent:Ke(function(e,t,n){return tr(this,e,t,n)}),toJSON:function(){var e,t,n,r,o,u=this,a=u.owner,s=u.element();return u.isWindow||u.isDocument?{}:(r=u.children(),o={tag:u.isFragment?le:un(s)},(n=r[P]())&&(t=a.element().createDocumentFragment(),_t(r.unwrap(),function(n){var r=n.element();t.insertBefore(r,e||we),e=r}),o.children=r[g]()),s[H]&&(o[H]=s[H]),n&&s.appendChild(t),Ct(s[i],function(e){var t=o.attributes=o.attributes||{};t[Gn(e[I])]=e.nodeValue}),o)}},Gt(nr,function(e,t){return e||(e=t),function(t){var r=this;return t!==n?r.attr(e,t):r.element()[e]}}),Gt(rr,nt),Gt(or,function(e){return nt(e)}),Gt(Ge("add addBack elements push fragment"),function(e){return function(t,n,r){return this.wrap()[e](t,n,r)}})))),pi=function(e,t,n,r,i,o){var u=!!o,a=e.directive(Ir),s=function(e,t){return e&&e.seeker(function(e){t&&t!==e.passedName||i&&e.handler!==i||n&&e.group!==n||r&&e.selector!==r||a.detach(e)})};return t?s(a[Vr][u+D+t],t):Mt(a[Vr],s)},mi=t.eq,vi=t.matches,gi=function(e){return $e(e)?e:Qe(e)?tn[e]||function(t){return fn(t,e)}:tt(e)?function(t,n){return n===e}:it(e)?vi(e):function(){return ve}},yi=function(e){return function(t,n,r){return e(t.element(),n,r)}},wi=function(e,t){return kn(e,function(e,n,r,i){return t(n,r,i)&&e.push(n),e},[])},bi=function(e,t){var n=gi(t);return wi(e,yi(n))},xi=function(e){return $r(e)||Oe(e)||Ie(e)||Re(e)},Ai=function(e){return nn(e.children||e.childNodes)},Ei=function(e,t){return e&&!$r(e)&&e.isValidDomManager?e:he(e,t)},ki=(t.exports({covers:An,center:En,closer:Dn,distance:Tn,escape:De,unescape:Se,box:Xt,isElement:Oe,isWindow:$r,isDocument:Ie,isFragment:Re,unitToNumber:on,numberToUnit:rn}),function(e,t){var n=St(e,t),r=t.window(),i=function(e){t.off("DOMContentLoaded",i),r.off("load",i),n(ji,e)};return t.is("ready")?n(ji,t.DOMContentLoadedEvent):(t.on("DOMContentLoaded",i),r.on("load",i)),t}),Ti=function(e){return function(t,n,r,i,o,u){return this.each(function(a){a[e](t,n,r,i,o,u)})}},Di=Ge("show hide style remove on off once addEventListener removeEventListener dispatchEvent").concat(ur),Si=Ge("tag element client box flow"),Ci=function(e){var t="tag"!==e;return function(n,r){var i=this.index(n);return i&&i[e](t?this.context:r)}},Mi=Ge("isWindow isElement isDocument isFragment"),Oi=function(e){return function(t){var n=this.index(t);return n&&n[e]}},_i=f.DOMA=f.Collection.extend("DOMA",pt(Rr(X,Y,Pt,ve),{isValidDOMA:ve,destroy:function(e){var t=$e(e)?e:we;return this.each(function(e){e.destroy(t)})},constructor:function(e,t,n,r,i){var o=e,u=this,a=u.context=r?t.index(0):i,s=u.owner=i,c=a.element();if(e&&!$r(e)&&e.isValidDOMA)return e;if($e(e)){if(Ie(c))return ki(e,s).wrap()}else n||(Qe(e)?o="<"===e[0]?sn(e,s):Zt(Fr(e,c),s.returnsManager,s):(o=e,hi.isInstance(o)?o=[o]:(p.isInstance(o)&&(o=o.unwrap()),o=xi(o)?[s.returnsManager(o)]:o&&Zt(o,s.returnsManager,s)))),u.reset(o);return u},setValue:gr(Cr),hasValue:Er(_r),addValue:yr(Cr),removeValue:wr(Cr),toggleValue:br(Cr),changeValue:xr(Cr),add:xn(function(e,t){var n=e.owner.$(t);return e.unwrap().concat(n.unwrap())}),addBack:xn(function(e,t){var n=e._previous;return n?(t&&(n=n.filter(t)),e.unwrap().concat(n.unwrap())):e.unwrap().concat([])}),wrap:function(){return this},push:function(){var e=this.context.owner;return this.directive("list").push(kn(arguments,function(t,n){return n?($r(n)?t.push(n):t=t.concat(!$r(n)&&$e(n.unwrap)?n.unwrap():e.returnsManager(n)),t):t},[],e)),this},elements:function(){return Zt(this.unwrap(),function(e){return e.element()})},fragment:function(e){return this.context.returnsManager(gn(e||this.unwrap(),this.context))},filter:xn(function(e,t){return bi(e.unwrap(),t)}),empty:xn(function(e,t){var n=gi(t);return wi(e.unwrap(),yi(function(e,t,r,i){return!n(t,r,i)&&t.remove()}))}),$:xn(function(e,t){var n=[],r=function(t){n.push(e.owner.returnsManager(t))};return Ct(e.unwrap(),function(e){Ct(Fr(t,e.element()),r)})&&n}),children:xn(function(e,t){return kn(e.unwrap(),function(e,n){return n.children(t,e)},[])}),css:Qr,allElements:function(){return!(!this[P]()||Tt(this.unwrap(),function(e){return!e.isElement}))},height:di(ie,"scrollHeight",ue),width:di(ne,"scrollWidth",ae),attr:Tr(Cr),data:Dr(Cr),prop:Sr(Cr),eq:xn(function(e,t){return mi(e.unwrap(),t)}),end:function(){for(var e=this;e._previous;)e=e._previous;return e},getAttribute:Xr,setAttribute:Yr,append:function(e,t){return this.insertAt(e,we,t)},prepend:function(e,t){return this.insertAt(e,0,t)},appendTo:function(e){return ji(e).append(this),this},next:wn("next",1),prev:wn("prev",-1),skip:wn("skip",0),siblings:xn(function(e,t){return dn(e,function(e){return e.siblings(t).unwrap()})}),insertAt:function(e,t,n){var r=this,i=r.owner,o=ei(e)?this.context.returnsManager(e):i.$(e).fragment();return this.each(function(e){var r=o;n&&(r=r.clone()),e.insertAt(r,t)})},replaceWith:xn(function(e,t,n){var r,i,o=e.owner;return(r=Qe(element))||(i=ei(t)?o.returnsManager(t):o.$(t).fragment()),dn(e,function(n,o){var u=t;if(!n.isElement)return[];if(r)u=e.owner.$(t);else if(Wt)u=i.clone();else if(o)return[];return parent=n.parent(),parent.insertAt(u,parent.children().indexOf(n)),n.remove(),u.unwrap()})}),contains:function(e){return!!this.find(function(t){return t.contains(e)})},clone:xn(function(e){return e.foldl(function(e,t){return t.isElement&&e.push(t.clone()),e})}),parent:xn(function(e,t){var n={};return e.foldl(function(e,r){var i;return(i=r.parent(t))&&!n[i[_][re]]&&(n[i[_][re]]=i,e.push(i)),e},[])}),has:function(e){var t=this,n=p(e),r=n[P]();return!!r&&n.find(function(e){return t.posit(e)?ge:ve})},html:yn(B),text:yn(H),map:function(e,t){return p(Zt(this.unwrap(),e,t))},toJSON:function(){return this.results(g).unwrap()},toString:function(){return Ve(this)}},Gt(Di,Ti),Gt(Si,Ci),Gt(Mi,Oi))),Ii=function(e){return e.DOMA=zr(e[G]),e.$=Be(e,"$")?e.$:e.DOMA,e.DOMA},ji=Ii(r);e.undefine(Ii),ji.collectTemplates(),ji(z).each(ji.returnsManager),e.defineDirective(i,function(){return{}})}),e.scope(function(e){var t,n,i,o=e._,u=o.factories,a=0,s=0,c=0,f=o.pI,l=o.posit,d=o.now,h=o.gapSplit,p=h("ms moz webkit o"),m="Timeout",v="clear"+m,g="AnimationFrame",y="request"+g,w="cancel"+g,b=[],x=[],A=o.eachCall,E=o.time,k=o.remove,T=ge,D=ve,S=function(e){var o=Math.max(0,s-c);D?t=r[y](e):n=r.setTimeout(e,o),j.playWhileBlurred&&(i=r.setTimeout(function(){D=ge,e()},o+50))},C=function(){r[w](t),r[v](n),r[v](i),c=o.now(),A(x,"run",c),O()},M=function(){T=ve,S(C)},O=function(){_t(x,function(e,t){(e.halted()||e.stopped()||e.destroyed()||!e.length())&&(e.stop(),x.splice(t,1))}),T=ge,x[P]&&M()},_=function(e){b.push(e)},I=function(e){l(x,e)||x.push(e),T||M()},j=(function(){for(;a<p[P]&&!r[y];++a)r[y]=r[p[a]+"RequestAnimationFrame"],r[w]=r[p[a]+o.upCase(w)]||r[p[a]+"CancelRequestAnimationFrame"];r[y]||(r[y]=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=r.setTimeout(function(){e(t+n)},n);return s=t+n,i}),r[w]||(r[w]=function(e){r[v](e)})}(),u.Looper=u.Directive.extend("Looper",{constructor:function(e){var t=ve,n=ge,r=ge,i=ge,o=this,u=0,a=[],s=[],c=[],f=function(){s[P]&&(a=a.concat(s),s=[])};return pt(o,{length:function(){return a[P]},destroy:function(){return r=ve,this.halt()},destroyed:function(){return r},running:function(){
return!!i},started:function(){return!t},run:function(e){var r=this,o=[];n||t||(f(),Ct(a,function(t){if(-1!==je(c,t))o.push(t);else{if(t.disabled||n)return;i=t,_n(function(){t.fn(e)},function(){r.remove(t.id)})}}),i=ge,f(),Ct(c.concat(o),function(e){k(a,e)}),c=[])},remove:function(e){var t,n=0,r=ge;if(!arguments[P]&&i)return c.push(i),ve;if(tt(e))for(;n<a[P]&&!r;n++)t=a[n],t.id===e&&(l(c,t)||(c.push(t),r=ve));return!!r},stop:function(){return t=ve,this},start:function(){var e=this;return t=ge,n=ge,e},halt:function(){return n=ve,this.stop()},halted:function(){return n},stopped:function(){return t},reset:function(){return a=[],c=[],s=[],this},add:function(e){var t,n=u,r=this;if($e(e))return a[P]||r.start(),I(r),t={fn:r.bind(e),id:n,disabled:ge,bound:r},r.running()?s.push(t):a.push(t),u++,n}}),_(o),o},bind:function(e){return St(e,this)},once:function(e){return this.frames(1,e)},frames:function(e,t){var n,r=0,i=f(e)||1;return!t&&$e(i)&&(t=e,i=1),$e(t)?(n=this.bind(t),(1>i||!tt(i))&&(i=1),this.add(function(e){var t=1;r++,r>=i&&(this.remove(),t=0),n(e,!t,r)})):void 0},tween:function(e,t){var n,r=d(),i=E(e);return i||(i=0),$e(t)?(n=this.bind(t),this.interval(0,function(e){var t=1,o=e-r;o>=i&&(t=0,this.remove()),n(e,Math.min(1,o/i),!t)})):void 0},time:function(e,t){var n;return $e(t)?(n=this.bind(t),this.interval(E(e),function(e){this.remove(),n(e)})):this},frameRate:function(e,t,n){var r,i=this,o=Math.min(n||.8,.8),u=30*o,a=1,s=d(),c=e||125;return $e(t)?(r=i.bind(t),i.add(function(e){var t=1e3/(e-a);t>40&&(u=60*o),u>t&&(s=e),e-s>c&&(i.remove(),r(e)),a=e})):i},interval:function(e,t){var n,r=this,i=d();if($e(t))return e||(e=0),n=r.bind(t),r.add(function(t){t-e>=i&&(i=t,n(t))})}}));j.playWhileBlurred=ve,e.undefine(function(){}),o.exports({AF:j()})}),e.scope(function(e){var t=e._,r=t.factories,i=function(e,t){return this[se](e,t)},o=function(e,t,n,r){var i="delegateEvents"+e,o=r;return o=o?c+o:u,kn(Ge(n),function(e,n){var r=n.split(c);return"@"===r[0][0]?e[E]=s(n,t):(r[1]!==i&&(r.splice(1,0,i),n=r.join(c)),e.events.push(n+o)),e},{events:[],selector:""})},s=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},f=r.Directive.extend("Element",{constructor:function(e){return this.view=e,this},ensure:function(){var e,t=this,n=t.view,i=t[E]||wn(n,"el");i&&(t[E]=i),Ue(i,r.DOMA)||(e=Qe(i)?i:t.create(n.tagName()),t.set(e,ge))},create:function(e){return $.createElement(e)},unset:function(){var e=this;delete e.view.el,delete e.el},set:function(e,t){var n=this;n.view.el=n.el=e},render:function(e){var t=this;return t.el.html(e||""),t},degenerateUIBindings:function(){var e=this;e.ui&&(e.ui=e.view.ui=e.uiBindings,delete e.uiBindings)},generateUIBindings:function(){var e=this,t=e.uiBindings||wn(e.view,"ui");e.ui=e.ui||{};return e.uiBindings?e:(e.uiBindings=t,e)},delegateEvents:function(){var e=this,t=e.view,n=e.el,r=e.elementBindings||wn(t,"elementEvents"),i=[];return e.elementBindings&&(e.elementBindings=r),n?(Mt(r,function(r,u){var s=o(t.cid,e.uiBindings,u),c=s.fn=St(t[r]||r,t);i.push(s),n.on(s.events.join(a),s[E],c)}),e.cachedElementBindings=i,e):e},undelegateEvents:function(){var e=this,t=(e.view,e.el),r=e.cachedElementBindings;return r&&t?(Ct(r,function(e){t.off(e.events.join(a),e[E],e.fn)}),e.cachedElementBindings=n,e):e},delegateTriggers:function(){var e=this,t=e.view,n=e.el,r=e.elementTriggers||wn(t,"elementTriggers"),u=[];return e.elementTriggers||(e.elementTriggers=r),n?(Mt(r,function(r,u){var s=o(t.cid,e.uiBindings,u),c=s.fn=i.bind(t,r);n.on(s.events.join(a),s[E],c)}),void(e.cachedElementTriggers=u)):e},undelegateTriggers:function(){var e=this,t=(e.view,e.el),r=e.cachedElementTriggers;return e.cachedElementTriggers&&t?(Ct(r,function(e){t.off(e.events.join(a),e[E],e.fn)}),e.cachedElementTriggers=n,e):e},setAttributes:function(){var e=this,t=e.view,n=wn(t,"elementAttributes");return t[Y]&&(n=n||{},n[X]=wn(t,Y)),n&&e.el.attr(n),e},bindUI:function(){var e=this,t=e.uiBindings;return e.ui=e.view.ui=Zt(t,e.el.$,e.el),e}});e.defineDirective(k,f[w],function(e,n){e.el.destroy(),e.unset();var r=e.ui;e.degenerateUIBindings(),t.eachCall(r,"destroy")})}),e.scope(function(e){var t=e._,n=t.factories,r=n.Collection,i=(t.protoProp,t.isFragment),o=t.isInstance,a=(t.isFunction,t.isArrayLike,t.reverseParams,t.intendedObject),s=(t.createDocumentFragment,"render"),c=s+"ed",f="constructor",l="bufferedViews",v="RegionManager",g=function(e){return this.list.get(d,e)},w=function(e,t){var n=this;a(e,t,function(e,t){var r=n.list.get(e);r||n.establish(e,t)})},b=n.Parent,x=n.Model,A=function(e,t){return O.isInstance(t)?t:e.Child({model:x.isInstance(t)?t:t=x(t)})},T=function(e,t){var n=e[Pr];return t[V]=we,n.remove(t),e},D=n.Region=b.extend("Region",{constructor:function(e){var t=this;return b[f].call(t,e),t.directive(Pr),t.setElement(),t},add:function(e,t){var n=this,i=r(e).each(n.adopt,n).unwrap();return n.el&&n.render(),i},adopt:function(e){var t,n=this,r=n[Pr];if(!e)return n;if(t=A(n,e),t[V]){if(t[V]===n)return n;T(t[V],t)}return t[V]=n,r.add(t),n},attach:function(e){var t,n,r=this,i=e.el&&e.el.element();return i?(t=i.parentNode,n=r.directive(l),t&&t===r.el.element()?r:(n.els.appendChild(i),r)):r},setElement:function(){var t,n=this,r=n[E],i=n[V][V];return i!==e?i.is(c)&&(t=i.el.$(r)[oe](0)):t=(n._owner$||$)(r)[oe](0),t?(n.directive(k).set(t),n):n},render:function(){var e=this,t=e.directive(l),n=e.directive(k);return e.unmark(c),t.ensure(),e[se]("before:"+s),e.setElement(),n.setAttributes(),e[Pr].eachCall(s),n.el.append(t.els),e.mark(c),t.reset(),e[se](s),e}}),S=function(e){var t=wn(e,"regions"),n=Vt(t)[P]&&e.directive(v).establish(n);return e},C=function(e,t){var n=this;return a(e,t,function(e,t){var r=(r=n.directive(v).get(region_))?r.add(t):On({message:"that region does not exist"})}),n},M=function(e,t){var n=this;return a(e,t,function(e,t){var r=(r=n.directive(v).get(region_))?r.remove(t):On({message:"that region does not exist"})}),n},O=n.View=D.extend("View",{getRegion:Cr.parody(v,"get"),addRegion:Cr.parody(v,"add"),removeRegion:Cr.parody(v,"remove"),tagName:function(){return"div"},filter:function(){return ve},templateIsElement:function(){return ge},template:function(){return u},parentView:function(){for(var e,t=this,n=t[V];e&&n&&!o(n,O);)n=n[V],o(n,O)&&(e=n);return e},addChildView:C,removeChildView:M,constructor:function(e){var t=this;return b[f].call(t,e),t.directive(k).ensure(),this.id=qn(ge,ve),S(this),t},valueOf:function(){return this.model.id},destroy:function(e){var t=this;return t.is(m)?t:(t[se](p),t.mark(m),t[v]&&t[v].list.eachCall(h),t.el&&t.el.destroy(e),t.directiveDestruction(k),b[f][y].destroy.call(t),t)},render:function(){var e,t,n,r,i,o=this,u=!o.is(c);return o.unmark(c),o.filter()?(t=o.directive(k),o[se]("before:"+s),n=o.model&&o.model.toJSON(),r=o.template(n),i=o.el,o.templateIsElement()&&(i=o.el.owner.fragment(r).children(),r=ge),e=i!==t.el,e&&t.unset(),t.degenerateUIBindings(),t.set(i),r!==ge&&t.render(r),t.generateUIBindings(),t.bindUI(),(e||u)&&(t.delegateEvents(),t.delegateTriggers()),t.setAttributes(),S(o),o.mark(c),o[se](s),o[v]&&o[v].list.eachCall(s),t=o[V]&&o[V].attach(o),o):o}}),_=(D[f][y].Child=O,n.View,function(t,n){var r=this,i=r[V];return t?(a(t,n,function(t,n){var o,u=r.list.get(t);u||(u=r.create(t,n)),o=i!==e?i.$(u[E])[oe](0):$(u[E])[oe](0),u.el=o}),r):r}),I=function(e){},j=function(t,n){var r=this,i=r[V],a=n,s=n;return o(s,D)?s:(s=D(pt({selector:a||u},it(s)?s:{},{id:t,parent:r,isAttached:i===e?ve:i.isAttached})),r.list.push(s),r.list.register(d,t,s),s)},R=function(){var e=this;i(e.els)?1:e.resetEls()},N=function(){var e=this.views;return this.resetEls(),e},L=function(){this.els=document.createDocumentFragment()};e.defineDirective(v,function(e){return{list:r(),parent:e,create:j,establish:_,remove:I,add:w,get:g}}),e.defineDirective(l,function(e){return{region:e,els:$.createDocumentFragment(),reset:N,ensure:R,resetEls:L}}),e.extend(kn(Ge("add remove get"),function(e,t){return e[t+"Region"]=Cr.parody(v,t),e},{addChildView:C,removeChildView:M})),e.directive(v)}),e.scope(function(e){var t=e._,i=t.factories,o=t.parse,a=t.stringify,s="%7B",c="isLate",f="documentReady",l="isWindow",h="deferred",p="is"+Jn(h),m="group",v="postTo",g="command",y="runCount",b="flushing",x="connect",A=x+"ed",E="initialize",k="response",T="message",S=Jn(k),C="latest"+S,M="last"+S,O="responded",_=O+"With",I="received",R=j+O,N=j+I,B="queuedMessageIndex",H="receiveReferrer",U="emitReferrer",F="buster",W="packet",q="version",G={},J=function(t){var n,r=t.data(),i=r.postTo;if(r&&e[q]===r[q]&&!e.isDestroyed&&i&&(n=(G[r.group]||{})[r.postTo])){var o,u=r.runCount,a=n.directive(Pr);if(u){if(o=a.get(d,r.messageId),!o)return n;n.response(o,r)}else n.receive(r)}},z=function(e,t){var n=a(e);return t.emitWindow.emit(n,t.get(U),J)},Q=pn(),X="respondHandlers",Y=i.Model.extend(Jn(T),{idAttribute:T+"Id",initialize:function(){var e=this;e[X]=[],e.once(k,e.saveReceived),e.on(h,e.saveDeferred)},saveReceived:function(e){this.responseEventObject=e},saveDeferred:function(e){this.deferredEventObject=e},packet:function(e){var t=this;return arguments[0]?t.set(W,e||{}):t=o(a(t.get(W))),t},defaults:function(){return{command:we+u,packet:{}}},response:function(e){var t=this;return $e(e)?(t.get(_)?e.call(t,t.responseEventObject):t.once(k,e),t):t},deferred:function(e){var t=this,n=t.get(C);return t.on(h,e),n&&n.isDeferred&&e.call(t,t.deferredEventObject),t},send:function(){return this[V].flush()}}),Z={message:J},ee=function(e){return Tt(G,function(t){return Tt(t,function(t,n,r){return e===t&&delete r[n]})})},te=function(){var e=this;e.connectPromise&&e.connectPromise.reject(),e.set(A,ge),e.connectPromise=t.Promise()},ne=function(e){var t=this,n=t.directive(L);n.get(c)&&n.set(B,1),t.respond((e.message||e.origin).id),t.set(A,ve)};i.Buster=i.Model.extend(Jn(F),{Child:Y,bounce:function(e){return this.respond(e.message.id)},connected:function(e){return this.connectPromise.success(e),this},response:function(e,t){var n=e[L];n&&(n.set(C,t),n.get("isResolved")?e[se](h,t.packet):(n.set(_,t),n.set("isResolved",ve),e[se](k,t.packet)))},receive:function(e){var t,n=this,r=n.receiveHistory;return e.originMessageId=e.messageId,e.messageId=r.length(),e.isDeferred=ge,t=new Y(e),r.push(t),r.register(d,e.messageId,t),n[se](N),n[se](I+D+e.command,e.packet,{message:t}),n[se](I),n},setGroup:function(){var e=this,t=e.get(m),n=e.get(d),r=(ee(e),G[t]=G[t]||{});return r[n]=e,e},defaults:function(){return{documentReady:ve,version:e[q],group:Q,connected:ge,friendly:ge}},defineWindows:function(e,t){var n=this,r=n.directive(L);e&&e[l]&&(n.receiveWindow&&n.receiveWindow.off(Z),n.receiveWindow=e.on(Z),n.set(f,ve)),t&&t[l]&&(n.emitWindow=t,r.set(v,r.get(v)||n.emitWindow.address))},defineIframe:function(e){var t,n=this;e&&e.isIframe&&(n.iframe=e,e.is("attached")&&(t=e.window())&&n.defineWindows(we,t),e&&n.setupIframe())},setupIframe:function(){var e,n=this,r=n.iframe,i=n.directive(L),o=n.receiveWindow.element().location.href.split(s),c=(o.shift(),o.unshift(u),o.join(s)),f=ar(i.get(H)||c).origin,l=i.get("iframeSrc"),d=i.get("iframeContent"),h={postTo:n.id,useTop:!1,useParent:!0,emitReferrer:f,id:i.get(v),group:i.get(m)};i.set(H,f),l&&(e=i.set(U,t.reference(l)),h.receiveReferrer=e),l&&r.src(dn({url:l,hash:h})),d&&(r.data(F,encodeURI(a(h))),r.html(d),n.begin(E))},stripData:function(){var e,t,n,r=this,i=r.receiveWindow;i&&i[l]&&(n=i.element().location.hash.slice(1),e=n.split(s),t=e.shift(),e.unshift(u),n=e.join(s),r.set(o(decodeURI(n||_n(function(){return i.parent("iframe").data(F)})))))},constructor:function(e,t,r,o){var u=this,a=r||{},s=$(e).index(0),f=$(t).index(0);return a.id=a.id===n?pn():a.id,u.receiveHistory=i.Collection(),te.call(u),i.Model[w].call(u,a),u.once("change:connected",function(e){u.connectPromise.fulfill(u.directive(Pr).first())}),u.on({"change:connected change:documentReady":"flush","received:update":"bounce","received:unload":"destroy",destroy:te,"received:initialize received:connect":ne,"change:group change:id":"setGroup"}),u.on(o),u.setGroup(),s&&s[l]&&u.defineWindows(s),f[l]?u.defineWindows(we,f):u.defineIframe(f),u.get("strip")&&u.stripData(),u.set(B,0),u.iframe?u.get(c)&&u.begin(E):u.begin(x),u},flush:function(){var e,t,r,i,o=this,u=o.directive(L),a=u.get(B),s=u.get(A),c=u.get("initedFromPartner"),l=u.get(b);if(!u.get(f))return o;if(!c||s&&(s||!a)&&!l){for(u.set(b,ve),t=o.directive(Pr),r=t[P](),i=t.index(a);i&&r>a;)i.directive(L).set(y,0),a||s?(i=t.index(a),a=u.get(B)+1||0,u.set(B,a),z(i,o)):(r=n,e=i.get(g),e!==x&&e!==E||z(i,o));o.set(b,ge),o.get(A)&&t[P]()>o.get(B)&&o.flush()}return o},create:function(e,t,n){var r=this,i=r.add(pt({command:e,packet:t},r.defaultMessage(),n));return i[0]},sync:function(e){return this.create("update").response(e).send()},defaultMessage:function(){var n=this;return{from:n.get(d),postTo:n.get(v),group:n.get(m),version:e[q],messageId:n.directive(Pr)[P](),timeStamp:t.now()}},respond:function(e,n){var r,i,o,u=this,a=u.receiveHistory.get(d,e);return a?(u[se](R),r=a.directive(L),r.set(y,(r.get(y)||0)+1),i=pt(ve,wn(u,"package")||{},n),o=pt(u.defaultMessage(),{from:a.get(v),postTo:a.get("from"),messageId:a.get("originMessageId"),isResponse:ve,isDeferred:a.get(p),runCount:a.get(y),command:a.get(g),timeStamp:t.now(),packet:i,version:a.get(q)}),r.set(M,o.timeStamp),r.set(p,ve),u.set(M,o.timeStamp),z(o,u),u[se](O,i),u):u},begin:function(e){var t=this,n=t.directive(Pr);return n.index(0)||t.create(e).response(function(e){ne.call(t,e)}).send()}});e.topAccess()&&$(r[K]).on(T,J)}),application.scope().run(function(e,t,n){var r,i,o,u=0,a=ge,s=t.console,c=t.stringify,f=t.negate,l=[],d=[],h=[],p=[],m=[],v=[],g=[],y=[],w=[],b=[],x=function(e,t){return function(){var n={};return e.apply(this,arguments)?g.push(n):(++u,n=new Error(t.apply(this,arguments)),s.error(n),y.push(n)),v.push(n),this}},A=function(e){var n=!1;return t.wraptry(e,function(){n=!0},function(){return n})},E=function(){x(A,function(){return"expected an error to be thrown"})},k=function(){x(f(A),function(){return"expected an error not to be thrown"})},T=function(e){return t.isEqual(i,e)},D=x(T,function(e){return"expected "+i+" to equal "+e}),S=x(f(T),function(e){return"expected "+c(i)+" not to equal "+c(e)}),C=function(e){return i===e},M=x(C,function(e){return"expected "+c(i)+" to be strictly equal to "+c(e)}),O=x(f(C),function(e){return"expected "+c(i)+" to be strictly equal to "+c(e)}),_=function(e){return i=e,{toEqual:D,toThrow:E,toBe:M,not:{toEqual:S,toThrow:k,toBe:O}}},I=function(e){return function(t){e.erred=t,s.error(t)}},j=function(e){var n;e.endTime=t.performance.now(),p.pop(),u||e.erred?h.push(e):d.push(e),u=0,H(e.afterStack),a=ge,m[0]&&(n=m.shift(),V(n)),W()},R=function(e,n){p.push(e),w.push([]),b.push([]),t.wraptry(n,s.error,function(){b.pop(),w.pop(),p.pop()})},N=function(e){var t=e.toString(),n=t.split("("),r=(n.shift(),n.join("("));n=r.split(")");var i=n.shift();return i.trim().length},L=function(e){s.error("timeout:\n"+e.join("\n"))},V=function(e){a=ve,e.runId=setTimeout(function(){var n,i,o,u;r=e,H(e.beforeStack),o=I(e),N(e.handler)?(e.timeoutId=setTimeout(function(){L(e.current),j(e)},5e3),i=function(){e.handler(function(){clearTimeout(e.timeoutId),j(e)})},n=o,o=function(t){n(t),j(e)},u=t.noop):(i=e.handler,u=function(){j(e)}),e.startTime=t.performance.now(),t.wraptry(i,o,u)})},B=function(e,t){var n,r;return p.push(e),n=p.slice(0),p.pop(),r={string:e,handler:t,current:n,beforeStack:w.slice(0),afterStack:b.slice(0)},l.push(r),a?void m.push(r):void V(r)},H=function(e){for(var t=0;t<e[P];t++)for(var n=e[t],r=0;r<n[P];r++)n[r]()},U=function(e){w[w[P]-1].push(e)},F=function(e){b[b[P]-1].push(e)},W=function(){o=void 0===o?setTimeout(function e(){var t,n=0,r=0;if(a)o=setTimeout(e,100);else{for(;n<l[P];n++)t=l[n],r+=t.endTime-t.startTime;s.log(g.length+" successful expectations\n"+y.length+" failed expectations\n"+v.length+" expectations ran\n"+d.length+" out of "+l.length+" tests passed\nin "+r+"ms")}},100):o};t.exports({afterEach:F,beforeEach:U,expect:_,describe:R,it:B})})});
//# sourceMappingURL=odette.min.js.map
